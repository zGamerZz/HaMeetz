exports.id=44,exports.ids=[44],exports.modules={14816:(e,t,i)=>{"use strict";let n,r,a,s,o,l,c,u,d,h,p;i.d(t,{PHQ:()=>yg,lkp:()=>yV,GUv:()=>yE,Uq0:()=>U,Avh:()=>yu,ZXw:()=>vp,gy1:()=>vy,N_D:()=>vr,c3T:()=>yQ,hbc:()=>vs,GRk:()=>ua,FoN:()=>y5,W7t:()=>uJ,dvl:()=>dr,b12:()=>u8});var f,m,g,y,v,b,w,x,k,S,_,R,E,T,C,P,A,I,O,j,N,L,D,U,q,M,F,$={};i.r($),i.d($,{fixNegotiationNeeded:()=>eh,shimAddTrackRemoveTrack:()=>eu,shimAddTrackRemoveTrackWithNative:()=>ec,shimGetDisplayMedia:()=>en,shimGetSendersWithDtmf:()=>es,shimGetStats:()=>eo,shimGetUserMedia:()=>ei,shimMediaStream:()=>er,shimOnTrack:()=>ea,shimPeerConnection:()=>ed,shimSenderReceiverGetStats:()=>el});var B={};i.r(B),i.d(B,{shimAddTransceiver:()=>ex,shimCreateAnswer:()=>e_,shimCreateOffer:()=>eS,shimGetDisplayMedia:()=>ef,shimGetParameters:()=>ek,shimGetUserMedia:()=>ep,shimOnTrack:()=>em,shimPeerConnection:()=>eg,shimRTCDataChannel:()=>ew,shimReceiverGetStats:()=>ev,shimRemoveStream:()=>eb,shimSenderGetStats:()=>ey});var K={};i.r(K),i.d(K,{shimAudioContext:()=>ej,shimCallbacksAPI:()=>eT,shimConstraints:()=>eP,shimCreateOfferLegacy:()=>eO,shimGetUserMedia:()=>eC,shimLocalStreamsAPI:()=>eR,shimRTCIceServerUrls:()=>eA,shimRemoteStreamsAPI:()=>eE,shimTrackEventTransceiver:()=>eI});var z={};i.r(z),i.d(z,{removeExtmapAllowMixed:()=>e$,shimAddIceCandidateNullOrEmpty:()=>eB,shimConnectionState:()=>eF,shimMaxMessageSize:()=>eq,shimParameterlessSetLocalDescription:()=>eK,shimRTCIceCandidate:()=>eD,shimRTCIceCandidateRelayProtocol:()=>eU,shimSendThrowTypeError:()=>eM});var V={};i.r(V),i.d(V,{hasBrowserEnv:()=>iy,hasStandardBrowserEnv:()=>ib,hasStandardBrowserWebWorkerEnv:()=>iw,navigator:()=>iv,origin:()=>ix});let W=!0,H=!0;function G(e,t,i){let n=e.match(t);return n&&n.length>=i&&parseInt(n[i],10)}function J(e,t,i){if(!e.RTCPeerConnection)return;let n=e.RTCPeerConnection.prototype,r=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return r.apply(this,arguments);let a=e=>{let t=i(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,a),r.apply(this,[e,a])};let a=n.removeEventListener;n.removeEventListener=function(e,i){if(e!==t||!this._eventMap||!this._eventMap[t]||!this._eventMap[t].has(i))return a.apply(this,arguments);let n=this._eventMap[t].get(i);return this._eventMap[t].delete(i),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,a.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function Y(e){return"boolean"!=typeof e?Error("Argument type: "+typeof e+". Please use a boolean."):(W=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function X(e){return"boolean"!=typeof e?Error("Argument type: "+typeof e+". Please use a boolean."):(H=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Q(){"object"!=typeof window||W||"undefined"==typeof console||"function"!=typeof console.log||console.log.apply(console,arguments)}function Z(e,t){H&&console.warn(e+" is deprecated, please use "+t+" instead.")}function ee(e){return"[object Object]"===Object.prototype.toString.call(e)}function et(e,t,i){let n=i?"outbound-rtp":"inbound-rtp",r=new Map;if(null===t)return r;let a=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)}),a.forEach(t=>{e.forEach(i=>{i.type===n&&i.trackId===t.id&&function e(t,i,n){!i||n.has(i.id)||(n.set(i.id,i),Object.keys(i).forEach(r=>{r.endsWith("Id")?e(t,t.get(i[r]),n):r.endsWith("Ids")&&i[r].forEach(i=>{e(t,t.get(i),n)})}))}(e,i,r)})}),r}function ei(e,t){let i=e&&e.navigator;if(!i.mediaDevices)return;let n=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;let t={};return Object.keys(e).forEach(i=>{if("require"===i||"advanced"===i||"mediaSource"===i)return;let n="object"==typeof e[i]?e[i]:{ideal:e[i]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);let r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];let e={};"number"==typeof n.ideal?(e[r("min",i)]=n.ideal,t.optional.push(e),(e={})[r("max",i)]=n.ideal):e[r("",i)]=n.ideal,t.optional.push(e)}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[r("",i)]=n.exact):["min","max"].forEach(e=>{void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,i)]=n[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},r=function(e,r){if(t.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){let t=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"==typeof e.video){let a=e.video.facingMode;a=a&&("object"==typeof a?a:{ideal:a});let s=t.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&!(i.mediaDevices.getSupportedConstraints&&i.mediaDevices.getSupportedConstraints().facingMode&&!s)){let t;if(delete e.video.facingMode,"environment"===a.exact||"environment"===a.ideal?t=["back","rear"]:("user"===a.exact||"user"===a.ideal)&&(t=["front"]),t)return i.mediaDevices.enumerateDevices().then(i=>{let s=(i=i.filter(e=>"videoinput"===e.kind)).find(e=>t.some(t=>e.label.toLowerCase().includes(t)));return!s&&i.length&&t.includes("back")&&(s=i[i.length-1]),s&&(e.video.deviceId=a.exact?{exact:s.deviceId}:{ideal:s.deviceId}),e.video=n(e.video),Q("chrome: "+JSON.stringify(e)),r(e)})}e.video=n(e.video)}return Q("chrome: "+JSON.stringify(e)),r(e)},a=function(e){return t.version>=64?e:{name:({PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"})[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(i.getUserMedia=(function(e,t,n){r(e,e=>{i.webkitGetUserMedia(e,t,e=>{n&&n(a(e))})})}).bind(i),i.mediaDevices.getUserMedia){let e=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(t){return r(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(a(e))))}}}function en(e,t){if((!e.navigator.mediaDevices||!("getDisplayMedia"in e.navigator.mediaDevices))&&e.navigator.mediaDevices){if("function"!=typeof t){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(i){return t(i).then(t=>{let n=i.video&&i.video.width,r=i.video&&i.video.height,a=i.video&&i.video.frameRate;return i.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:a||3}},n&&(i.video.mandatory.maxWidth=n),r&&(i.video.mandatory.maxHeight=r),e.navigator.mediaDevices.getUserMedia(i)})}}}function er(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function ea(e){if("object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)J(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e));else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});let t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",i=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===i.track.id):{track:i.track};let r=new Event("track");r.track=i.track,r.receiver=n,r.transceiver={receiver:n},r.streams=[t.stream],this.dispatchEvent(r)}),t.stream.getTracks().forEach(i=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===i.id):{track:i};let r=new Event("track");r.track=i,r.receiver=n,r.transceiver={receiver:n},r.streams=[t.stream],this.dispatchEvent(r)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}}function es(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){let t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};let i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let r=i.apply(this,arguments);return r||(r=t(this,e),this._senders.push(r)),r};let n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);let t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}let i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};let n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{let t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){let t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function eo(e){if(!e.RTCPeerConnection)return;let t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){let[e,i,n]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0==arguments.length||"function"!=typeof e))return t.apply(this,[]);let r=function(e){let t={};return e.result().forEach(e=>{let i={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(t=>{i[t]=e.stat(t)}),t[i.id]=i}),t},a=function(e){return new Map(Object.keys(e).map(t=>[t,e[t]]))};return arguments.length>=2?t.apply(this,[function(e){i(a(r(e)))},e]):new Promise((e,i)=>{t.apply(this,[function(t){e(a(r(t)))},i])}).then(i,n)}}function el(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){let t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});let i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){let e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){let e=this;return this._pc.getStats().then(t=>et(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){let t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),J(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){let e=this;return this._pc.getStats().then(t=>et(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;let t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){let e,t,i;let n=arguments[0];return(this.getSenders().forEach(t=>{t.track===n&&(e?i=!0:e=t)}),this.getReceivers().forEach(e=>(e.track===n&&(t?i=!0:t=e),e.track===n)),i||e&&t)?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):e?e.getStats():t?t.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function ec(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};let t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){if(!i)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};let n=t.apply(this,arguments);return this._shimmedLocalStreams[i.id]?-1===this._shimmedLocalStreams[i.id].indexOf(n)&&this._shimmedLocalStreams[i.id].push(n):this._shimmedLocalStreams[i.id]=[i,n],n};let i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});let t=this.getSenders();i.apply(this,arguments);let n=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(n)};let n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};let r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{let i=this._shimmedLocalStreams[t].indexOf(e);-1!==i&&this._shimmedLocalStreams[t].splice(i,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),r.apply(this,arguments)}}function eu(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return ec(e);let i=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){let e=i.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};let n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){let i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}n.apply(this,[t])};let r=e.RTCPeerConnection.prototype.removeStream;function a(e,t){let i=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{let n=e._reverseStreams[t],r=e._streams[n.id];i=i.replace(RegExp(r.id,"g"),n.id)}),new RTCSessionDescription({type:t.type,sdp:i})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,i){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");let n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(e=>e.track===t))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};let r=this._streams[i.id];if(r)r.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{let n=new e.MediaStream([t]);this._streams[i.id]=n,this._reverseStreams[n.id]=i,this.addStream(n)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach(function(t){let i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){let e=arguments,t=arguments.length&&"function"==typeof arguments[0];return t?i.apply(this,[t=>{let i=a(this,t);e[0].apply(null,[i])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):i.apply(this,arguments).then(e=>a(this,e))}})[t]});let s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){var e,t;let i;return arguments.length&&arguments[0].type&&(arguments[0]=(e=this,t=arguments[0],i=t.sdp,Object.keys(e._reverseStreams||[]).forEach(t=>{let n=e._reverseStreams[t],r=e._streams[n.id];i=i.replace(RegExp(n.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:i}))),s.apply(this,arguments)};let o=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){let e=o.get.apply(this);return""===e.type?e:a(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){let t;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(i=>{this._streams[i].getTracks().find(t=>e.track===t)&&(t=this._streams[i])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function ed(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){let i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}})[t]})}function eh(e,t){J(e,"negotiationneeded",e=>{let i=e.target;if(!(t.version<72)&&(!i.getConfiguration||"plan-b"!==i.getConfiguration().sdpSemantics)||"stable"===i.signalingState)return e})}function ep(e,t){let i=e&&e.navigator,n=e&&e.MediaStreamTrack;if(i.getUserMedia=function(e,t,n){Z("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),i.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in i.mediaDevices.getSupportedConstraints())){let e=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])},t=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(i){return"object"==typeof i&&"object"==typeof i.audio&&(e((i=JSON.parse(JSON.stringify(i))).audio,"autoGainControl","mozAutoGainControl"),e(i.audio,"noiseSuppression","mozNoiseSuppression")),t(i)},n&&n.prototype.getSettings){let t=n.prototype.getSettings;n.prototype.getSettings=function(){let i=t.apply(this,arguments);return e(i,"mozAutoGainControl","autoGainControl"),e(i,"mozNoiseSuppression","noiseSuppression"),i}}if(n&&n.prototype.applyConstraints){let t=n.prototype.applyConstraints;n.prototype.applyConstraints=function(i){return"audio"===this.kind&&"object"==typeof i&&(e(i=JSON.parse(JSON.stringify(i)),"autoGainControl","mozAutoGainControl"),e(i,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[i])}}}}function ef(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||!e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=function(i){if(!(i&&i.video)){let e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===i.video?i.video={mediaSource:t}:i.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(i)})}function em(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function eg(e,t){if("object"!=typeof e||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){let i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}})[t]});let i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){let[e,r,a]=arguments;return n.apply(this,[e||null]).then(e=>{if(t.version<53&&!r)try{e.forEach(e=>{e.type=i[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach((t,n)=>{e.set(n,Object.assign({},t,{type:i[t.type]||t.type}))})}return e}).then(r,a)}}function ey(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;let t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});let i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){let e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function ev(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;let t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),J(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function eb(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){Z("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function ew(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function ex(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]);let i=(e=[...e]).length>0;i&&e.forEach(e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw RangeError("max_framerate must be >= 0.0")});let n=t.apply(this,arguments);if(i){let{sender:t}=n,i=t.getParameters();"encodings"in i&&(1!==i.encodings.length||0!==Object.keys(i.encodings[0]).length)||(i.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(i).then(()=>{delete t.sendEncodings}).catch(()=>{delete t.sendEncodings})))}return n})}function ek(e){if(!("object"==typeof e&&e.RTCRtpSender))return;let t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){let e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function eS(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function e_(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function eR(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){let t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(i=>t.call(this,i,e)),e.getVideoTracks().forEach(i=>t.call(this,i,e))},e.RTCPeerConnection.prototype.addTrack=function(e,...i){return i&&i.forEach(e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);let t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);let i=e.getTracks();this.getSenders().forEach(e=>{i.includes(e.track)&&this.removeTrack(e)})})}}function eE(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);let t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})})}});let t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){let e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);let i=new Event("addstream");i.stream=t,e.dispatchEvent(i)})}),t.apply(e,arguments)}}}function eT(e){if("object"!=typeof e||!e.RTCPeerConnection)return;let t=e.RTCPeerConnection.prototype,i=t.createOffer,n=t.createAnswer,r=t.setLocalDescription,a=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){let n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),Promise.resolve()):r},t.createAnswer=function(e,t){let i=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[i]);return t?(r.then(e,t),Promise.resolve()):r};let o=function(e,t,i){let n=r.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n};t.setLocalDescription=o,o=function(e,t,i){let n=a.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n},t.setRemoteDescription=o,o=function(e,t,i){let n=s.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n},t.addIceCandidate=o}function eC(e){let t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){let e=t.mediaDevices,i=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>i(eP(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(e,i,n){t.mediaDevices.getUserMedia(e).then(i,n)}).bind(t))}function eP(e){return e&&void 0!==e.video?Object.assign({},e,{video:function e(t){return ee(t)?Object.keys(t).reduce(function(i,n){let r=ee(t[n]),a=r?e(t[n]):t[n],s=r&&!Object.keys(a).length;return void 0===a||s?i:Object.assign(i,{[n]:a})},{}):t}(e.video)}):e}function eA(e){if(!e.RTCPeerConnection)return;let t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,i){if(e&&e.iceServers){let t=[];for(let i=0;i<e.iceServers.length;i++){let n=e.iceServers[i];void 0===n.urls&&n.url?(Z("RTCIceServer.url","RTCIceServer.urls"),(n=JSON.parse(JSON.stringify(n))).urls=n.url,delete n.url,t.push(n)):t.push(e.iceServers[i])}e.iceServers=t}return new t(e,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function eI(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function eO(e){let t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);let t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);let i=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&i?"sendrecv"===i.direction?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":"recvonly"===i.direction&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):!0!==e.offerToReceiveVideo||i||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function ej(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var eN=i(7737),eL=i.n(eN);function eD(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;let t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){let i=new t(e),n=eL().parseCandidate(e.candidate);for(let e in n)e in i||Object.defineProperty(i,e,{value:n[e]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,J(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function eU(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||J(e,"icecandidate",e=>{if(e.candidate){let t=eL().parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol=({0:"tls",1:"tcp",2:"udp"})[t.priority>>24])}return e})}function eq(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});let i=function(e){if(!e||!e.sdp)return!1;let t=eL().splitSections(e.sdp);return t.shift(),t.some(e=>{let t=eL().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})},n=function(e){let t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return -1;let i=parseInt(t[1],10);return i!=i?-1:i},r=function(e){let i=65536;return"firefox"===t.browser&&(i=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),i},a=function(e,i){let n=65536;"firefox"===t.browser&&57===t.version&&(n=65535);let r=eL().matchPrefix(e.sdp,"a=max-message-size:");return r.length>0?n=parseInt(r[0].substring(19),10):"firefox"===t.browser&&-1!==i&&(n=2147483637),n},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){let{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(i(arguments[0])){let e;let t=n(arguments[0]),i=r(t),s=a(arguments[0],t);e=0===i&&0===s?Number.POSITIVE_INFINITY:0===i||0===s?Math.max(i,s):Math.min(i,s);let o={};Object.defineProperty(o,"maxMessageSize",{get:()=>e}),this._sctp=o}return s.apply(this,arguments)}}function eM(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){let i=e.send;e.send=function(){let n=arguments[0],r=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return i.apply(e,arguments)}}let i=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){let e=i.apply(this,arguments);return t(e,this),e},J(e,"datachannel",e=>(t(e.channel,e.target),e))}function eF(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;let t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return({completed:"connected",checking:"connecting"})[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{let i=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{let t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;let i=new Event("connectionstatechange",e);t.dispatchEvent(i)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),i.apply(this,arguments)}})}function e$(e,t){if(!e.RTCPeerConnection||"chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)return;let i=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){let i=t.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:i}):t.sdp=i}return i.apply(this,arguments)}}function eB(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let i=e.RTCPeerConnection.prototype.addIceCandidate;i&&0!==i.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function eK(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let i=e.RTCPeerConnection.prototype.setLocalDescription;i&&0!==i.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return i.apply(this,arguments);if(!(e={type:e.type,sdp:e.sdp}).type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?i.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then(e=>i.apply(this,[e]))})}!function({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){let i=function(e){let t={browser:null,version:null};if(void 0===e||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;let{navigator:i}=e;return i.mozGetUserMedia?(t.browser="firefox",t.version=G(i.userAgent,/Firefox\/(\d+)\./,1)):i.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection?(t.browser="chrome",t.version=G(i.userAgent,/Chrom(e|ium)\/(\d+)\./,2)):e.RTCPeerConnection&&i.userAgent.match(/AppleWebKit\/(\d+)\./)?(t.browser="safari",t.version=G(i.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype):t.browser="Not a supported browser.",t}(e),n={browserDetails:i,commonShim:z,extractVersion:G,disableLog:Y,disableWarnings:X,sdp:eN};switch(i.browser){case"chrome":if(!$||!ed||!t.shimChrome){Q("Chrome shim is not included in this adapter release.");break}if(null===i.version){Q("Chrome shim can not determine version, not shimming.");break}Q("adapter.js shimming chrome."),n.browserShim=$,eB(e,i),eK(e,i),ei(e,i),er(e,i),ed(e,i),ea(e,i),eu(e,i),es(e,i),eo(e,i),el(e,i),eh(e,i),eD(e,i),eU(e,i),eF(e,i),eq(e,i),eM(e,i),e$(e,i);break;case"firefox":if(!B||!eg||!t.shimFirefox){Q("Firefox shim is not included in this adapter release.");break}Q("adapter.js shimming firefox."),n.browserShim=B,eB(e,i),eK(e,i),ep(e,i),eg(e,i),em(e,i),eb(e,i),ey(e,i),ev(e,i),ew(e,i),ex(e,i),ek(e,i),eS(e,i),e_(e,i),eD(e,i),eF(e,i),eq(e,i),eM(e,i);break;case"safari":if(!K||!t.shimSafari){Q("Safari shim is not included in this adapter release.");break}Q("adapter.js shimming safari."),n.browserShim=K,eB(e,i),eK(e,i),eA(e,i),eO(e,i),eT(e,i),eR(e,i),eE(e,i),eI(e,i),eC(e,i),ej(e,i),eD(e,i),eU(e,i),eq(e,i),eM(e,i),e$(e,i);break;default:Q("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window});let ez=Symbol.for("protobuf-ts/message-type");function eV(e){let t=!1,i=[];for(let n=0;n<e.length;n++){let r=e.charAt(n);"_"==r?t=!0:/\d/.test(r)?(i.push(r),t=!0):t?(i.push(r.toUpperCase()),t=!1):0==n?i.push(r.toLowerCase()):i.push(r)}return i.join("")}function eW(e){var t,i,n,r;return e.localName=null!==(t=e.localName)&&void 0!==t?t:eV(e.name),e.jsonName=null!==(i=e.jsonName)&&void 0!==i?i:eV(e.name),e.repeat=null!==(n=e.repeat)&&void 0!==n?n:w.NO,e.opt=null!==(r=e.opt)&&void 0!==r?r:!e.repeat&&!e.oneof&&"message"==e.kind,e}(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(v||(v={})),function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"}(b||(b={})),function(e){e[e.NO=0]="NO",e[e.PACKED=1]="PACKED",e[e.UNPACKED=2]="UNPACKED"}(w||(w={}));class eH{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}prepare(){if(this.data)return;let e=[],t=[],i=[];for(let n of this.fields)if(n.oneof)i.includes(n.oneof)||(i.push(n.oneof),e.push(n.oneof),t.push(n.oneof));else switch(t.push(n.localName),n.kind){case"scalar":case"enum":(!n.opt||n.repeat)&&e.push(n.localName);break;case"message":n.repeat&&e.push(n.localName);break;case"map":e.push(n.localName)}this.data={req:e,known:t,oneofs:Object.values(i)}}is(e,t,i=!1){if(t<0)return!0;if(null==e||"object"!=typeof e)return!1;this.prepare();let n=Object.keys(e),r=this.data;if(n.length<r.req.length||r.req.some(e=>!n.includes(e))||!i&&n.some(e=>!r.known.includes(e)))return!1;if(t<1)return!0;for(let n of r.oneofs){let r=e[n];if(!function(e){if("object"!=typeof e||null===e||!e.hasOwnProperty("oneofKind"))return!1;switch(typeof e.oneofKind){case"string":if(void 0===e[e.oneofKind])return!1;return 2==Object.keys(e).length;case"undefined":return 1==Object.keys(e).length;default:return!1}}(r))return!1;if(void 0===r.oneofKind)continue;let a=this.fields.find(e=>e.localName===r.oneofKind);if(!a||!this.field(r[r.oneofKind],a,i,t))return!1}for(let n of this.fields)if(void 0===n.oneof&&!this.field(e[n.localName],n,i,t))return!1;return!0}field(e,t,i,n){let r=t.repeat;switch(t.kind){case"scalar":if(void 0===e)return t.opt;if(r)return this.scalars(e,t.T,n,t.L);return this.scalar(e,t.T,t.L);case"enum":if(void 0===e)return t.opt;if(r)return this.scalars(e,v.INT32,n);return this.scalar(e,v.INT32);case"message":if(void 0===e)break;if(r)return this.messages(e,t.T(),i,n);return this.message(e,t.T(),i,n);case"map":if("object"!=typeof e||null===e)return!1;if(n<2)break;if(!this.mapKeys(e,t.K,n))return!1;switch(t.V.kind){case"scalar":return this.scalars(Object.values(e),t.V.T,n,t.V.L);case"enum":return this.scalars(Object.values(e),v.INT32,n);case"message":return this.messages(Object.values(e),t.V.T(),i,n)}}return!0}message(e,t,i,n){return i?t.isAssignable(e,n):t.is(e,n)}messages(e,t,i,n){if(!Array.isArray(e))return!1;if(n<2)return!0;if(i){for(let i=0;i<e.length&&i<n;i++)if(!t.isAssignable(e[i],n-1))return!1}else for(let i=0;i<e.length&&i<n;i++)if(!t.is(e[i],n-1))return!1;return!0}scalar(e,t,i){let n=typeof e;switch(t){case v.UINT64:case v.FIXED64:case v.INT64:case v.SFIXED64:case v.SINT64:switch(i){case b.BIGINT:return"bigint"==n;case b.NUMBER:return"number"==n&&!isNaN(e);default:return"string"==n}case v.BOOL:return"boolean"==n;case v.STRING:return"string"==n;case v.BYTES:return e instanceof Uint8Array;case v.DOUBLE:case v.FLOAT:return"number"==n&&!isNaN(e);default:return"number"==n&&Number.isInteger(e)}}scalars(e,t,i,n){if(!Array.isArray(e))return!1;if(i<2)return!0;if(Array.isArray(e)){for(let r=0;r<e.length&&r<i;r++)if(!this.scalar(e[r],t,n))return!1}return!0}mapKeys(e,t,i){let n=Object.keys(e);switch(t){case v.INT32:case v.FIXED32:case v.SFIXED32:case v.SINT32:case v.UINT32:return this.scalars(n.slice(0,i).map(e=>parseInt(e)),t,i);case v.BOOL:return this.scalars(n.slice(0,i).map(e=>"true"==e||"false"!=e&&e),t,i);default:return this.scalars(n,t,i,b.STRING)}}}function eG(e){let t=typeof e;if("object"==t){if(Array.isArray(e))return"array";if(null===e)return"null"}return t}function eJ(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}let eY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),eX=[];for(let e=0;e<eY.length;e++)eX[eY[e].charCodeAt(0)]=e;function eQ(){let e=0,t=0;for(let i=0;i<28;i+=7){let n=this.buf[this.pos++];if(e|=(127&n)<<i,(128&n)==0)return this.assertBounds(),[e,t]}let i=this.buf[this.pos++];if(e|=(15&i)<<28,t=(112&i)>>4,(128&i)==0)return this.assertBounds(),[e,t];for(let i=3;i<=31;i+=7){let n=this.buf[this.pos++];if(t|=(127&n)<<i,(128&n)==0)return this.assertBounds(),[e,t]}throw Error("invalid varint")}function eZ(e,t,i){for(let n=0;n<28;n+=7){let r=e>>>n,a=!(r>>>7==0&&0==t),s=(a?128|r:r)&255;if(i.push(s),!a)return}let n=e>>>28&15|(7&t)<<4,r=t>>3!=0;if(i.push((r?128|n:n)&255),r){for(let e=3;e<31;e+=7){let n=t>>>e,r=n>>>7!=0,a=(r?128|n:n)&255;if(i.push(a),!r)return}i.push(t>>>31&1)}}function e0(e){let t="-"==e[0];t&&(e=e.slice(1));let i=0,n=0;function r(t,r){let a=Number(e.slice(t,r));n*=1e6,(i=1e6*i+a)>=4294967296&&(n+=i/4294967296|0,i%=4294967296)}return r(-24,-18),r(-18,-12),r(-12,-6),r(-6),[t,i,n]}function e1(e,t){if(t>>>0<=2097151)return""+(4294967296*t+(e>>>0));let i=(e>>>24|t<<8)>>>0&16777215,n=t>>16&65535,r=(16777215&e)+6777216*i+6710656*n,a=i+8147497*n,s=2*n;function o(e,t){let i=e?String(e):"";return t?"0000000".slice(i.length)+i:i}return r>=1e7&&(a+=Math.floor(r/1e7),r%=1e7),a>=1e7&&(s+=Math.floor(a/1e7),a%=1e7),o(s,0)+o(a,s)+o(r,1)}function e2(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let i=0;i<9;i++)t.push(127&e|128),e>>=7;t.push(1)}}function e3(){let e=this.buf[this.pos++],t=127&e;if((128&e)==0||(t|=(127&(e=this.buf[this.pos++]))<<7,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<14,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<21,(128&e)==0))return this.assertBounds(),t;t|=(15&(e=this.buf[this.pos++]))<<28;for(let t=5;(128&e)!=0&&t<10;t++)e=this.buf[this.pos++];if((128&e)!=0)throw Error("invalid varint");return this.assertBounds(),t>>>0}function e4(e){if(!e)throw Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}eX["-".charCodeAt(0)]=eY.indexOf("+"),eX["_".charCodeAt(0)]=eY.indexOf("/"),function(){let e=new DataView(new ArrayBuffer(8));n=void 0!==globalThis.BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:e}:void 0}();let e5=/^-?[0-9]+$/;class e6{constructor(e,t){this.lo=0|e,this.hi=0|t}isZero(){return 0==this.lo&&0==this.hi}toNumber(){let e=4294967296*this.hi+(this.lo>>>0);if(!Number.isSafeInteger(e))throw Error("cannot convert to safe number");return e}}class e8 extends e6{static from(e){if(n)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw Error("string is no integer");e=n.C(e);case"number":if(0===e)return this.ZERO;e=n.C(e);case"bigint":if(!e)return this.ZERO;if(e<n.UMIN)throw Error("signed value for ulong");if(e>n.UMAX)throw Error("ulong too large");return n.V.setBigUint64(0,e,!0),new e8(n.V.getInt32(0,!0),n.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!e5.test(e))throw Error("string is no integer");let[t,i,r]=e0(e);if(t)throw Error("signed value for ulong");return new e8(i,r);case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw Error("number is no integer");if(e<0)throw Error("signed value for ulong");return new e8(e,e/4294967296)}throw Error("unknown value "+typeof e)}toString(){return n?this.toBigInt().toString():e1(this.lo,this.hi)}toBigInt(){return e4(n),n.V.setInt32(0,this.lo,!0),n.V.setInt32(4,this.hi,!0),n.V.getBigUint64(0,!0)}}e8.ZERO=new e8(0,0);class e9 extends e6{static from(e){if(n)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw Error("string is no integer");e=n.C(e);case"number":if(0===e)return this.ZERO;e=n.C(e);case"bigint":if(!e)return this.ZERO;if(e<n.MIN)throw Error("signed long too small");if(e>n.MAX)throw Error("signed long too large");return n.V.setBigInt64(0,e,!0),new e9(n.V.getInt32(0,!0),n.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!e5.test(e))throw Error("string is no integer");let[t,i,r]=e0(e);if(t){if(r>2147483648||2147483648==r&&0!=i)throw Error("signed long too small")}else if(r>=2147483648)throw Error("signed long too large");let a=new e9(i,r);return t?a.negate():a;case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw Error("number is no integer");return e>0?new e9(e,e/4294967296):new e9(-e,-e/4294967296).negate()}throw Error("unknown value "+typeof e)}isNegative(){return(2147483648&this.hi)!=0}negate(){let e=~this.hi,t=this.lo;return t?t=~t+1:e+=1,new e9(t,e)}toString(){if(n)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+e1(e.lo,e.hi)}return e1(this.lo,this.hi)}toBigInt(){return e4(n),n.V.setInt32(0,this.lo,!0),n.V.setInt32(4,this.hi,!0),n.V.getBigInt64(0,!0)}}function e7(e,t){if(!e)throw Error(t)}function te(e){if("number"!=typeof e)throw Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw Error("invalid int 32: "+e)}function tt(e){if("number"!=typeof e)throw Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw Error("invalid uint 32: "+e)}function ti(e){if("number"!=typeof e)throw Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw Error("invalid float 32: "+e)}function tn(e,t){switch(t){case b.BIGINT:return e.toBigInt();case b.NUMBER:return e.toNumber();default:return e.toString()}}e9.ZERO=new e9(0,0);class tr{constructor(e){this.info=e}prepare(){var e;if(void 0===this.fMap)for(let t of(this.fMap={},null!==(e=this.info.fields)&&void 0!==e?e:[]))this.fMap[t.name]=t,this.fMap[t.jsonName]=t,this.fMap[t.localName]=t}assert(e,t,i){if(!e){let e=eG(i);throw("number"==e||"boolean"==e)&&(e=i.toString()),Error(`Cannot parse JSON ${e} for ${this.info.typeName}#${t}`)}}read(e,t,i){this.prepare();let n=[];for(let[r,a]of Object.entries(e)){let e;let s=this.fMap[r];if(!s){if(!i.ignoreUnknownFields)throw Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${r}`);continue}let o=s.localName;if(s.oneof){if(null===a&&("enum"!==s.kind||"google.protobuf.NullValue"!==s.T()[0]))continue;if(n.includes(s.oneof))throw Error(`Multiple members of the oneof group "${s.oneof}" of ${this.info.typeName} are present in JSON.`);n.push(s.oneof),e=t[s.oneof]={oneofKind:o}}else e=t;if("map"==s.kind){if(null===a)continue;this.assert(eJ(a),s.name,a);let t=e[o];for(let[e,n]of Object.entries(a)){let r;switch(this.assert(null!==n,s.name+" map value",null),s.V.kind){case"message":r=s.V.T().internalJsonRead(n,i);break;case"enum":if(!1===(r=this.enum(s.V.T(),n,s.name,i.ignoreUnknownFields)))continue;break;case"scalar":r=this.scalar(n,s.V.T,s.V.L,s.name)}this.assert(void 0!==r,s.name+" map value",n);let a=e;s.K==v.BOOL&&(a="true"==a||"false"!=a&&a),t[a=this.scalar(a,s.K,b.STRING,s.name).toString()]=r}}else if(s.repeat){if(null===a)continue;this.assert(Array.isArray(a),s.name,a);let t=e[o];for(let e of a){let n;switch(this.assert(null!==e,s.name,null),s.kind){case"message":n=s.T().internalJsonRead(e,i);break;case"enum":if(!1===(n=this.enum(s.T(),e,s.name,i.ignoreUnknownFields)))continue;break;case"scalar":n=this.scalar(e,s.T,s.L,s.name)}this.assert(void 0!==n,s.name,a),t.push(n)}}else switch(s.kind){case"message":if(null===a&&"google.protobuf.Value"!=s.T().typeName){this.assert(void 0===s.oneof,s.name+" (oneof member)",null);continue}e[o]=s.T().internalJsonRead(a,i,e[o]);break;case"enum":let l=this.enum(s.T(),a,s.name,i.ignoreUnknownFields);if(!1===l)continue;e[o]=l;break;case"scalar":e[o]=this.scalar(a,s.T,s.L,s.name)}}}enum(e,t,i,n){if("google.protobuf.NullValue"==e[0]&&e7(null===t||"NULL_VALUE"===t,`Unable to parse field ${this.info.typeName}#${i}, enum ${e[0]} only accepts null.`),null===t)return 0;switch(typeof t){case"number":return e7(Number.isInteger(t),`Unable to parse field ${this.info.typeName}#${i}, enum can only be integral number, got ${t}.`),t;case"string":let r=t;e[2]&&t.substring(0,e[2].length)===e[2]&&(r=t.substring(e[2].length));let a=e[1][r];if(void 0===a&&n)return!1;return e7("number"==typeof a,`Unable to parse field ${this.info.typeName}#${i}, enum ${e[0]} has no value for "${t}".`),a}e7(!1,`Unable to parse field ${this.info.typeName}#${i}, cannot parse enum value from ${typeof t}".`)}scalar(e,t,i,n){let r;try{switch(t){case v.DOUBLE:case v.FLOAT:if(null===e)return 0;if("NaN"===e)return Number.NaN;if("Infinity"===e)return Number.POSITIVE_INFINITY;if("-Infinity"===e)return Number.NEGATIVE_INFINITY;if(""===e){r="empty string";break}if("string"==typeof e&&e.trim().length!==e.length){r="extra whitespace";break}if("string"!=typeof e&&"number"!=typeof e)break;let n=Number(e);if(Number.isNaN(n)){r="not a number";break}if(!Number.isFinite(n)){r="too large or small";break}return t==v.FLOAT&&ti(n),n;case v.INT32:case v.FIXED32:case v.SFIXED32:case v.SINT32:case v.UINT32:let a;if(null===e)return 0;if("number"==typeof e?a=e:""===e?r="empty string":"string"==typeof e&&(e.trim().length!==e.length?r="extra whitespace":a=Number(e)),void 0===a)break;return t==v.UINT32?tt(a):te(a),a;case v.INT64:case v.SFIXED64:case v.SINT64:if(null===e)return tn(e9.ZERO,i);if("number"!=typeof e&&"string"!=typeof e)break;return tn(e9.from(e),i);case v.FIXED64:case v.UINT64:if(null===e)return tn(e8.ZERO,i);if("number"!=typeof e&&"string"!=typeof e)break;return tn(e8.from(e),i);case v.BOOL:if(null===e)return!1;if("boolean"!=typeof e)break;return e;case v.STRING:if(null===e)return"";if("string"!=typeof e){r="extra whitespace";break}try{encodeURIComponent(e)}catch(e){break}return e;case v.BYTES:if(null===e||""===e)return new Uint8Array(0);if("string"!=typeof e)break;return function(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let i=new Uint8Array(t),n=0,r=0,a,s=0;for(let t=0;t<e.length;t++){if(void 0===(a=eX[e.charCodeAt(t)]))switch(e[t]){case"=":r=0;case"\n":case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(r){case 0:s=a,r=1;break;case 1:i[n++]=s<<2|(48&a)>>4,s=a,r=2;break;case 2:i[n++]=(15&s)<<4|(60&a)>>2,s=a,r=3;break;case 3:i[n++]=(3&s)<<6|a,r=0}}if(1==r)throw Error("invalid base64 string.");return i.subarray(0,n)}(e)}}catch(e){r=e.message}this.assert(!1,n+(r?" - "+r:""),e)}}class ta{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}write(e,t){let i={};for(let n of this.fields){if(!n.oneof){let r=this.field(n,e[n.localName],t);void 0!==r&&(i[t.useProtoFieldName?n.name:n.jsonName]=r);continue}let r=e[n.oneof];if(r.oneofKind!==n.localName)continue;let a="scalar"==n.kind||"enum"==n.kind?Object.assign(Object.assign({},t),{emitDefaultValues:!0}):t,s=this.field(n,r[n.localName],a);e7(void 0!==s),i[t.useProtoFieldName?n.name:n.jsonName]=s}return i}field(e,t,i){let n;if("map"==e.kind){e7("object"==typeof t&&null!==t);let r={};switch(e.V.kind){case"scalar":for(let[i,n]of Object.entries(t)){let t=this.scalar(e.V.T,n,e.name,!1,!0);e7(void 0!==t),r[i.toString()]=t}break;case"message":let a=e.V.T();for(let[n,s]of Object.entries(t)){let t=this.message(a,s,e.name,i);e7(void 0!==t),r[n.toString()]=t}break;case"enum":let s=e.V.T();for(let[n,a]of Object.entries(t)){e7(void 0===a||"number"==typeof a);let t=this.enum(s,a,e.name,!1,!0,i.enumAsInteger);e7(void 0!==t),r[n.toString()]=t}}(i.emitDefaultValues||Object.keys(r).length>0)&&(n=r)}else if(e.repeat){e7(Array.isArray(t));let r=[];switch(e.kind){case"scalar":for(let i=0;i<t.length;i++){let n=this.scalar(e.T,t[i],e.name,e.opt,!0);e7(void 0!==n),r.push(n)}break;case"enum":let a=e.T();for(let n=0;n<t.length;n++){e7(void 0===t[n]||"number"==typeof t[n]);let s=this.enum(a,t[n],e.name,e.opt,!0,i.enumAsInteger);e7(void 0!==s),r.push(s)}break;case"message":let s=e.T();for(let n=0;n<t.length;n++){let a=this.message(s,t[n],e.name,i);e7(void 0!==a),r.push(a)}}(i.emitDefaultValues||r.length>0||i.emitDefaultValues)&&(n=r)}else switch(e.kind){case"scalar":n=this.scalar(e.T,t,e.name,e.opt,i.emitDefaultValues);break;case"enum":n=this.enum(e.T(),t,e.name,e.opt,i.emitDefaultValues,i.enumAsInteger);break;case"message":n=this.message(e.T(),t,e.name,i)}return n}enum(e,t,i,n,r,a){if("google.protobuf.NullValue"==e[0])return r||n?null:void 0;if(void 0===t){e7(n);return}if(0!==t||r||n)return(e7("number"==typeof t),e7(Number.isInteger(t)),a||!e[1].hasOwnProperty(t))?t:e[2]?e[2]+e[1][t]:e[1][t]}message(e,t,i,n){return void 0===t?n.emitDefaultValues?null:void 0:e.internalJsonWrite(t,n)}scalar(e,t,i,n,r){if(void 0===t){e7(n);return}let a=r||n;switch(e){case v.INT32:case v.SFIXED32:case v.SINT32:if(0===t)return a?0:void 0;return te(t),t;case v.FIXED32:case v.UINT32:if(0===t)return a?0:void 0;return tt(t),t;case v.FLOAT:ti(t);case v.DOUBLE:if(0===t)return a?0:void 0;if(e7("number"==typeof t),Number.isNaN(t))return"NaN";if(t===Number.POSITIVE_INFINITY)return"Infinity";if(t===Number.NEGATIVE_INFINITY)return"-Infinity";return t;case v.STRING:if(""===t)return a?"":void 0;return e7("string"==typeof t),t;case v.BOOL:if(!1===t)return!a&&void 0;return e7("boolean"==typeof t),t;case v.UINT64:case v.FIXED64:e7("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let s=e8.from(t);if(s.isZero()&&!a)return;return s.toString();case v.INT64:case v.SFIXED64:case v.SINT64:e7("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let o=e9.from(t);if(o.isZero()&&!a)return;return o.toString();case v.BYTES:if(e7(t instanceof Uint8Array),!t.byteLength)return a?"":void 0;return function(e){let t="",i=0,n,r=0;for(let a=0;a<e.length;a++)switch(n=e[a],i){case 0:t+=eY[n>>2],r=(3&n)<<4,i=1;break;case 1:t+=eY[r|n>>4],r=(15&n)<<2,i=2;break;case 2:t+=eY[r|n>>6]+eY[63&n],i=0}return i&&(t+=eY[r]+"=",1==i&&(t+="=")),t}(t)}}}function ts(e,t=b.STRING){switch(e){case v.BOOL:return!1;case v.UINT64:case v.FIXED64:return tn(e8.ZERO,t);case v.INT64:case v.SFIXED64:case v.SINT64:return tn(e9.ZERO,t);case v.DOUBLE:case v.FLOAT:return 0;case v.BYTES:return new Uint8Array(0);case v.STRING:return"";default:return 0}}(function(e){e.symbol=Symbol.for("protobuf-ts/unknown"),e.onRead=(i,n,r,a,s)=>{(t(n)?n[e.symbol]:n[e.symbol]=[]).push({no:r,wireType:a,data:s})},e.onWrite=(t,i,n)=>{for(let{no:t,wireType:r,data:a}of e.list(i))n.tag(t,r).raw(a)},e.list=(i,n)=>{if(t(i)){let t=i[e.symbol];return n?t.filter(e=>e.no==n):t}return[]},e.last=(t,i)=>e.list(t,i).slice(-1)[0];let t=t=>t&&Array.isArray(t[e.symbol])})(x||(x={})),function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(k||(k={}));class to{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){let t=null!==(e=this.info.fields)&&void 0!==e?e:[];this.fieldNoToField=new Map(t.map(e=>[e.no,e]))}}read(e,t,i,n){this.prepare();let r=void 0===n?e.len:e.pos+n;for(;e.pos<r;){let[n,r]=e.tag(),a=this.fieldNoToField.get(n);if(!a){let a=i.readUnknownField;if("throw"==a)throw Error(`Unknown field ${n} (wire type ${r}) for ${this.info.typeName}`);let s=e.skip(r);!1!==a&&(!0===a?x.onRead:a)(this.info.typeName,t,n,r,s);continue}let s=t,o=a.repeat,l=a.localName;switch(a.oneof&&(s=s[a.oneof]).oneofKind!==l&&(s=t[a.oneof]={oneofKind:l}),a.kind){case"scalar":case"enum":let c="enum"==a.kind?v.INT32:a.T,u="scalar"==a.kind?a.L:void 0;if(o){let t=s[l];if(r==k.LengthDelimited&&c!=v.STRING&&c!=v.BYTES){let i=e.uint32()+e.pos;for(;e.pos<i;)t.push(this.scalar(e,c,u))}else t.push(this.scalar(e,c,u))}else s[l]=this.scalar(e,c,u);break;case"message":if(o){let t=s[l],n=a.T().internalBinaryRead(e,e.uint32(),i);t.push(n)}else s[l]=a.T().internalBinaryRead(e,e.uint32(),i,s[l]);break;case"map":let[d,h]=this.mapEntry(a,e,i);s[l][d]=h}}}mapEntry(e,t,i){let n,r,a=t.uint32(),s=t.pos+a;for(;t.pos<s;){let[a,s]=t.tag();switch(a){case 1:n=e.K==v.BOOL?t.bool().toString():this.scalar(t,e.K,b.STRING);break;case 2:switch(e.V.kind){case"scalar":r=this.scalar(t,e.V.T,e.V.L);break;case"enum":r=t.int32();break;case"message":r=e.V.T().internalBinaryRead(t,t.uint32(),i)}break;default:throw Error(`Unknown field ${a} (wire type ${s}) in map entry for ${this.info.typeName}#${e.name}`)}}if(void 0===n){let t=ts(e.K);n=e.K==v.BOOL?t.toString():t}if(void 0===r)switch(e.V.kind){case"scalar":r=ts(e.V.T,e.V.L);break;case"enum":r=0;break;case"message":r=e.V.T().create()}return[n,r]}scalar(e,t,i){switch(t){case v.INT32:return e.int32();case v.STRING:return e.string();case v.BOOL:return e.bool();case v.DOUBLE:return e.double();case v.FLOAT:return e.float();case v.INT64:return tn(e.int64(),i);case v.UINT64:return tn(e.uint64(),i);case v.FIXED64:return tn(e.fixed64(),i);case v.FIXED32:return e.fixed32();case v.BYTES:return e.bytes();case v.UINT32:return e.uint32();case v.SFIXED32:return e.sfixed32();case v.SFIXED64:return tn(e.sfixed64(),i);case v.SINT32:return e.sint32();case v.SINT64:return tn(e.sint64(),i)}}}class tl{constructor(e){this.info=e}prepare(){if(!this.fields){let e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort((e,t)=>e.no-t.no)}}write(e,t,i){for(let n of(this.prepare(),this.fields)){let r,a,s=n.repeat,o=n.localName;if(n.oneof){let t=e[n.oneof];if(t.oneofKind!==o)continue;r=t[o],a=!0}else r=e[o],a=!1;switch(n.kind){case"scalar":case"enum":let l="enum"==n.kind?v.INT32:n.T;if(s){if(e7(Array.isArray(r)),s==w.PACKED)this.packed(t,l,n.no,r);else for(let e of r)this.scalar(t,l,n.no,e,!0)}else void 0===r?e7(n.opt):this.scalar(t,l,n.no,r,a||n.opt);break;case"message":if(s)for(let e of(e7(Array.isArray(r)),r))this.message(t,i,n.T(),n.no,e);else this.message(t,i,n.T(),n.no,r);break;case"map":for(let[e,a]of(e7("object"==typeof r&&null!==r),Object.entries(r)))this.mapEntry(t,i,n,e,a)}}let n=i.writeUnknownFields;!1!==n&&(!0===n?x.onWrite:n)(this.info.typeName,e,t)}mapEntry(e,t,i,n,r){e.tag(i.no,k.LengthDelimited),e.fork();let a=n;switch(i.K){case v.INT32:case v.FIXED32:case v.UINT32:case v.SFIXED32:case v.SINT32:a=Number.parseInt(n);break;case v.BOOL:e7("true"==n||"false"==n),a="true"==n}switch(this.scalar(e,i.K,1,a,!0),i.V.kind){case"scalar":this.scalar(e,i.V.T,2,r,!0);break;case"enum":this.scalar(e,v.INT32,2,r,!0);break;case"message":this.message(e,t,i.V.T(),2,r)}e.join()}message(e,t,i,n,r){void 0!==r&&(i.internalBinaryWrite(r,e.tag(n,k.LengthDelimited).fork(),t),e.join())}scalar(e,t,i,n,r){let[a,s,o]=this.scalarInfo(t,n);(!o||r)&&(e.tag(i,a),e[s](n))}packed(e,t,i,n){if(!n.length)return;e7(t!==v.BYTES&&t!==v.STRING),e.tag(i,k.LengthDelimited),e.fork();let[,r]=this.scalarInfo(t);for(let t=0;t<n.length;t++)e[r](n[t]);e.join()}scalarInfo(e,t){let i,n=k.Varint,r=void 0===t,a=0===t;switch(e){case v.INT32:i="int32";break;case v.STRING:a=r||!t.length,n=k.LengthDelimited,i="string";break;case v.BOOL:a=!1===t,i="bool";break;case v.UINT32:i="uint32";break;case v.DOUBLE:n=k.Bit64,i="double";break;case v.FLOAT:n=k.Bit32,i="float";break;case v.INT64:a=r||e9.from(t).isZero(),i="int64";break;case v.UINT64:a=r||e8.from(t).isZero(),i="uint64";break;case v.FIXED64:a=r||e8.from(t).isZero(),n=k.Bit64,i="fixed64";break;case v.BYTES:a=r||!t.byteLength,n=k.LengthDelimited,i="bytes";break;case v.FIXED32:n=k.Bit32,i="fixed32";break;case v.SFIXED32:n=k.Bit32,i="sfixed32";break;case v.SFIXED64:a=r||e9.from(t).isZero(),n=k.Bit64,i="sfixed64";break;case v.SINT32:i="sint32";break;case v.SINT64:a=r||e9.from(t).isZero(),i="sint64"}return[n,i,r||a]}}function tc(e,t,i){let n,r;for(let a of e.fields){let e=a.localName;if(a.oneof){let s=i[a.oneof];if((null==s?void 0:s.oneofKind)==void 0)continue;if(n=s[e],(r=t[a.oneof]).oneofKind=s.oneofKind,void 0==n){delete r[e];continue}}else if(n=i[e],r=t,void 0==n)continue;switch(a.repeat&&(r[e].length=n.length),a.kind){case"scalar":case"enum":if(a.repeat)for(let t=0;t<n.length;t++)r[e][t]=n[t];else r[e]=n;break;case"message":let s=a.T();if(a.repeat)for(let t=0;t<n.length;t++)r[e][t]=s.create(n[t]);else void 0===r[e]?r[e]=s.create(n):s.mergePartial(r[e],n);break;case"map":switch(a.V.kind){case"scalar":case"enum":Object.assign(r[e],n);break;case"message":let o=a.V.T();for(let t of Object.keys(n))r[e][t]=o.create(n[t])}}}}let tu={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},td={ignoreUnknownFields:!1},th=Object.values;function tp(e,t,i){if(t===i)return!0;if(e!==v.BYTES||t.length!==i.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!=i[e])return!1;return!0}function tf(e,t,i){if(t.length!==i.length)return!1;for(let n=0;n<t.length;n++)if(!tp(e,t[n],i[n]))return!1;return!0}function tm(e,t,i){if(t.length!==i.length)return!1;for(let n=0;n<t.length;n++)if(!e.equals(t[n],i[n]))return!1;return!0}let tg={writeUnknownFields:!0,writerFactory:()=>new ty};class ty{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),i=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],i),i+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(tt(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return te(e),e2(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){ti(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){tt(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){te(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return te(e),e2(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),i=new DataView(t.buffer),n=e9.from(e);return i.setInt32(0,n.lo,!0),i.setInt32(4,n.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),i=new DataView(t.buffer),n=e8.from(e);return i.setInt32(0,n.lo,!0),i.setInt32(4,n.hi,!0),this.raw(t)}int64(e){let t=e9.from(e);return eZ(t.lo,t.hi,this.buf),this}sint64(e){let t=e9.from(e),i=t.hi>>31;return eZ(t.lo<<1^i,(t.hi<<1|t.lo>>>31)^i,this.buf),this}uint64(e){let t=e8.from(e);return eZ(t.lo,t.hi,this.buf),this}}let tv={readUnknownField:!0,readerFactory:e=>new tb(e)};class tb{constructor(e,t){this.varint64=eQ,this.uint32=e3,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),t=e>>>3,i=7&e;if(t<=0||i<0||i>5)throw Error("illegal tag: field no "+t+" wire type "+i);return[t,i]}skip(e){let t=this.pos;switch(e){case k.Varint:for(;128&this.buf[this.pos++];);break;case k.Bit64:this.pos+=4;case k.Bit32:this.pos+=4;break;case k.LengthDelimited:let i=this.uint32();this.pos+=i;break;case k.StartGroup:let n;for(;(n=this.tag()[1])!==k.EndGroup;)this.skip(n);break;default:throw Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return new e9(...this.varint64())}uint64(){return new e8(...this.varint64())}sint64(){let[e,t]=this.varint64(),i=-(1&e);return new e9(e=(e>>>1|(1&t)<<31)^i,t=t>>>1^i)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new e8(this.sfixed32(),this.sfixed32())}sfixed64(){return new e9(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}class tw{constructor(e,t,i){this.defaultCheckDepth=16,this.typeName=e,this.fields=t.map(eW),this.options=null!=i?i:{},this.messagePrototype=Object.defineProperty({},ez,{value:this}),this.refTypeCheck=new eH(this),this.refJsonReader=new tr(this),this.refJsonWriter=new ta(this),this.refBinReader=new to(this),this.refBinWriter=new tl(this)}create(e){let t=function(e){let t=e.messagePrototype?Object.create(e.messagePrototype):Object.defineProperty({},ez,{value:e});for(let i of e.fields){let e=i.localName;if(!i.opt){if(i.oneof)t[i.oneof]={oneofKind:void 0};else if(i.repeat)t[e]=[];else switch(i.kind){case"scalar":t[e]=ts(i.T,i.L);break;case"enum":t[e]=0;break;case"map":t[e]={}}}}return t}(this);return void 0!==e&&tc(this,t,e),t}clone(e){let t=this.create();return tc(this,t,e),t}equals(e,t){return function(e,t,i){if(t===i)return!0;if(!t||!i)return!1;for(let n of e.fields){let e=n.localName,r=n.oneof?t[n.oneof][e]:t[e],a=n.oneof?i[n.oneof][e]:i[e];switch(n.kind){case"enum":case"scalar":let s="enum"==n.kind?v.INT32:n.T;if(!(n.repeat?tf(s,r,a):tp(s,r,a)))return!1;break;case"map":if(!("message"==n.V.kind?tm(n.V.T(),th(r),th(a)):tf("enum"==n.V.kind?v.INT32:n.V.T,th(r),th(a))))return!1;break;case"message":let o=n.T();if(!(n.repeat?tm(o,r,a):o.equals(r,a)))return!1}}return!0}(this,e,t)}is(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!1)}isAssignable(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!0)}mergePartial(e,t){tc(this,e,t)}fromBinary(e,t){let i=t?Object.assign(Object.assign({},tv),t):tv;return this.internalBinaryRead(i.readerFactory(e),e.byteLength,i)}fromJson(e,t){return this.internalJsonRead(e,t?Object.assign(Object.assign({},td),t):td)}fromJsonString(e,t){let i=JSON.parse(e);return this.fromJson(i,t)}toJson(e,t){return this.internalJsonWrite(e,t?Object.assign(Object.assign({},tu),t):tu)}toJsonString(e,t){var i;return JSON.stringify(this.toJson(e,t),null,null!==(i=null==t?void 0:t.prettySpaces)&&void 0!==i?i:0)}toBinary(e,t){let i=t?Object.assign(Object.assign({},tg),t):tg;return this.internalBinaryWrite(e,i.writerFactory(),i).finish()}internalJsonRead(e,t,i){if(null!==e&&"object"==typeof e&&!Array.isArray(e)){let n=null!=i?i:this.create();return this.refJsonReader.read(e,n,t),n}throw Error(`Unable to parse message ${this.typeName} from JSON ${eG(e)}.`)}internalJsonWrite(e,t){return this.refJsonWriter.write(e,t)}internalBinaryWrite(e,t,i){return this.refBinWriter.write(e,t,i),t}internalBinaryRead(e,t,i,n){let r=null!=n?n:this.create();return this.refBinReader.read(e,r,i,t),r}}class tx{constructor(e,t,i){this.typeName=e,this.methods=t.map(e=>(function(e,t){var i,n,r;return e.service=t,e.localName=null!==(i=e.localName)&&void 0!==i?i:eV(e.name),e.serverStreaming=!!e.serverStreaming,e.clientStreaming=!!e.clientStreaming,e.options=null!==(n=e.options)&&void 0!==n?n:{},e.idempotency=null!==(r=e.idempotency)&&void 0!==r?r:void 0,e})(e,this)),this.options=null!=i?i:{}}}function tk(e,t,i,n,r){var a,s,o,l;if("unary"==e){let e=(e,i,n)=>t.unary(e,i,n);for(let t of(null!==(a=n.interceptors)&&void 0!==a?a:[]).filter(e=>e.interceptUnary).reverse()){let i=e;e=(e,n,r)=>t.interceptUnary(i,e,n,r)}return e(i,r,n)}if("serverStreaming"==e){let e=(e,i,n)=>t.serverStreaming(e,i,n);for(let t of(null!==(s=n.interceptors)&&void 0!==s?s:[]).filter(e=>e.interceptServerStreaming).reverse()){let i=e;e=(e,n,r)=>t.interceptServerStreaming(i,e,n,r)}return e(i,r,n)}if("clientStreaming"==e){let e=(e,i)=>t.clientStreaming(e,i);for(let t of(null!==(o=n.interceptors)&&void 0!==o?o:[]).filter(e=>e.interceptClientStreaming).reverse()){let i=e;e=(e,n)=>t.interceptClientStreaming(i,e,n)}return e(i,n)}if("duplex"==e){let e=(e,i)=>t.duplex(e,i);for(let t of(null!==(l=n.interceptors)&&void 0!==l?l:[]).filter(e=>e.interceptDuplex).reverse()){let i=e;e=(e,n)=>t.interceptDuplex(i,e,n)}return e(i,n)}!function(e,t){throw Error("Unexpected object: "+e)}(e)}function tS(e,t){return function(){return e.apply(t,arguments)}}let{toString:t_}=Object.prototype,{getPrototypeOf:tR}=Object,tE=(c=Object.create(null),e=>{let t=t_.call(e);return c[t]||(c[t]=t.slice(8,-1).toLowerCase())}),tT=e=>(e=e.toLowerCase(),t=>tE(t)===e),tC=e=>t=>typeof t===e,{isArray:tP}=Array,tA=tC("undefined"),tI=tT("ArrayBuffer"),tO=tC("string"),tj=tC("function"),tN=tC("number"),tL=e=>null!==e&&"object"==typeof e,tD=e=>{if("object"!==tE(e))return!1;let t=tR(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tU=tT("Date"),tq=tT("File"),tM=tT("Blob"),tF=tT("FileList"),t$=tT("URLSearchParams"),[tB,tK,tz,tV]=["ReadableStream","Request","Response","Headers"].map(tT);function tW(e,t,{allOwnKeys:i=!1}={}){let n,r;if(null!=e){if("object"!=typeof e&&(e=[e]),tP(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{let r;let a=i?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;for(n=0;n<s;n++)r=a[n],t.call(null,e[r],r,e)}}}function tH(e,t){let i;t=t.toLowerCase();let n=Object.keys(e),r=n.length;for(;r-- >0;)if(t===(i=n[r]).toLowerCase())return i;return null}let tG="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,tJ=e=>!tA(e)&&e!==tG,tY=(u="undefined"!=typeof Uint8Array&&tR(Uint8Array),e=>u&&e instanceof u),tX=tT("HTMLFormElement"),tQ=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),tZ=tT("RegExp"),t0=(e,t)=>{let i=Object.getOwnPropertyDescriptors(e),n={};tW(i,(i,r)=>{let a;!1!==(a=t(i,r,e))&&(n[r]=a||i)}),Object.defineProperties(e,n)},t1="abcdefghijklmnopqrstuvwxyz",t2="0123456789",t3={DIGIT:t2,ALPHA:t1,ALPHA_DIGIT:t1+t1.toUpperCase()+t2},t4=tT("AsyncFunction"),t5=(f="function"==typeof setImmediate,m=tj(tG.postMessage),f?setImmediate:m?(h=`axios@${Math.random()}`,p=[],tG.addEventListener("message",({source:e,data:t})=>{e===tG&&t===h&&p.length&&p.shift()()},!1),e=>{p.push(e),tG.postMessage(h,"*")}):e=>setTimeout(e)),t6="undefined"!=typeof queueMicrotask?queueMicrotask.bind(tG):"undefined"!=typeof process&&process.nextTick||t5,t8={isArray:tP,isArrayBuffer:tI,isBuffer:function(e){return null!==e&&!tA(e)&&null!==e.constructor&&!tA(e.constructor)&&tj(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||tj(e.append)&&("formdata"===(t=tE(e))||"object"===t&&tj(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&tI(e.buffer)},isString:tO,isNumber:tN,isBoolean:e=>!0===e||!1===e,isObject:tL,isPlainObject:tD,isReadableStream:tB,isRequest:tK,isResponse:tz,isHeaders:tV,isUndefined:tA,isDate:tU,isFile:tq,isBlob:tM,isRegExp:tZ,isFunction:tj,isStream:e=>tL(e)&&tj(e.pipe),isURLSearchParams:t$,isTypedArray:tY,isFileList:tF,forEach:tW,merge:function e(){let{caseless:t}=tJ(this)&&this||{},i={},n=(n,r)=>{let a=t&&tH(i,r)||r;tD(i[a])&&tD(n)?i[a]=e(i[a],n):tD(n)?i[a]=e({},n):tP(n)?i[a]=n.slice():i[a]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&tW(arguments[e],n);return i},extend:(e,t,i,{allOwnKeys:n}={})=>(tW(t,(t,n)=>{i&&tj(t)?e[n]=tS(t,i):e[n]=t},{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},toFlatObject:(e,t,i,n)=>{let r,a,s;let o={};if(t=t||{},null==e)return t;do{for(a=(r=Object.getOwnPropertyNames(e)).length;a-- >0;)s=r[a],(!n||n(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=!1!==i&&tR(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kindOf:tE,kindOfTest:tT,endsWith:(e,t,i)=>{e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;let n=e.indexOf(t,i);return -1!==n&&n===i},toArray:e=>{if(!e)return null;if(tP(e))return e;let t=e.length;if(!tN(t))return null;let i=Array(t);for(;t-- >0;)i[t]=e[t];return i},forEachEntry:(e,t)=>{let i;let n=(e&&e[Symbol.iterator]).call(e);for(;(i=n.next())&&!i.done;){let n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let i;let n=[];for(;null!==(i=e.exec(t));)n.push(i);return n},isHTMLForm:tX,hasOwnProperty:tQ,hasOwnProp:tQ,reduceDescriptors:t0,freezeMethods:e=>{t0(e,(t,i)=>{if(tj(e)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;if(tj(e[i])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},toObjectSet:(e,t)=>{let i={};return(e=>{e.forEach(e=>{i[e]=!0})})(tP(e)?e:String(e).split(t)),i},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,i){return t.toUpperCase()+i}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:tH,global:tG,isContextDefined:tJ,ALPHABET:t3,generateString:(e=16,t=t3.ALPHA_DIGIT)=>{let i="",{length:n}=t;for(;e--;)i+=t[Math.random()*n|0];return i},isSpecCompliantForm:function(e){return!!(e&&tj(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),i=(e,n)=>{if(tL(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;let r=tP(e)?[]:{};return tW(e,(e,t)=>{let a=i(e,n+1);tA(a)||(r[t]=a)}),t[n]=void 0,r}}return e};return i(e,0)},isAsyncFn:t4,isThenable:e=>e&&(tL(e)||tj(e))&&tj(e.then)&&tj(e.catch),setImmediate:t5,asap:t6};function t9(e,t,i,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}t8.inherits(t9,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:t8.toJSONObject(this.config),code:this.code,status:this.status}}});let t7=t9.prototype,ie={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ie[e]={value:e}}),Object.defineProperties(t9,ie),Object.defineProperty(t7,"isAxiosError",{value:!0}),t9.from=(e,t,i,n,r,a)=>{let s=Object.create(t7);return t8.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),t9.call(s,e.message,t,i,n,r),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};var it=i(91643);function ii(e){return t8.isPlainObject(e)||t8.isArray(e)}function ir(e){return t8.endsWith(e,"[]")?e.slice(0,-2):e}function ia(e,t,i){return e?e.concat(t).map(function(e,t){return e=ir(e),!i&&t?"["+e+"]":e}).join(i?".":""):t}let is=t8.toFlatObject(t8,{},null,function(e){return/^is[A-Z]/.test(e)}),io=function(e,t,i){if(!t8.isObject(e))throw TypeError("target must be an object");t=t||new(it||FormData);let n=(i=t8.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!t8.isUndefined(t[e])})).metaTokens,r=i.visitor||c,a=i.dots,s=i.indexes,o=(i.Blob||"undefined"!=typeof Blob&&Blob)&&t8.isSpecCompliantForm(t);if(!t8.isFunction(r))throw TypeError("visitor must be a function");function l(e){if(null===e)return"";if(t8.isDate(e))return e.toISOString();if(!o&&t8.isBlob(e))throw new t9("Blob is not supported. Use a Buffer instead.");return t8.isArrayBuffer(e)||t8.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,i,r){let o=e;if(e&&!r&&"object"==typeof e){if(t8.endsWith(i,"{}"))i=n?i:i.slice(0,-2),e=JSON.stringify(e);else{var c;if(t8.isArray(e)&&(c=e,t8.isArray(c)&&!c.some(ii))||(t8.isFileList(e)||t8.endsWith(i,"[]"))&&(o=t8.toArray(e)))return i=ir(i),o.forEach(function(e,n){t8.isUndefined(e)||null===e||t.append(!0===s?ia([i],n,a):null===s?i:i+"[]",l(e))}),!1}}return!!ii(e)||(t.append(ia(r,i,a),l(e)),!1)}let u=[],d=Object.assign(is,{defaultVisitor:c,convertValue:l,isVisitable:ii});if(!t8.isObject(e))throw TypeError("data must be an object");return function e(i,n){if(!t8.isUndefined(i)){if(-1!==u.indexOf(i))throw Error("Circular reference detected in "+n.join("."));u.push(i),t8.forEach(i,function(i,a){!0===(!(t8.isUndefined(i)||null===i)&&r.call(t,i,t8.isString(a)?a.trim():a,n,d))&&e(i,n?n.concat(a):[a])}),u.pop()}}(e),t};function il(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function ic(e,t){this._pairs=[],e&&io(e,this,t)}let iu=ic.prototype;function id(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ih(e,t,i){let n;if(!t)return e;let r=i&&i.encode||id,a=i&&i.serialize;if(n=a?a(t,i):t8.isURLSearchParams(t)?t.toString():new ic(t,i).toString(r)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}iu.append=function(e,t){this._pairs.push([e,t])},iu.toString=function(e){let t=e?function(t){return e.call(this,t,il)}:il;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class ip{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){t8.forEach(this.handlers,function(t){null!==t&&e(t)})}}let im={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ig={isNode:!0,classes:{URLSearchParams:i(17360).URLSearchParams,FormData:it,Blob:"undefined"!=typeof Blob&&Blob||null},protocols:["http","https","file","data"]},iy="undefined"!=typeof window&&"undefined"!=typeof document,iv="object"==typeof navigator&&navigator||void 0,ib=iy&&(!iv||0>["ReactNative","NativeScript","NS"].indexOf(iv.product)),iw="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ix=iy&&window.location.href||"http://localhost",ik={...V,...ig},iS=function(e){if(t8.isFormData(e)&&t8.isFunction(e.entries)){let t={};return t8.forEachEntry(e,(e,i)=>{!function e(t,i,n,r){let a=t[r++];if("__proto__"===a)return!0;let s=Number.isFinite(+a),o=r>=t.length;return(a=!a&&t8.isArray(n)?n.length:a,o)?t8.hasOwnProp(n,a)?n[a]=[n[a],i]:n[a]=i:(n[a]&&t8.isObject(n[a])||(n[a]=[]),e(t,i,n[a],r)&&t8.isArray(n[a])&&(n[a]=function(e){let t,i;let n={},r=Object.keys(e),a=r.length;for(t=0;t<a;t++)n[i=r[t]]=e[i];return n}(n[a]))),!s}(t8.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),i,t,0)}),t}return null},i_={transitional:im,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let i;let n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=t8.isObject(e);if(a&&t8.isHTMLForm(e)&&(e=new FormData(e)),t8.isFormData(e))return r?JSON.stringify(iS(e)):e;if(t8.isArrayBuffer(e)||t8.isBuffer(e)||t8.isStream(e)||t8.isFile(e)||t8.isBlob(e)||t8.isReadableStream(e))return e;if(t8.isArrayBufferView(e))return e.buffer;if(t8.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1){var s,o;return(s=e,o=this.formSerializer,io(s,new ik.classes.URLSearchParams,Object.assign({visitor:function(e,t,i,n){return ik.isNode&&t8.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},o))).toString()}if((i=t8.isFileList(e))||n.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return io(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,i){if(t8.isString(e))try{return(0,JSON.parse)(e),t8.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||i_.transitional,i=t&&t.forcedJSONParsing,n="json"===this.responseType;if(t8.isResponse(e)||t8.isReadableStream(e))return e;if(e&&t8.isString(e)&&(i&&!this.responseType||n)){let i=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!i&&n){if("SyntaxError"===e.name)throw t9.from(e,t9.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ik.classes.FormData,Blob:ik.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};t8.forEach(["delete","get","head","post","put","patch"],e=>{i_.headers[e]={}});let iR=t8.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iE=e=>{let t,i,n;let r={};return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),i=e.substring(n+1).trim(),!t||r[t]&&iR[t]||("set-cookie"===t?r[t]?r[t].push(i):r[t]=[i]:r[t]=r[t]?r[t]+", "+i:i)}),r},iT=Symbol("internals");function iC(e){return e&&String(e).trim().toLowerCase()}function iP(e){return!1===e||null==e?e:t8.isArray(e)?e.map(iP):String(e)}let iA=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function iI(e,t,i,n,r){if(t8.isFunction(n))return n.call(this,t,i);if(r&&(t=i),t8.isString(t)){if(t8.isString(n))return -1!==t.indexOf(n);if(t8.isRegExp(n))return n.test(t)}}class iO{constructor(e){e&&this.set(e)}set(e,t,i){let n=this;function r(e,t,i){let r=iC(t);if(!r)throw Error("header name must be a non-empty string");let a=t8.findKey(n,r);a&&void 0!==n[a]&&!0!==i&&(void 0!==i||!1===n[a])||(n[a||t]=iP(e))}let a=(e,t)=>t8.forEach(e,(e,i)=>r(e,i,t));if(t8.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(t8.isString(e)&&(e=e.trim())&&!iA(e))a(iE(e),t);else if(t8.isHeaders(e))for(let[t,n]of e.entries())r(n,t,i);else null!=e&&r(t,e,i);return this}get(e,t){if(e=iC(e)){let i=t8.findKey(this,e);if(i){let e=this[i];if(!t)return e;if(!0===t)return function(e){let t;let i=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=n.exec(e);)i[t[1]]=t[2];return i}(e);if(t8.isFunction(t))return t.call(this,e,i);if(t8.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=iC(e)){let i=t8.findKey(this,e);return!!(i&&void 0!==this[i]&&(!t||iI(this,this[i],i,t)))}return!1}delete(e,t){let i=this,n=!1;function r(e){if(e=iC(e)){let r=t8.findKey(i,e);r&&(!t||iI(i,i[r],r,t))&&(delete i[r],n=!0)}}return t8.isArray(e)?e.forEach(r):r(e),n}clear(e){let t=Object.keys(this),i=t.length,n=!1;for(;i--;){let r=t[i];(!e||iI(this,this[r],r,e,!0))&&(delete this[r],n=!0)}return n}normalize(e){let t=this,i={};return t8.forEach(this,(n,r)=>{let a=t8.findKey(i,r);if(a){t[a]=iP(n),delete t[r];return}let s=e?r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i):String(r).trim();s!==r&&delete t[r],t[s]=iP(n),i[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return t8.forEach(this,(i,n)=>{null!=i&&!1!==i&&(t[n]=e&&t8.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let i=new this(e);return t.forEach(e=>i.set(e)),i}static accessor(e){let t=(this[iT]=this[iT]={accessors:{}}).accessors,i=this.prototype;function n(e){let n=iC(e);t[n]||(function(e,t){let i=t8.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+i,{value:function(e,i,r){return this[n].call(this,t,e,i,r)},configurable:!0})})}(i,e),t[n]=!0)}return t8.isArray(e)?e.forEach(n):n(e),this}}function ij(e,t){let i=this||i_,n=t||i,r=iO.from(n.headers),a=n.data;return t8.forEach(e,function(e){a=e.call(i,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function iN(e){return!!(e&&e.__CANCEL__)}function iL(e,t,i){t9.call(this,null==e?"canceled":e,t9.ERR_CANCELED,t,i),this.name="CanceledError"}function iD(e,t,i){let n=i.config.validateStatus;!i.status||!n||n(i.status)?e(i):t(new t9("Request failed with status code "+i.status,[t9.ERR_BAD_REQUEST,t9.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function iU(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}iO.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),t8.reduceDescriptors(iO.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[i]=e}}}),t8.freezeMethods(iO),t8.inherits(iL,t9,{__CANCEL__:!0});var iq=i(81786),iM=i(32615),iF=i(35240),i$=i.n(iF),iB=i(21764),iK=i(10133),iz=i(71568);let iV="1.7.7";function iW(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}let iH=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;var iG=i(76162);let iJ=Symbol("internals");class iY extends iG.Transform{constructor(e){super({readableHighWaterMark:(e=t8.toFlatObject(e,{maxRate:0,chunkSize:65536,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(e,t)=>!t8.isUndefined(t[e]))).chunkSize});let t=this[iJ]={timeWindow:e.timeWindow,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",e=>{"progress"!==e||t.isCaptured||(t.isCaptured=!0)})}_read(e){let t=this[iJ];return t.onReadCallback&&t.onReadCallback(),super._read(e)}_transform(e,t,i){let n=this[iJ],r=n.maxRate,a=this.readableHighWaterMark,s=n.timeWindow,o=r/(1e3/s),l=!1!==n.minChunkSize?Math.max(n.minChunkSize,.01*o):0,c=(e,t)=>{let i=Buffer.byteLength(e);n.bytesSeen+=i,n.bytes+=i,n.isCaptured&&this.emit("progress",n.bytesSeen),this.push(e)?process.nextTick(t):n.onReadCallback=()=>{n.onReadCallback=null,process.nextTick(t)}},u=(e,t)=>{let i;let u=Buffer.byteLength(e),d=null,h=a,p=0;if(r){let e=Date.now();(!n.ts||(p=e-n.ts)>=s)&&(n.ts=e,i=o-n.bytes,n.bytes=i<0?-i:0,p=0),i=o-n.bytes}if(r){if(i<=0)return setTimeout(()=>{t(null,e)},s-p);i<h&&(h=i)}h&&u>h&&u-h>l&&(d=e.subarray(h),e=e.subarray(0,h)),c(e,d?()=>{process.nextTick(t,null,d)}:t)};u(e,function e(t,n){if(t)return i(t);n?u(n,e):i(null)})}}var iX=i(17702);let{asyncIterator:iQ}=Symbol,iZ=async function*(e){e.stream?yield*e.stream():e.arrayBuffer?yield await e.arrayBuffer():e[iQ]?yield*e[iQ]():yield e},i0=t8.ALPHABET.ALPHA_DIGIT+"-_",i1=new iB.TextEncoder,i2=i1.encode("\r\n");class i3{constructor(e,t){let{escapeName:i}=this.constructor,n=t8.isString(t),r=`Content-Disposition: form-data; name="${i(e)}"${!n&&t.name?`; filename="${i(t.name)}"`:""}\r
`;n?t=i1.encode(String(t).replace(/\r?\n|\r\n?/g,"\r\n")):r+=`Content-Type: ${t.type||"application/octet-stream"}\r
`,this.headers=i1.encode(r+"\r\n"),this.contentLength=n?t.byteLength:t.size,this.size=this.headers.byteLength+this.contentLength+2,this.name=e,this.value=t}async *encode(){yield this.headers;let{value:e}=this;t8.isTypedArray(e)?yield e:yield*iZ(e),yield i2}static escapeName(e){return String(e).replace(/[\r\n"]/g,e=>({"\r":"%0D","\n":"%0A",'"':"%22"})[e])}}let i4=(e,t,i)=>{let{tag:n="form-data-boundary",size:r=25,boundary:a=n+"-"+t8.generateString(r,i0)}=i||{};if(!t8.isFormData(e))throw TypeError("FormData instance required");if(a.length<1||a.length>70)throw Error("boundary must be 10-70 characters long");let s=i1.encode("--"+a+"\r\n"),o=i1.encode("--"+a+"--\r\n\r\n"),l=o.byteLength,c=Array.from(e.entries()).map(([e,t])=>{let i=new i3(e,t);return l+=i.size,i});l+=s.byteLength*c.length;let u={"Content-Type":`multipart/form-data; boundary=${a}`};return Number.isFinite(l=t8.toFiniteNumber(l))&&(u["Content-Length"]=l),t&&t(u),iG.Readable.from(async function*(){for(let e of c)yield s,yield*e.encode();yield o}())};class i5 extends iG.Transform{__transform(e,t,i){this.push(e),i()}_transform(e,t,i){if(0!==e.length&&(this._transform=this.__transform,120!==e[0])){let e=Buffer.alloc(2);e[0]=120,e[1]=156,this.push(e,t)}this.__transform(e,t,i)}}let i6=(e,t)=>t8.isAsyncFn(e)?function(...i){let n=i.pop();e.apply(this,i).then(e=>{try{t?n(null,...t(e)):n(null,e)}catch(e){n(e)}},n)}:e,i8=function(e,t){let i;let n=Array(e=e||10),r=Array(e),a=0,s=0;return t=void 0!==t?t:1e3,function(o){let l=Date.now(),c=r[s];i||(i=l),n[a]=o,r[a]=l;let u=s,d=0;for(;u!==a;)d+=n[u++],u%=e;if((a=(a+1)%e)===s&&(s=(s+1)%e),l-i<t)return;let h=c&&l-c;return h?Math.round(1e3*d/h):void 0}},i9=function(e,t){let i,n,r=0,a=1e3/t,s=(t,a=Date.now())=>{r=a,i=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[(...e)=>{let t=Date.now(),o=t-r;o>=a?s(e,t):(i=e,n||(n=setTimeout(()=>{n=null,s(i)},a-o)))},()=>i&&s(i)]},i7=(e,t,i=3)=>{let n=0,r=i8(50,250);return i9(i=>{let a=i.loaded,s=i.lengthComputable?i.total:void 0,o=a-n,l=r(o);n=a,e({loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:i,lengthComputable:null!=s,[t?"download":"upload"]:!0})},i)},ne=(e,t)=>{let i=null!=e;return[n=>t[0]({lengthComputable:i,total:e,loaded:n}),t[1]]},nt=e=>(...t)=>t8.asap(()=>e(...t)),ni={flush:iz.constants.Z_SYNC_FLUSH,finishFlush:iz.constants.Z_SYNC_FLUSH},nn={flush:iz.constants.BROTLI_OPERATION_FLUSH,finishFlush:iz.constants.BROTLI_OPERATION_FLUSH},nr=t8.isFunction(iz.createBrotliDecompress),{http:na,https:ns}=iK,no=/https:?/,nl=ik.protocols.map(e=>e+":"),nc=(e,[t,i])=>(e.on("end",i).on("error",i),t);function nu(e,t){e.beforeRedirects.proxy&&e.beforeRedirects.proxy(e),e.beforeRedirects.config&&e.beforeRedirects.config(e,t)}let nd="undefined"!=typeof process&&"process"===t8.kindOf(process),nh=e=>new Promise((t,i)=>{let n,r;let a=(e,t)=>{!r&&(r=!0,n&&n(e,t))},s=e=>{a(e,!0),i(e)};e(e=>{a(e),t(e)},s,e=>n=e).catch(s)}),np=({address:e,family:t})=>{if(!t8.isString(e))throw TypeError("address must be a string");return{address:e,family:t||(0>e.indexOf(".")?6:4)}},nf=(e,t)=>np(t8.isObject(e)?e:{address:e,family:t}),nm=nd&&function(e){return nh(async function(t,i,n){let r,a,s,o,l,c,u,{data:d,lookup:h,family:p}=e,{responseType:f,responseEncoding:m}=e,g=e.method.toUpperCase(),y=!1;if(h){let e=i6(h,e=>t8.isArray(e)?e:[e]);h=(t,i,n)=>{e(t,i,(e,t,r)=>{if(e)return n(e);let a=t8.isArray(t)?t.map(e=>nf(e)):[nf(t,r)];i.all?n(e,a):n(e,a[0].address,a[0].family)})}}let v=new iX.EventEmitter,b=()=>{e.cancelToken&&e.cancelToken.unsubscribe(w),e.signal&&e.signal.removeEventListener("abort",w),v.removeAllListeners()};function w(t){v.emit("abort",!t||t.type?new iL(null,e,l):t)}n((e,t)=>{o=!0,t&&(y=!0,b())}),v.once("abort",i),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(w),e.signal&&(e.signal.aborted?w():e.signal.addEventListener("abort",w)));let x=new URL(iU(e.baseURL,e.url),ik.hasBrowserEnv?ik.origin:void 0),k=x.protocol||nl[0];if("data:"===k){let n;if("GET"!==g)return iD(t,i,{status:405,statusText:"method not allowed",headers:{},config:e});try{n=function(e,t,i){let n=i&&i.Blob||ik.classes.Blob,r=iW(e);if(void 0===t&&n&&(t=!0),"data"===r){e=r.length?e.slice(r.length+1):e;let i=iH.exec(e);if(!i)throw new t9("Invalid URL",t9.ERR_INVALID_URL);let a=i[1],s=i[2],o=i[3],l=Buffer.from(decodeURIComponent(o),s?"base64":"utf8");if(t){if(!n)throw new t9("Blob is not supported",t9.ERR_NOT_SUPPORT);return new n([l],{type:a})}return l}throw new t9("Unsupported protocol "+r,t9.ERR_NOT_SUPPORT)}(e.url,"blob"===f,{Blob:e.env&&e.env.Blob})}catch(t){throw t9.from(t,t9.ERR_BAD_REQUEST,e)}return"text"===f?(n=n.toString(m),m&&"utf8"!==m||(n=t8.stripBOM(n))):"stream"===f&&(n=iG.Readable.from(n)),iD(t,i,{data:n,status:200,statusText:"OK",headers:new iO,config:e})}if(-1===nl.indexOf(k))return i(new t9("Unsupported protocol "+k,t9.ERR_BAD_REQUEST,e));let S=iO.from(e.headers).normalize();S.set("User-Agent","axios/"+iV,!1);let{onUploadProgress:_,onDownloadProgress:R}=e,E=e.maxRate;if(t8.isSpecCompliantForm(d)){let e=S.getContentType(/boundary=([-_\w\d]{10,70})/i);d=i4(d,e=>{S.set(e)},{tag:`axios-${iV}-boundary`,boundary:e&&e[1]||void 0})}else if(t8.isFormData(d)&&t8.isFunction(d.getHeaders)){if(S.set(d.getHeaders()),!S.hasContentLength())try{let e=await iB.promisify(d.getLength).call(d);Number.isFinite(e)&&e>=0&&S.setContentLength(e)}catch(e){}}else if(t8.isBlob(d))d.size&&S.setContentType(d.type||"application/octet-stream"),S.setContentLength(d.size||0),d=iG.Readable.from(iZ(d));else if(d&&!t8.isStream(d)){if(Buffer.isBuffer(d));else if(t8.isArrayBuffer(d))d=Buffer.from(new Uint8Array(d));else{if(!t8.isString(d))return i(new t9("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",t9.ERR_BAD_REQUEST,e));d=Buffer.from(d,"utf-8")}if(S.setContentLength(d.length,!1),e.maxBodyLength>-1&&d.length>e.maxBodyLength)return i(new t9("Request body larger than maxBodyLength limit",t9.ERR_BAD_REQUEST,e))}let T=t8.toFiniteNumber(S.getContentLength());t8.isArray(E)?(r=E[0],a=E[1]):r=a=E,d&&(_||r)&&(t8.isStream(d)||(d=iG.Readable.from(d,{objectMode:!1})),d=iG.pipeline([d,new iY({maxRate:t8.toFiniteNumber(r)})],t8.noop),_&&d.on("progress",nc(d,ne(T,i7(nt(_),!1,3))))),e.auth&&(s=(e.auth.username||"")+":"+(e.auth.password||"")),!s&&x.username&&(s=x.username+":"+x.password),s&&S.delete("authorization");try{c=ih(x.pathname+x.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(n){let t=Error(n.message);return t.config=e,t.url=e.url,t.exists=!0,i(t)}S.set("Accept-Encoding","gzip, compress, deflate"+(nr?", br":""),!1);let C={path:c,method:g,headers:S.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:s,protocol:k,family:p,beforeRedirect:nu,beforeRedirects:{}};t8.isUndefined(h)||(C.lookup=h),e.socketPath?C.socketPath=e.socketPath:(C.hostname=x.hostname.startsWith("[")?x.hostname.slice(1,-1):x.hostname,C.port=x.port,function e(t,i,n){let r=i;if(!r&&!1!==r){let e=(0,iq.j)(n);e&&(r=new URL(e))}if(r){if(r.username&&(r.auth=(r.username||"")+":"+(r.password||"")),r.auth){(r.auth.username||r.auth.password)&&(r.auth=(r.auth.username||"")+":"+(r.auth.password||""));let e=Buffer.from(r.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+e}t.headers.host=t.hostname+(t.port?":"+t.port:"");let e=r.hostname||r.host;t.hostname=e,t.host=e,t.port=r.port,t.path=n,r.protocol&&(t.protocol=r.protocol.includes(":")?r.protocol:`${r.protocol}:`)}t.beforeRedirects.proxy=function(t){e(t,i,t.href)}}(C,e.proxy,k+"//"+x.hostname+(x.port?":"+x.port:"")+C.path));let P=no.test(C.protocol);if(C.agent=P?e.httpsAgent:e.httpAgent,e.transport?u=e.transport:0===e.maxRedirects?u=P?iF:iM:(e.maxRedirects&&(C.maxRedirects=e.maxRedirects),e.beforeRedirect&&(C.beforeRedirects.config=e.beforeRedirect),u=P?ns:na),e.maxBodyLength>-1?C.maxBodyLength=e.maxBodyLength:C.maxBodyLength=1/0,e.insecureHTTPParser&&(C.insecureHTTPParser=e.insecureHTTPParser),l=u.request(C,function(n){if(l.destroyed)return;let r=[n],s=+n.headers["content-length"];if(R||a){let e=new iY({maxRate:t8.toFiniteNumber(a)});R&&e.on("progress",nc(e,ne(s,i7(nt(R),!0,3)))),r.push(e)}let o=n,c=n.req||l;if(!1!==e.decompress&&n.headers["content-encoding"])switch(("HEAD"===g||204===n.statusCode)&&delete n.headers["content-encoding"],(n.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":r.push(iz.createUnzip(ni)),delete n.headers["content-encoding"];break;case"deflate":r.push(new i5),r.push(iz.createUnzip(ni)),delete n.headers["content-encoding"];break;case"br":nr&&(r.push(iz.createBrotliDecompress(nn)),delete n.headers["content-encoding"])}o=r.length>1?iG.pipeline(r,t8.noop):r[0];let u=iG.finished(o,()=>{u(),b()}),d={status:n.statusCode,statusText:n.statusMessage,headers:new iO(n.headers),config:e,request:c};if("stream"===f)d.data=o,iD(t,i,d);else{let n=[],r=0;o.on("data",function(t){n.push(t),r+=t.length,e.maxContentLength>-1&&r>e.maxContentLength&&(y=!0,o.destroy(),i(new t9("maxContentLength size of "+e.maxContentLength+" exceeded",t9.ERR_BAD_RESPONSE,e,c)))}),o.on("aborted",function(){if(y)return;let t=new t9("maxContentLength size of "+e.maxContentLength+" exceeded",t9.ERR_BAD_RESPONSE,e,c);o.destroy(t),i(t)}),o.on("error",function(t){l.destroyed||i(t9.from(t,null,e,c))}),o.on("end",function(){try{let e=1===n.length?n[0]:Buffer.concat(n);"arraybuffer"===f||(e=e.toString(m),m&&"utf8"!==m||(e=t8.stripBOM(e))),d.data=e}catch(t){return i(t9.from(t,null,e,d.request,d))}iD(t,i,d)})}v.once("abort",e=>{o.destroyed||(o.emit("error",e),o.destroy())})}),v.once("abort",e=>{i(e),l.destroy(e)}),l.on("error",function(t){i(t9.from(t,null,e,l))}),l.on("socket",function(e){e.setKeepAlive(!0,6e4)}),e.timeout){let t=parseInt(e.timeout,10);if(Number.isNaN(t)){i(new t9("error trying to parse `config.timeout` to int",t9.ERR_BAD_OPTION_VALUE,e,l));return}l.setTimeout(t,function(){if(o)return;let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||im;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(new t9(t,n.clarifyTimeoutError?t9.ETIMEDOUT:t9.ECONNABORTED,e,l)),w()})}if(t8.isStream(d)){let t=!1,i=!1;d.on("end",()=>{t=!0}),d.once("error",e=>{i=!0,l.destroy(e)}),d.on("close",()=>{t||i||w(new iL("Request stream has been aborted",e,l))}),d.pipe(l)}else l.end(d)})},ng=ik.hasStandardBrowserEnv?function(){let e;let t=ik.navigator&&/(msie|trident)/i.test(ik.navigator.userAgent),i=document.createElement("a");function n(e){let n=e;return t&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=n(window.location.href),function(t){let i=t8.isString(t)?n(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0},ny=ik.hasStandardBrowserEnv?{write(e,t,i,n,r,a){let s=[e+"="+encodeURIComponent(t)];t8.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),t8.isString(n)&&s.push("path="+n),t8.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}},nv=e=>e instanceof iO?{...e}:e;function nb(e,t){t=t||{};let i={};function n(e,t,i){return t8.isPlainObject(e)&&t8.isPlainObject(t)?t8.merge.call({caseless:i},e,t):t8.isPlainObject(t)?t8.merge({},t):t8.isArray(t)?t.slice():t}function r(e,t,i){return t8.isUndefined(t)?t8.isUndefined(e)?void 0:n(void 0,e,i):n(e,t,i)}function a(e,t){if(!t8.isUndefined(t))return n(void 0,t)}function s(e,t){return t8.isUndefined(t)?t8.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(i,r,a){return a in t?n(i,r):a in e?n(void 0,i):void 0}let l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t)=>r(nv(e),nv(t),!0)};return t8.forEach(Object.keys(Object.assign({},e,t)),function(n){let a=l[n]||r,s=a(e[n],t[n],n);t8.isUndefined(s)&&a!==o||(i[n]=s)}),i}let nw=e=>{let t;let i=nb({},e),{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=i;if(i.headers=o=iO.from(o),i.url=ih(iU(i.baseURL,i.url),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),t8.isFormData(n)){if(ik.hasStandardBrowserEnv||ik.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(t=o.getContentType())){let[e,...i]=t?t.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...i].join("; "))}}if(ik.hasStandardBrowserEnv&&(r&&t8.isFunction(r)&&(r=r(i)),r||!1!==r&&ng(i.url))){let e=a&&s&&ny.read(s);e&&o.set(a,e)}return i},nx="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,i){let n,r,a,s,o;let l=nw(e),c=l.data,u=iO.from(l.headers).normalize(),{responseType:d,onUploadProgress:h,onDownloadProgress:p}=l;function f(){s&&s(),o&&o(),l.cancelToken&&l.cancelToken.unsubscribe(n),l.signal&&l.signal.removeEventListener("abort",n)}let m=new XMLHttpRequest;function g(){if(!m)return;let n=iO.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());iD(function(e){t(e),f()},function(e){i(e),f()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:e,request:m}),m=null}m.open(l.method.toUpperCase(),l.url,!0),m.timeout=l.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(i(new t9("Request aborted",t9.ECONNABORTED,e,m)),m=null)},m.onerror=function(){i(new t9("Network Error",t9.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",n=l.transitional||im;l.timeoutErrorMessage&&(t=l.timeoutErrorMessage),i(new t9(t,n.clarifyTimeoutError?t9.ETIMEDOUT:t9.ECONNABORTED,e,m)),m=null},void 0===c&&u.setContentType(null),"setRequestHeader"in m&&t8.forEach(u.toJSON(),function(e,t){m.setRequestHeader(t,e)}),t8.isUndefined(l.withCredentials)||(m.withCredentials=!!l.withCredentials),d&&"json"!==d&&(m.responseType=l.responseType),p&&([a,o]=i7(p,!0),m.addEventListener("progress",a)),h&&m.upload&&([r,s]=i7(h),m.upload.addEventListener("progress",r),m.upload.addEventListener("loadend",s)),(l.cancelToken||l.signal)&&(n=t=>{m&&(i(!t||t.type?new iL(null,e,m):t),m.abort(),m=null)},l.cancelToken&&l.cancelToken.subscribe(n),l.signal&&(l.signal.aborted?n():l.signal.addEventListener("abort",n)));let y=iW(l.url);if(y&&-1===ik.protocols.indexOf(y)){i(new t9("Unsupported protocol "+y+":",t9.ERR_BAD_REQUEST,e));return}m.send(c||null)})},nk=(e,t)=>{let{length:i}=e=e?e.filter(Boolean):[];if(t||i){let i,n=new AbortController,r=function(e){if(!i){i=!0,s();let t=e instanceof Error?e:this.reason;n.abort(t instanceof t9?t:new iL(t instanceof Error?t.message:t))}},a=t&&setTimeout(()=>{a=null,r(new t9(`timeout ${t} of ms exceeded`,t9.ETIMEDOUT))},t),s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));let{signal:o}=n;return o.unsubscribe=()=>t8.asap(s),o}},nS=function*(e,t){let i,n=e.byteLength;if(!t||n<t){yield e;return}let r=0;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},n_=async function*(e,t){for await(let i of nR(e))yield*nS(i,t)},nR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}let t=e.getReader();try{for(;;){let{done:e,value:i}=await t.read();if(e)break;yield i}}finally{await t.cancel()}},nE=(e,t,i,n)=>{let r;let a=n_(e,t),s=0,o=e=>{!r&&(r=!0,n&&n(e))};return new ReadableStream({async pull(e){try{let{done:t,value:n}=await a.next();if(t){o(),e.close();return}let r=n.byteLength;if(i){let e=s+=r;i(e)}e.enqueue(new Uint8Array(n))}catch(e){throw o(e),e}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},nT="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,nC=nT&&"function"==typeof ReadableStream,nP=nT&&("function"==typeof TextEncoder?(d=new TextEncoder,e=>d.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer())),nA=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},nI=nC&&nA(()=>{let e=!1,t=new Request(ik.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),nO=nC&&nA(()=>t8.isReadableStream(new Response("").body)),nj={stream:nO&&(e=>e.body)};nT&&(g=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{nj[e]||(nj[e]=t8.isFunction(g[e])?t=>t[e]():(t,i)=>{throw new t9(`Response type '${e}' is not supported`,t9.ERR_NOT_SUPPORT,i)})}));let nN=async e=>{if(null==e)return 0;if(t8.isBlob(e))return e.size;if(t8.isSpecCompliantForm(e)){let t=new Request(ik.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return t8.isArrayBufferView(e)||t8.isArrayBuffer(e)?e.byteLength:(t8.isURLSearchParams(e)&&(e+=""),t8.isString(e))?(await nP(e)).byteLength:void 0},nL=async(e,t)=>{let i=t8.toFiniteNumber(e.getContentLength());return null==i?nN(t):i},nD={http:nm,xhr:nx,fetch:nT&&(async e=>{let t,i,{url:n,method:r,data:a,signal:s,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:u,responseType:d,headers:h,withCredentials:p="same-origin",fetchOptions:f}=nw(e);d=d?(d+"").toLowerCase():"text";let m=nk([s,o&&o.toAbortSignal()],l),g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});try{if(u&&nI&&"get"!==r&&"head"!==r&&0!==(i=await nL(h,a))){let e,t=new Request(n,{method:"POST",body:a,duplex:"half"});if(t8.isFormData(a)&&(e=t.headers.get("content-type"))&&h.setContentType(e),t.body){let[e,n]=ne(i,i7(nt(u)));a=nE(t.body,65536,e,n)}}t8.isString(p)||(p=p?"include":"omit");let s="credentials"in Request.prototype;t=new Request(n,{...f,signal:m,method:r.toUpperCase(),headers:h.normalize().toJSON(),body:a,duplex:"half",credentials:s?p:void 0});let o=await fetch(t),l=nO&&("stream"===d||"response"===d);if(nO&&(c||l&&g)){let e={};["status","statusText","headers"].forEach(t=>{e[t]=o[t]});let t=t8.toFiniteNumber(o.headers.get("content-length")),[i,n]=c&&ne(t,i7(nt(c),!0))||[];o=new Response(nE(o.body,65536,i,()=>{n&&n(),g&&g()}),e)}d=d||"text";let y=await nj[t8.findKey(nj,d)||"text"](o,e);return!l&&g&&g(),await new Promise((i,n)=>{iD(i,n,{data:y,headers:iO.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:t})})}catch(i){if(g&&g(),i&&"TypeError"===i.name&&/fetch/i.test(i.message))throw Object.assign(new t9("Network Error",t9.ERR_NETWORK,e,t),{cause:i.cause||i});throw t9.from(i,i&&i.code,e,t)}})};t8.forEach(nD,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let nU=e=>`- ${e}`,nq=e=>t8.isFunction(e)||null===e||!1===e,nM={getAdapter:e=>{let t,i;let{length:n}=e=t8.isArray(e)?e:[e],r={};for(let a=0;a<n;a++){let n;if(i=t=e[a],!nq(t)&&void 0===(i=nD[(n=String(t)).toLowerCase()]))throw new t9(`Unknown adapter '${n}'`);if(i)break;r[n||"#"+a]=i}if(!i){let e=Object.entries(r).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new t9("There is no suitable adapter to dispatch the request "+(n?e.length>1?"since :\n"+e.map(nU).join("\n"):" "+nU(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i}};function nF(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new iL(null,e)}function n$(e){return nF(e),e.headers=iO.from(e.headers),e.data=ij.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),nM.getAdapter(e.adapter||i_.adapter)(e).then(function(t){return nF(e),t.data=ij.call(e,e.transformResponse,t),t.headers=iO.from(t.headers),t},function(t){return!iN(t)&&(nF(e),t&&t.response&&(t.response.data=ij.call(e,e.transformResponse,t.response),t.response.headers=iO.from(t.response.headers))),Promise.reject(t)})}let nB={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nB[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});let nK={};nB.transitional=function(e,t,i){function n(e,t){return"[Axios v"+iV+"] Transitional option '"+e+"'"+t+(i?". "+i:"")}return(i,r,a)=>{if(!1===e)throw new t9(n(r," has been removed"+(t?" in "+t:"")),t9.ERR_DEPRECATED);return t&&!nK[r]&&(nK[r]=!0,console.warn(n(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,r,a)}};let nz={assertOptions:function(e,t,i){if("object"!=typeof e)throw new t9("options must be an object",t9.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),r=n.length;for(;r-- >0;){let a=n[r],s=t[a];if(s){let t=e[a],i=void 0===t||s(t,a,e);if(!0!==i)throw new t9("option "+a+" must be "+i,t9.ERR_BAD_OPTION_VALUE);continue}if(!0!==i)throw new t9("Unknown option "+a,t9.ERR_BAD_OPTION)}},validators:nB},nV=nz.validators;class nW{constructor(e){this.defaults=e,this.interceptors={request:new ip,response:new ip}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=Error();let i=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?i&&!String(e.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+i):e.stack=i}catch(e){}}throw e}}_request(e,t){let i,n;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:r,paramsSerializer:a,headers:s}=t=nb(this.defaults,t);void 0!==r&&nz.assertOptions(r,{silentJSONParsing:nV.transitional(nV.boolean),forcedJSONParsing:nV.transitional(nV.boolean),clarifyTimeoutError:nV.transitional(nV.boolean)},!1),null!=a&&(t8.isFunction(a)?t.paramsSerializer={serialize:a}:nz.assertOptions(a,{encode:nV.function,serialize:nV.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&t8.merge(s.common,s[t.method]);s&&t8.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=iO.concat(o,s);let l=[],c=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(c=c&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});let u=[];this.interceptors.response.forEach(function(e){u.push(e.fulfilled,e.rejected)});let d=0;if(!c){let e=[n$.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,u),n=e.length,i=Promise.resolve(t);d<n;)i=i.then(e[d++],e[d++]);return i}n=l.length;let h=t;for(d=0;d<n;){let e=l[d++],t=l[d++];try{h=e(h)}catch(e){t.call(this,e);break}}try{i=n$.call(this,h)}catch(e){return Promise.reject(e)}for(d=0,n=u.length;d<n;)i=i.then(u[d++],u[d++]);return i}getUri(e){return ih(iU((e=nb(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}t8.forEach(["delete","get","head","options"],function(e){nW.prototype[e]=function(t,i){return this.request(nb(i||{},{method:e,url:t,data:(i||{}).data}))}}),t8.forEach(["post","put","patch"],function(e){function t(t){return function(i,n,r){return this.request(nb(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}nW.prototype[e]=t(),nW.prototype[e+"Form"]=t(!0)});class nH{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let i=this;this.promise.then(e=>{if(!i._listeners)return;let t=i._listeners.length;for(;t-- >0;)i._listeners[t](e);i._listeners=null}),this.promise.then=e=>{let t;let n=new Promise(e=>{i.subscribe(e),t=e}).then(e);return n.cancel=function(){i.unsubscribe(t)},n},e(function(e,n,r){i.reason||(i.reason=new iL(e,n,r),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){let e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new nH(function(t){e=t}),cancel:e}}}let nG={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nG).forEach(([e,t])=>{nG[t]=e});let nJ=function e(t){let i=new nW(t),n=tS(nW.prototype.request,i);return t8.extend(n,nW.prototype,i,{allOwnKeys:!0}),t8.extend(n,i,null,{allOwnKeys:!0}),n.create=function(i){return e(nb(t,i))},n}(i_);nJ.Axios=nW,nJ.CanceledError=iL,nJ.CancelToken=nH,nJ.isCancel=iN,nJ.VERSION=iV,nJ.toFormData=io,nJ.AxiosError=t9,nJ.Cancel=nJ.CanceledError,nJ.all=function(e){return Promise.all(e)},nJ.spread=function(e){return function(t){return e.apply(null,t)}},nJ.isAxiosError=function(e){return t8.isObject(e)&&!0===e.isAxiosError},nJ.mergeConfig=nb,nJ.AxiosHeaders=iO,nJ.formToJSON=e=>iS(t8.isHTMLForm(e)?new FormData(e):e),nJ.getAdapter=nM.getAdapter,nJ.HttpStatusCode=nG,nJ.default=nJ;let{Axios:nY,AxiosError:nX,CanceledError:nQ,isCancel:nZ,CancelToken:n0,VERSION:n1,all:n2,Cancel:n3,isAxiosError:n4,spread:n5,toFormData:n6,AxiosHeaders:n8,HttpStatusCode:n9,formToJSON:n7,getAdapter:re,mergeConfig:rt}=nJ;class ri extends Error{constructor(e,t="UNKNOWN",i){super(e),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=t,this.meta=null!=i?i:{}}toString(){let e=[this.name+": "+this.message];this.code&&(e.push(""),e.push("Code: "+this.code)),this.serviceName&&this.methodName&&e.push("Method: "+this.serviceName+"/"+this.methodName);let t=Object.entries(this.meta);if(t.length)for(let[i,n]of(e.push(""),e.push("Meta:"),t))e.push(`  ${i}: ${n}`);return e.join("\n")}}function rn(e,t){if(e)for(let[i,n]of Object.entries(e))n instanceof Date?t[i]=new Date(n.getTime()):Array.isArray(n)?t[i]=n.concat():t[i]=n}(function(e){e[e.cancelled=0]="cancelled",e[e.unknown=1]="unknown",e[e.invalid_argument=2]="invalid_argument",e[e.malformed=3]="malformed",e[e.deadline_exceeded=4]="deadline_exceeded",e[e.not_found=5]="not_found",e[e.bad_route=6]="bad_route",e[e.already_exists=7]="already_exists",e[e.permission_denied=8]="permission_denied",e[e.unauthenticated=9]="unauthenticated",e[e.resource_exhausted=10]="resource_exhausted",e[e.failed_precondition=11]="failed_precondition",e[e.aborted=12]="aborted",e[e.out_of_range=13]="out_of_range",e[e.unimplemented=14]="unimplemented",e[e.internal=15]="internal",e[e.unavailable=16]="unavailable",e[e.dataloss=17]="dataloss"})(S||(S={})),function(e){e[e.PENDING=0]="PENDING",e[e.REJECTED=1]="REJECTED",e[e.RESOLVED=2]="RESOLVED"}(_||(_={}));class rr{constructor(e=!0){this._state=_.PENDING,this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t}),e&&this._promise.catch(e=>{})}get state(){return this._state}get promise(){return this._promise}resolve(e){if(this.state!==_.PENDING)throw Error(`cannot resolve ${_[this.state].toLowerCase()}`);this._resolve(e),this._state=_.RESOLVED}reject(e){if(this.state!==_.PENDING)throw Error(`cannot reject ${_[this.state].toLowerCase()}`);this._reject(e),this._state=_.REJECTED}resolvePending(e){this._state===_.PENDING&&this.resolve(e)}rejectPending(e){this._state===_.PENDING&&this.reject(e)}}class ra{constructor(e,t,i,n,r,a,s){this.method=e,this.requestHeaders=t,this.request=i,this.headers=n,this.response=r,this.status=a,this.trailers=s}then(e,t){return this.promiseFinished().then(t=>e?Promise.resolve(e(t)):t,e=>t?Promise.resolve(t(e)):Promise.reject(e))}promiseFinished(){var e,t,i,n;return e=this,t=void 0,i=void 0,n=function*(){let[e,t,i,n]=yield Promise.all([this.headers,this.response,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,response:t,status:i,trailers:n}},new(i||(i=Promise))(function(r,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(s,o)}l((n=n.apply(e,t||[])).next())})}}class rs{constructor(e){this.defaultOptions=e}mergeOptions(e){return function(e,t){if(!t)return e;let i={};for(let a of(rn(e,i),rn(t,i),Object.keys(t))){let s=t[a];switch(a){case"jsonOptions":i.jsonOptions=function(e,t){var i,n;let r=Object.assign(Object.assign({},e),t);return r.typeRegistry=[...null!==(i=null==e?void 0:e.typeRegistry)&&void 0!==i?i:[],...null!==(n=null==t?void 0:t.typeRegistry)&&void 0!==n?n:[]],r}(e.jsonOptions,i.jsonOptions);break;case"binaryOptions":var n,r;i.binaryOptions=(n=e.binaryOptions,r=i.binaryOptions,Object.assign(Object.assign({},n),r));break;case"meta":i.meta={},rn(e.meta,i.meta),rn(t.meta,i.meta);break;case"interceptors":i.interceptors=e.interceptors?e.interceptors.concat(s):s.concat()}}return i}(this.defaultOptions,e)}unary(e,t,i){var n,r,a;let s=this.makeUrl(e,i),o=null!==(n=i.fetchInit)&&void 0!==n?n:{},l=i.sendJson?e.I.toJsonString(t,i.jsonOptions):e.I.toBinary(t,i.binaryOptions),c=new rr,u=new rr,d=new rr,h=new rr;return globalThis.fetch(s,Object.assign(Object.assign({},o),{method:"POST",headers:function(e,t,i){if(i)for(let[t,n]of Object.entries(i))if("string"==typeof n)e.append(t,n);else for(let i of n)e.append(t,i);return e.set("Content-Type",t?"application/json":"application/protobuf"),e.set("Accept",t?"application/json":"application/protobuf, application/json"),e}(new globalThis.Headers,!!i.sendJson,i.meta),body:l,signal:null!==(r=i.abort)&&void 0!==r?r:null})).then(t=>{var n;let r,a;c.resolve((n=t.headers,a={},n.forEach((e,t)=>{"content-type"!==t.toLowerCase()&&"content-length"!==t.toLowerCase()&&(a.hasOwnProperty(t)?a[t].push(e):a[t]=e)}),a));try{r=t.type}catch(e){}switch(r){case"error":case"opaque":case"opaqueredirect":throw new ri(`fetch response type ${t.type}`,S[S.unknown])}return t.ok?i.sendJson?t.json().then(t=>e.O.fromJson(t,i.jsonOptions),()=>{throw new ri("unable to read response body as json",S[S.dataloss])}):t.arrayBuffer().then(t=>e.O.fromBinary(new Uint8Array(t),i.binaryOptions),()=>{throw new ri("unable to read response body",S[S.dataloss])}):t.json().then(e=>{throw function(e){if(!eJ(e)||"string"!=typeof e.code||"string"!=typeof e.msg)return new ri("cannot read twirp error response",S[S.internal]);let t={};if(eJ(e.meta))for(let[i,n]of Object.entries(e.meta))"string"==typeof n&&(t[i]=n);return new ri(e.msg,e.code,t)}(e)},()=>{throw new ri("received HTTP "+t.status+", unable to read response body as json",S[S.internal])})},e=>{if(e instanceof Error&&"AbortError"===e.name)throw new ri(e.message,S[S.cancelled]);throw new ri(e instanceof Error?e.message:e)}).then(e=>{u.resolve(e),d.resolve({code:"OK",detail:""}),h.resolve({})}).catch(t=>{let i=t instanceof ri?t:new ri(t instanceof Error?t.message:t,S[S.internal]);i.methodName=e.name,i.serviceName=e.service.typeName,c.rejectPending(i),u.rejectPending(i),d.rejectPending(i),h.rejectPending(i)}),new ra(e,null!==(a=i.meta)&&void 0!==a?a:{},t,c.promise,u.promise,d.promise,h.promise)}makeUrl(e,t){let i=t.baseUrl;i.endsWith("/")&&(i=i.substring(0,i.length-1));let n=e.name;return!0!==t.useProtoMethodName&&(n=(n=eV(n)).substring(0,1).toUpperCase()+n.substring(1)),`${i}/${e.service.typeName}/${n}`}clientStreaming(e){let t=new ri("Client streaming is not supported by Twirp",S[S.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}duplex(e){let t=new ri("Duplex streaming is not supported by Twirp",S[S.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}serverStreaming(e){let t=new ri("Server streaming is not supported by Twirp",S[S.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}}var ro=i(27863);function rl(e){return"function"==typeof e}function rc(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ru=rc(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function rd(e,t){if(e){var i=e.indexOf(t);0<=i&&e.splice(i,1)}}var rh=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,i,n,r,a=this._parentage;if(a){if(this._parentage=null,Array.isArray(a))try{for(var s=(0,ro.XA)(a),o=s.next();!o.done;o=s.next())o.value.remove(this)}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else a.remove(this)}var l=this.initialTeardown;if(rl(l))try{l()}catch(e){r=e instanceof ru?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var u=(0,ro.XA)(c),d=u.next();!d.done;d=u.next()){var h=d.value;try{rm(h)}catch(e){r=null!=r?r:[],e instanceof ru?r=(0,ro.ev)((0,ro.ev)([],(0,ro.CR)(r)),(0,ro.CR)(e.errors)):r.push(e)}}}catch(e){i={error:e}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}}if(r)throw new ru(r)}},t.prototype.add=function(e){var i;if(e&&e!==this){if(this.closed)rm(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&rd(t,e)},t.prototype.remove=function(e){var i=this._finalizers;i&&rd(i,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),rp=rh.EMPTY;function rf(e){return e instanceof rh||e&&"closed"in e&&rl(e.remove)&&rl(e.add)&&rl(e.unsubscribe)}function rm(e){rl(e)?e():e.unsubscribe()}var rg={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ry={setTimeout:function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var r=ry.delegate;return(null==r?void 0:r.setTimeout)?r.setTimeout.apply(r,(0,ro.ev)([e,t],(0,ro.CR)(i))):setTimeout.apply(void 0,(0,ro.ev)([e,t],(0,ro.CR)(i)))},clearTimeout:function(e){var t=ry.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function rv(e){ry.setTimeout(function(){var t=rg.onUnhandledError;if(t)t(e);else throw e})}function rb(){}var rw=rx("C",void 0,void 0);function rx(e,t,i){return{kind:e,value:t,error:i}}var rk=null;function rS(e){if(rg.useDeprecatedSynchronousErrorHandling){var t=!rk;if(t&&(rk={errorThrown:!1,error:null}),e(),t){var i=rk,n=i.errorThrown,r=i.error;if(rk=null,n)throw r}}else e()}var r_=function(e){function t(t){var i=e.call(this)||this;return i.isStopped=!1,t?(i.destination=t,rf(t)&&t.add(i)):i.destination=rI,i}return(0,ro.ZT)(t,e),t.create=function(e,t,i){return new rC(e,t,i)},t.prototype.next=function(e){this.isStopped?rA(rx("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?rA(rx("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?rA(rw,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(rh),rR=Function.prototype.bind;function rE(e,t){return rR.call(e,t)}var rT=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){rP(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){rP(e)}else rP(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){rP(e)}},e}(),rC=function(e){function t(t,i,n){var r,a,s=e.call(this)||this;return rl(t)||!t?r={next:null!=t?t:void 0,error:null!=i?i:void 0,complete:null!=n?n:void 0}:s&&rg.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},r={next:t.next&&rE(t.next,a),error:t.error&&rE(t.error,a),complete:t.complete&&rE(t.complete,a)}):r=t,s.destination=new rT(r),s}return(0,ro.ZT)(t,e),t}(r_);function rP(e){rg.useDeprecatedSynchronousErrorHandling?rg.useDeprecatedSynchronousErrorHandling&&rk&&(rk.errorThrown=!0,rk.error=e):rv(e)}function rA(e,t){var i=rg.onStoppedNotification;i&&ry.setTimeout(function(){return i(e,t)})}var rI={closed:!0,next:rb,error:function(e){throw e},complete:rb},rO="function"==typeof Symbol&&Symbol.observable||"@@observable";function rj(e){return e}var rN=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var i=new e;return i.source=this,i.operator=t,i},e.prototype.subscribe=function(e,t,i){var n,r=this,a=(n=e)&&n instanceof r_||n&&rl(n.next)&&rl(n.error)&&rl(n.complete)&&rf(n)?e:new rC(e,t,i);return rS(function(){var e=r.operator,t=r.source;a.add(e?e.call(a,t):t?r._subscribe(a):r._trySubscribe(a))}),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var i=this;return new(t=rL(t))(function(t,n){var r=new rC({next:function(t){try{e(t)}catch(e){n(e),r.unsubscribe()}},error:n,complete:t});i.subscribe(r)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[rO]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?rj:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=rL(e))(function(e,i){var n;t.subscribe(function(e){return n=e},function(e){return i(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function rL(e){var t;return null!==(t=null!=e?e:rg.Promise)&&void 0!==t?t:Promise}var rD=rc(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),rU=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,ro.ZT)(t,e),t.prototype.lift=function(e){var t=new rq(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new rD},t.prototype.next=function(e){var t=this;rS(function(){var i,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var r=(0,ro.XA)(t.currentObservers),a=r.next();!a.done;a=r.next())a.value.next(e)}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}}})},t.prototype.error=function(e){var t=this;rS(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var i=t.observers;i.length;)i.shift().error(e)}})},t.prototype.complete=function(){var e=this;rS(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,i=this.hasError,n=this.isStopped,r=this.observers;return i||n?rp:(this.currentObservers=null,r.push(e),new rh(function(){t.currentObservers=null,rd(r,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,i=this.thrownError,n=this.isStopped;t?e.error(i):n&&e.complete()},t.prototype.asObservable=function(){var e=new rN;return e.source=this,e},t.create=function(e,t){return new rq(e,t)},t}(rN),rq=function(e){function t(t,i){var n=e.call(this)||this;return n.destination=t,n.source=i,n}return(0,ro.ZT)(t,e),t.prototype.next=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)},t.prototype.error=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:rp},t}(rU),rM={now:function(){return(rM.delegate||Date).now()},delegate:void 0},rF=function(e){function t(t,i,n){void 0===t&&(t=1/0),void 0===i&&(i=1/0),void 0===n&&(n=rM);var r=e.call(this)||this;return r._bufferSize=t,r._windowTime=i,r._timestampProvider=n,r._buffer=[],r._infiniteTimeWindow=!0,r._infiniteTimeWindow=i===1/0,r._bufferSize=Math.max(1,t),r._windowTime=Math.max(1,i),r}return(0,ro.ZT)(t,e),t.prototype.next=function(t){var i=this.isStopped,n=this._buffer,r=this._infiniteTimeWindow,a=this._timestampProvider,s=this._windowTime;!i&&(n.push(t),r||n.push(a.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),i=this._infiniteTimeWindow,n=this._buffer.slice(),r=0;r<n.length&&!e.closed;r+=i?1:2)e.next(n[r]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,i=this._buffer,n=this._infiniteTimeWindow,r=(n?1:2)*e;if(e<1/0&&r<i.length&&i.splice(0,i.length-r),!n){for(var a=t.now(),s=0,o=1;o<i.length&&i[o]<=a;o+=2)s=o;s&&i.splice(0,s+1)}},t}(rU),r$=Array.isArray,rB=Object.getPrototypeOf,rK=Object.prototype,rz=Object.keys,rV=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function rW(e){return rl(null==e?void 0:e.then)}function rH(e){return Symbol.asyncIterator&&rl(null==e?void 0:e[Symbol.asyncIterator])}function rG(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var rJ="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function rY(e){return rl(null==e?void 0:e[rJ])}function rX(e){return(0,ro.FC)(this,arguments,function(){var t,i,n;return(0,ro.Jh)(this,function(r){switch(r.label){case 0:t=e.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,(0,ro.qq)(t.read())];case 3:if(n=(i=r.sent()).value,!i.done)return[3,5];return[4,(0,ro.qq)(void 0)];case 4:return[2,r.sent()];case 5:return[4,(0,ro.qq)(n)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function rQ(e){return rl(null==e?void 0:e.getReader)}function rZ(e){if(e instanceof rN)return e;if(null!=e){if(rl(e[rO]))return new rN(function(t){var i=e[rO]();if(rl(i.subscribe))return i.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")});if(rV(e))return new rN(function(t){for(var i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()});if(rW(e))return new rN(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,rv)});if(rH(e))return r0(e);if(rY(e))return new rN(function(t){var i,n;try{for(var r=(0,ro.XA)(e),a=r.next();!a.done;a=r.next()){var s=a.value;if(t.next(s),t.closed)return}}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}t.complete()});if(rQ(e))return r0(rX(e))}throw rG(e)}function r0(e){return new rN(function(t){(function(e,t){var i,n,r,a;return(0,ro.mG)(this,void 0,void 0,function(){var s;return(0,ro.Jh)(this,function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),i=(0,ro.KL)(e),o.label=1;case 1:return[4,i.next()];case 2:if((n=o.sent()).done)return[3,4];if(s=n.value,t.next(s),t.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return r={error:o.sent()},[3,11];case 6:if(o.trys.push([6,,9,10]),!(n&&!n.done&&(a=i.return)))return[3,8];return[4,a.call(i)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(r)throw r.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function r1(e,t,i,n,r){void 0===n&&(n=0),void 0===r&&(r=!1);var a=t.schedule(function(){i(),r?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(a),!r)return a}function r2(e){return function(t){if(rl(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}function r3(e,t,i,n,r){return new r4(e,t,i,n,r)}var r4=function(e){function t(t,i,n,r,a,s){var o=e.call(this,t)||this;return o.onFinalize=a,o.shouldUnsubscribe=s,o._next=i?function(e){try{i(e)}catch(e){t.error(e)}}:e.prototype._next,o._error=r?function(e){try{r(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return(0,ro.ZT)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;e.prototype.unsubscribe.call(this),i||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(r_);function r5(e,t){return void 0===t&&(t=0),r2(function(i,n){i.subscribe(r3(n,function(i){return r1(n,e,function(){return n.next(i)},t)},function(){return r1(n,e,function(){return n.complete()},t)},function(i){return r1(n,e,function(){return n.error(i)},t)}))})}function r6(e,t){return void 0===t&&(t=0),r2(function(i,n){n.add(e.schedule(function(){return i.subscribe(n)},t))})}function r8(e,t){if(!e)throw Error("Iterable cannot be null");return new rN(function(i){r1(i,t,function(){var n=e[Symbol.asyncIterator]();r1(i,t,function(){n.next().then(function(e){e.done?i.complete():i.next(e.value)})},0,!0)})})}function r9(e,t){return t?function(e,t){if(null!=e){if(rl(e[rO]))return rZ(e).pipe(r6(t),r5(t));if(rV(e))return new rN(function(i){var n=0;return t.schedule(function(){n===e.length?i.complete():(i.next(e[n++]),i.closed||this.schedule())})});if(rW(e))return rZ(e).pipe(r6(t),r5(t));if(rH(e))return r8(e,t);if(rY(e))return new rN(function(i){var n;return r1(i,t,function(){n=e[rJ](),r1(i,t,function(){var e,t,r;try{t=(e=n.next()).value,r=e.done}catch(e){i.error(e);return}r?i.complete():i.next(t)},0,!0)}),function(){return rl(null==n?void 0:n.return)&&n.return()}});if(rQ(e))return r8(rX(e),t)}throw rG(e)}(e,t):rZ(e)}function r7(e,t){return r2(function(i,n){var r=0;i.subscribe(r3(n,function(i){n.next(e.call(t,i,r++))}))})}var ae=Array.isArray;function at(e){return e[e.length-1]}function ai(e){var t;return(t=at(e))&&rl(t.schedule)?e.pop():void 0}function an(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=ai(t),r=rl(at(t))?t.pop():void 0,a=function(e){if(1===e.length){var t=e[0];if(r$(t))return{args:t,keys:null};if(t&&"object"==typeof t&&rB(t)===rK){var i=rz(t);return{args:i.map(function(e){return t[e]}),keys:i}}}return{args:e,keys:null}}(t),s=a.args,o=a.keys;if(0===s.length)return r9([],n);var l=new rN((void 0===(e=o?function(e){return o.reduce(function(t,i,n){return t[i]=e[n],t},{})}:rj)&&(e=rj),function(t){var i,r,a;i=n,r=function(){for(var i=s.length,r=Array(i),a=i,o=i,l=function(i){var l,c,u;l=n,c=function(){var l=r9(s[i],n),c=!1;l.subscribe(r3(t,function(n){r[i]=n,!c&&(c=!0,o--),o||t.next(e(r.slice()))},function(){--a||t.complete()}))},u=t,l?r1(u,l,c):c()},c=0;c<i;c++)l(c)},a=t,i?r1(a,i,r):r()}));return r?l.pipe(r7(function(e){return ae(e)?r.apply(void 0,(0,ro.ev)([],(0,ro.CR)(e))):r(e)})):l}var ar=function(e){function t(t){var i=e.call(this)||this;return i._value=t,i}return(0,ro.ZT)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var i=e.prototype._subscribe.call(this,t);return i.closed||t.next(this._value),i},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,i=this._value;if(e)throw t;return this._throwIfClosed(),i},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(rU);function aa(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(!0===t){e();return}if(!1!==t){var r=new rC({next:function(){r.unsubscribe(),e()}});return rZ(t.apply(void 0,(0,ro.ev)([],(0,ro.CR)(i)))).subscribe(r)}}function as(e,t,i){var n,r,a,s,o,l,c,u,d,h,p,f,m,g=!1;return e&&"object"==typeof e?(m=void 0===(h=e.bufferSize)?1/0:h,t=void 0===(p=e.windowTime)?1/0:p,g=void 0!==(f=e.refCount)&&f,i=e.scheduler):m=null!=e?e:1/0,a=void 0===(r=(n={connector:function(){return new rF(m,t,i)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:g}).connector)?function(){return new rU}:r,o=void 0===(s=n.resetOnError)||s,c=void 0===(l=n.resetOnComplete)||l,d=void 0===(u=n.resetOnRefCountZero)||u,function(e){var t,i,n,r=0,s=!1,l=!1,u=function(){null==i||i.unsubscribe(),i=void 0},h=function(){u(),t=n=void 0,s=l=!1},p=function(){var e=t;h(),null==e||e.unsubscribe()};return r2(function(e,f){r++,l||s||u();var m=n=null!=n?n:a();f.add(function(){0!=--r||l||s||(i=aa(p,d))}),m.subscribe(f),!t&&r>0&&(t=new rC({next:function(e){return m.next(e)},error:function(e){l=!0,u(),i=aa(h,o,e),m.error(e)},complete:function(){s=!0,u(),i=aa(h,c),m.complete()}}),rZ(e).subscribe(t))})(e)}}function ao(e,t){return void 0===t&&(t=rj),e=null!=e?e:al,r2(function(i,n){var r,a=!0;i.subscribe(r3(n,function(i){var s=t(i);(a||!e(r,s))&&(a=!1,r=s,n.next(i))}))})}function al(e,t){return e===t}function ac(e,t){return void 0===t&&(t=!1),r2(function(i,n){var r=0;i.subscribe(r3(n,function(i){var a=e(i,r++);(a||t)&&n.next(i),a||n.complete()}))})}function au(e,t){return ao(function(i,n){return t?t(i[e],n[e]):i[e]===n[e]})}var ad=function(e){function t(t,i){return e.call(this)||this}return(0,ro.ZT)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(rh),ah={setInterval:function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var r=ah.delegate;return(null==r?void 0:r.setInterval)?r.setInterval.apply(r,(0,ro.ev)([e,t],(0,ro.CR)(i))):setInterval.apply(void 0,(0,ro.ev)([e,t],(0,ro.CR)(i)))},clearInterval:function(e){var t=ah.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},ap=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.scheduler=t,n.work=i,n.pending=!1,n}return(0,ro.ZT)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var i,n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,i){return void 0===i&&(i=0),ah.setInterval(e.flush.bind(e,this),i)},t.prototype.recycleAsyncId=function(e,t,i){if(void 0===i&&(i=0),null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&ah.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var i,n=!1;try{this.work(e)}catch(e){n=!0,i=e||Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,i=this.scheduler,n=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,rd(n,this),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(ad),af=function(){function e(t,i){void 0===i&&(i=e.now),this.schedulerActionCtor=t,this.now=i}return e.prototype.schedule=function(e,t,i){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(i,t)},e.now=rM.now,e}(),am=new(function(e){function t(t,i){void 0===i&&(i=af.now);var n=e.call(this,t,i)||this;return n.actions=[],n._active=!1,n}return(0,ro.ZT)(t,e),t.prototype.flush=function(e){var t,i=this.actions;if(this._active){i.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=i.shift());if(this._active=!1,t){for(;e=i.shift();)e.unsubscribe();throw t}},t}(af))(ap);function ag(e,t,i){return(void 0===i&&(i=1/0),rl(t))?ag(function(i,n){return r7(function(e,r){return t(i,e,n,r)})(rZ(e(i,n)))},i):("number"==typeof t&&(i=t),r2(function(t,n){var r,a,s,o,l,c,u,d,h;return r=i,s=[],o=0,l=0,c=!1,u=function(){!c||s.length||o||n.complete()},d=function(e){return o<r?h(e):s.push(e)},h=function(t){o++;var i=!1;rZ(e(t,l++)).subscribe(r3(n,function(e){a?d(e):n.next(e)},function(){i=!0},void 0,function(){if(i)try{for(o--;s.length&&o<r;)!function(){var e=s.shift();h(e)}();u()}catch(e){n.error(e)}}))},t.subscribe(r3(n,d,function(){c=!0,u()})),function(){}}))}var ay=new rN(function(e){return e.complete()});function av(){for(var e,t,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var r=ai(i),a=(e=1/0,"number"==typeof at(i)?i.pop():e);return i.length?1===i.length?rZ(i[0]):(void 0===(t=a)&&(t=1/0),ag(rj,t))(r9(i,r)):ay}var ab=i(95710),aw=i(17453),ax=i(96275),ak=i.n(ax),aS=i(9087),a_=i.n(aS);i(84770);var aR=i(73657);let aE={BLOCK_USERS:"block-users",CREATE_REACTION:"create-reaction",JOIN_BACKSTAGE:"join-backstage",MUTE_USERS:"mute-users",PIN_FOR_EVERYONE:"pin-for-everyone",SCREENSHARE:"screenshare",SEND_AUDIO:"send-audio",SEND_VIDEO:"send-video",START_RECORD_CALL:"start-record-call",STOP_RECORD_CALL:"stop-record-call",UPDATE_CALL_PERMISSIONS:"update-call-permissions"};class aT extends Error{}!function(e){e[e.NULL_VALUE=0]="NULL_VALUE"}(R||(R={}));class aC extends tw{constructor(){super("google.protobuf.Struct",[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:()=>aI}}])}internalJsonWrite(e,t){let i={};for(let[t,n]of Object.entries(e.fields))i[t]=aI.toJson(n);return i}internalJsonRead(e,t,i){if(!eJ(e))throw new globalThis.Error("Unable to parse message "+this.typeName+" from JSON "+eG(e)+".");for(let[t,n]of(i||(i=this.create()),globalThis.Object.entries(e)))i.fields[t]=aI.fromJson(n);return i}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.fields={},void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)this.binaryReadMap1(r.fields,e,i);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}binaryReadMap1(e,t,i){let n=t.uint32(),r=t.pos+n,a,s;for(;t.pos<r;){let[e,n]=t.tag();switch(e){case 1:a=t.string();break;case 2:s=aI.internalBinaryRead(t,t.uint32(),i);break;default:throw new globalThis.Error("unknown map entry field for field google.protobuf.Struct.fields")}}e[a??""]=s??aI.create()}internalBinaryWrite(e,t,i){for(let n of globalThis.Object.keys(e.fields))t.tag(1,k.LengthDelimited).fork().tag(1,k.LengthDelimited).string(n),t.tag(2,k.LengthDelimited).fork(),aI.internalBinaryWrite(e.fields[n],t,i),t.join().join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let aP=new aC;class aA extends tw{constructor(){super("google.protobuf.Value",[{no:1,name:"null_value",kind:"enum",oneof:"kind",T:()=>["google.protobuf.NullValue",R]},{no:2,name:"number_value",kind:"scalar",oneof:"kind",T:1},{no:3,name:"string_value",kind:"scalar",oneof:"kind",T:9},{no:4,name:"bool_value",kind:"scalar",oneof:"kind",T:8},{no:5,name:"struct_value",kind:"message",oneof:"kind",T:()=>aP},{no:6,name:"list_value",kind:"message",oneof:"kind",T:()=>aj}])}internalJsonWrite(e,t){if(void 0===e.kind.oneofKind)throw new globalThis.Error;switch(e.kind.oneofKind){case void 0:throw new globalThis.Error;case"boolValue":return e.kind.boolValue;case"nullValue":return null;case"numberValue":let i=e.kind.numberValue;if("number"==typeof i&&!Number.isFinite(i))throw new globalThis.Error;return i;case"stringValue":return e.kind.stringValue;case"listValue":let n=this.fields.find(e=>6===e.no);if(n?.kind!=="message")throw new globalThis.Error;return n.T().toJson(e.kind.listValue);case"structValue":let r=this.fields.find(e=>5===e.no);if(r?.kind!=="message")throw new globalThis.Error;return r.T().toJson(e.kind.structValue)}}internalJsonRead(e,t,i){switch(i||(i=this.create()),typeof e){case"number":i.kind={oneofKind:"numberValue",numberValue:e};break;case"string":i.kind={oneofKind:"stringValue",stringValue:e};break;case"boolean":i.kind={oneofKind:"boolValue",boolValue:e};break;case"object":null===e?i.kind={oneofKind:"nullValue",nullValue:R.NULL_VALUE}:globalThis.Array.isArray(e)?i.kind={oneofKind:"listValue",listValue:aj.fromJson(e)}:i.kind={oneofKind:"structValue",structValue:aP.fromJson(e)};break;default:throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+eG(e))}return i}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.kind={oneofKind:void 0},void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.kind={oneofKind:"nullValue",nullValue:e.int32()};break;case 2:r.kind={oneofKind:"numberValue",numberValue:e.double()};break;case 3:r.kind={oneofKind:"stringValue",stringValue:e.string()};break;case 4:r.kind={oneofKind:"boolValue",boolValue:e.bool()};break;case 5:r.kind={oneofKind:"structValue",structValue:aP.internalBinaryRead(e,e.uint32(),i,r.kind.structValue)};break;case 6:r.kind={oneofKind:"listValue",listValue:aj.internalBinaryRead(e,e.uint32(),i,r.kind.listValue)};break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){"nullValue"===e.kind.oneofKind&&t.tag(1,k.Varint).int32(e.kind.nullValue),"numberValue"===e.kind.oneofKind&&t.tag(2,k.Bit64).double(e.kind.numberValue),"stringValue"===e.kind.oneofKind&&t.tag(3,k.LengthDelimited).string(e.kind.stringValue),"boolValue"===e.kind.oneofKind&&t.tag(4,k.Varint).bool(e.kind.boolValue),"structValue"===e.kind.oneofKind&&aP.internalBinaryWrite(e.kind.structValue,t.tag(5,k.LengthDelimited).fork(),i).join(),"listValue"===e.kind.oneofKind&&aj.internalBinaryWrite(e.kind.listValue,t.tag(6,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let aI=new aA;class aO extends tw{constructor(){super("google.protobuf.ListValue",[{no:1,name:"values",kind:"message",repeat:1,T:()=>aI}])}internalJsonWrite(e,t){return e.values.map(e=>aI.toJson(e))}internalJsonRead(e,t,i){if(!globalThis.Array.isArray(e))throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+eG(e));i||(i=this.create());let n=e.map(e=>aI.fromJson(e));return i.values.push(...n),i}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.values=[],void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.values.push(aI.internalBinaryRead(e,e.uint32(),i));else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){for(let n=0;n<e.values.length;n++)aI.internalBinaryWrite(e.values[n],t.tag(1,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let aj=new aO;class aN extends tw{constructor(){super("google.protobuf.Timestamp",[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}])}now(){let e=this.create(),t=Date.now();return e.seconds=e9.from(Math.floor(t/1e3)).toString(),e.nanos=t%1e3*1e6,e}toDate(e){return new Date(1e3*e9.from(e.seconds).toNumber()+Math.ceil(e.nanos/1e6))}fromDate(e){let t=this.create(),i=e.getTime();return t.seconds=e9.from(Math.floor(i/1e3)).toString(),t.nanos=i%1e3*1e6,t}internalJsonWrite(e,t){let i=1e3*e9.from(e.seconds).toNumber();if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw Error("Unable to encode Timestamp to JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");if(e.nanos<0)throw Error("Unable to encode invalid Timestamp to JSON. Nanos must not be negative.");let n="Z";if(e.nanos>0){let t=(e.nanos+1e9).toString().substring(1);n="000000"===t.substring(3)?"."+t.substring(0,3)+"Z":"000"===t.substring(6)?"."+t.substring(0,6)+"Z":"."+t+"Z"}return new Date(i).toISOString().replace(".000Z",n)}internalJsonRead(e,t,i){if("string"!=typeof e)throw Error("Unable to parse Timestamp from JSON "+eG(e)+".");let n=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw Error("Unable to parse Timestamp from JSON. Invalid format.");let r=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(r))throw Error("Unable to parse Timestamp from JSON. Invalid value.");if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new globalThis.Error("Unable to parse Timestamp from JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");return i||(i=this.create()),i.seconds=e9.from(r/1e3).toString(),i.nanos=0,n[7]&&(i.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9),i}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.seconds="0",t.nanos=0,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.seconds=e.int64().toString();break;case 2:r.nanos=e.int32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){"0"!==e.seconds&&t.tag(1,k.Varint).int64(e.seconds),0!==e.nanos&&t.tag(2,k.Varint).int32(e.nanos);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let aL=new aN;(function(e){e[e.PUBLISHER_UNSPECIFIED=0]="PUBLISHER_UNSPECIFIED",e[e.SUBSCRIBER=1]="SUBSCRIBER"})(E||(E={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.POOR=1]="POOR",e[e.GOOD=2]="GOOD",e[e.EXCELLENT=3]="EXCELLENT"}(T||(T={})),function(e){e[e.LOW_UNSPECIFIED=0]="LOW_UNSPECIFIED",e[e.MID=1]="MID",e[e.HIGH=2]="HIGH",e[e.OFF=3]="OFF"}(C||(C={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.AUDIO=1]="AUDIO",e[e.VIDEO=2]="VIDEO",e[e.SCREEN_SHARE=3]="SCREEN_SHARE",e[e.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO"}(P||(P={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PUBLISH_TRACK_NOT_FOUND=100]="PUBLISH_TRACK_NOT_FOUND",e[e.PUBLISH_TRACKS_MISMATCH=101]="PUBLISH_TRACKS_MISMATCH",e[e.PUBLISH_TRACK_OUT_OF_ORDER=102]="PUBLISH_TRACK_OUT_OF_ORDER",e[e.PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND=103]="PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND",e[e.LIVE_ENDED=104]="LIVE_ENDED",e[e.PARTICIPANT_NOT_FOUND=200]="PARTICIPANT_NOT_FOUND",e[e.PARTICIPANT_MIGRATING_OUT=201]="PARTICIPANT_MIGRATING_OUT",e[e.PARTICIPANT_MIGRATION_FAILED=202]="PARTICIPANT_MIGRATION_FAILED",e[e.PARTICIPANT_MIGRATING=203]="PARTICIPANT_MIGRATING",e[e.PARTICIPANT_RECONNECT_FAILED=204]="PARTICIPANT_RECONNECT_FAILED",e[e.PARTICIPANT_MEDIA_TRANSPORT_FAILURE=205]="PARTICIPANT_MEDIA_TRANSPORT_FAILURE",e[e.CALL_NOT_FOUND=300]="CALL_NOT_FOUND",e[e.REQUEST_VALIDATION_FAILED=400]="REQUEST_VALIDATION_FAILED",e[e.UNAUTHENTICATED=401]="UNAUTHENTICATED",e[e.PERMISSION_DENIED=403]="PERMISSION_DENIED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.SFU_SHUTTING_DOWN=600]="SFU_SHUTTING_DOWN",e[e.SFU_FULL=700]="SFU_FULL"}(A||(A={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.REACT=1]="REACT",e[e.ANGULAR=2]="ANGULAR",e[e.ANDROID=3]="ANDROID",e[e.IOS=4]="IOS",e[e.FLUTTER=5]="FLUTTER",e[e.REACT_NATIVE=6]="REACT_NATIVE",e[e.UNITY=7]="UNITY"}(I||(I={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.USER_MUTED=1]="USER_MUTED",e[e.PERMISSION_REVOKED=2]="PERMISSION_REVOKED",e[e.MODERATION=3]="MODERATION"}(O||(O={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SHUTTING_DOWN=1]="SHUTTING_DOWN",e[e.REBALANCE=2]="REBALANCE"}(j||(j={}));class aD extends tw{constructor(){super("stream.video.sfu.models.CallState",[{no:1,name:"participants",kind:"message",repeat:1,T:()=>aK},{no:2,name:"started_at",kind:"message",T:()=>aL},{no:3,name:"participant_count",kind:"message",T:()=>aM},{no:4,name:"pins",kind:"message",repeat:1,T:()=>a$}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.participants=[],t.pins=[],void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.participants.push(aK.internalBinaryRead(e,e.uint32(),i));break;case 2:r.startedAt=aL.internalBinaryRead(e,e.uint32(),i,r.startedAt);break;case 3:r.participantCount=aM.internalBinaryRead(e,e.uint32(),i,r.participantCount);break;case 4:r.pins.push(a$.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){for(let n=0;n<e.participants.length;n++)aK.internalBinaryWrite(e.participants[n],t.tag(1,k.LengthDelimited).fork(),i).join();e.startedAt&&aL.internalBinaryWrite(e.startedAt,t.tag(2,k.LengthDelimited).fork(),i).join(),e.participantCount&&aM.internalBinaryWrite(e.participantCount,t.tag(3,k.LengthDelimited).fork(),i).join();for(let n=0;n<e.pins.length;n++)a$.internalBinaryWrite(e.pins[n],t.tag(4,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let aU=new aD;class aq extends tw{constructor(){super("stream.video.sfu.models.ParticipantCount",[{no:1,name:"total",kind:"scalar",T:13},{no:2,name:"anonymous",kind:"scalar",T:13}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.total=0,t.anonymous=0,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.total=e.uint32();break;case 2:r.anonymous=e.uint32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.total&&t.tag(1,k.Varint).uint32(e.total),0!==e.anonymous&&t.tag(2,k.Varint).uint32(e.anonymous);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let aM=new aq;class aF extends tw{constructor(){super("stream.video.sfu.models.Pin",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.userId=e.string();break;case 2:r.sessionId=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,k.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let a$=new aF;class aB extends tw{constructor(){super("stream.video.sfu.models.Participant",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"published_tracks",kind:"enum",repeat:1,T:()=>["stream.video.sfu.models.TrackType",P,"TRACK_TYPE_"]},{no:4,name:"joined_at",kind:"message",T:()=>aL},{no:5,name:"track_lookup_prefix",kind:"scalar",T:9},{no:6,name:"connection_quality",kind:"enum",T:()=>["stream.video.sfu.models.ConnectionQuality",T,"CONNECTION_QUALITY_"]},{no:7,name:"is_speaking",kind:"scalar",T:8},{no:8,name:"is_dominant_speaker",kind:"scalar",T:8},{no:9,name:"audio_level",kind:"scalar",T:2},{no:10,name:"name",kind:"scalar",T:9},{no:11,name:"image",kind:"scalar",T:9},{no:12,name:"custom",kind:"message",T:()=>aP},{no:13,name:"roles",kind:"scalar",repeat:2,T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.publishedTracks=[],t.trackLookupPrefix="",t.connectionQuality=0,t.isSpeaking=!1,t.isDominantSpeaker=!1,t.audioLevel=0,t.name="",t.image="",t.roles=[],void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.userId=e.string();break;case 2:r.sessionId=e.string();break;case 3:if(n===k.LengthDelimited)for(let t=e.int32()+e.pos;e.pos<t;)r.publishedTracks.push(e.int32());else r.publishedTracks.push(e.int32());break;case 4:r.joinedAt=aL.internalBinaryRead(e,e.uint32(),i,r.joinedAt);break;case 5:r.trackLookupPrefix=e.string();break;case 6:r.connectionQuality=e.int32();break;case 7:r.isSpeaking=e.bool();break;case 8:r.isDominantSpeaker=e.bool();break;case 9:r.audioLevel=e.float();break;case 10:r.name=e.string();break;case 11:r.image=e.string();break;case 12:r.custom=aP.internalBinaryRead(e,e.uint32(),i,r.custom);break;case 13:r.roles.push(e.string());break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){if(""!==e.userId&&t.tag(1,k.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId),e.publishedTracks.length){t.tag(3,k.LengthDelimited).fork();for(let i=0;i<e.publishedTracks.length;i++)t.int32(e.publishedTracks[i]);t.join()}e.joinedAt&&aL.internalBinaryWrite(e.joinedAt,t.tag(4,k.LengthDelimited).fork(),i).join(),""!==e.trackLookupPrefix&&t.tag(5,k.LengthDelimited).string(e.trackLookupPrefix),0!==e.connectionQuality&&t.tag(6,k.Varint).int32(e.connectionQuality),!1!==e.isSpeaking&&t.tag(7,k.Varint).bool(e.isSpeaking),!1!==e.isDominantSpeaker&&t.tag(8,k.Varint).bool(e.isDominantSpeaker),0!==e.audioLevel&&t.tag(9,k.Bit32).float(e.audioLevel),""!==e.name&&t.tag(10,k.LengthDelimited).string(e.name),""!==e.image&&t.tag(11,k.LengthDelimited).string(e.image),e.custom&&aP.internalBinaryWrite(e.custom,t.tag(12,k.LengthDelimited).fork(),i).join();for(let i=0;i<e.roles.length;i++)t.tag(13,k.LengthDelimited).string(e.roles[i]);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let aK=new aB;class az extends tw{constructor(){super("stream.video.sfu.models.StreamQuality",[{no:1,name:"video_quality",kind:"enum",T:()=>["stream.video.sfu.models.VideoQuality",C,"VIDEO_QUALITY_"]},{no:2,name:"user_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.videoQuality=0,t.userId="",void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.videoQuality=e.int32();break;case 2:r.userId=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.videoQuality&&t.tag(1,k.Varint).int32(e.videoQuality),""!==e.userId&&t.tag(2,k.LengthDelimited).string(e.userId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let aV=new az;class aW extends tw{constructor(){super("stream.video.sfu.models.VideoDimension",[{no:1,name:"width",kind:"scalar",T:13},{no:2,name:"height",kind:"scalar",T:13}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.width=0,t.height=0,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.width=e.uint32();break;case 2:r.height=e.uint32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.width&&t.tag(1,k.Varint).uint32(e.width),0!==e.height&&t.tag(2,k.Varint).uint32(e.height);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let aH=new aW;class aG extends tw{constructor(){super("stream.video.sfu.models.VideoLayer",[{no:1,name:"rid",kind:"scalar",T:9},{no:2,name:"video_dimension",kind:"message",T:()=>aH},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"fps",kind:"scalar",T:13},{no:6,name:"quality",kind:"enum",T:()=>["stream.video.sfu.models.VideoQuality",C,"VIDEO_QUALITY_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.rid="",t.bitrate=0,t.fps=0,t.quality=0,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.rid=e.string();break;case 2:r.videoDimension=aH.internalBinaryRead(e,e.uint32(),i,r.videoDimension);break;case 4:r.bitrate=e.uint32();break;case 5:r.fps=e.uint32();break;case 6:r.quality=e.int32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.rid&&t.tag(1,k.LengthDelimited).string(e.rid),e.videoDimension&&aH.internalBinaryWrite(e.videoDimension,t.tag(2,k.LengthDelimited).fork(),i).join(),0!==e.bitrate&&t.tag(4,k.Varint).uint32(e.bitrate),0!==e.fps&&t.tag(5,k.Varint).uint32(e.fps),0!==e.quality&&t.tag(6,k.Varint).int32(e.quality);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let aJ=new aG;class aY extends tw{constructor(){super("stream.video.sfu.models.Codec",[{no:1,name:"payload_type",kind:"scalar",T:13},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"fmtp_line",kind:"scalar",T:9},{no:4,name:"clock_rate",kind:"scalar",T:13},{no:5,name:"encoding_parameters",kind:"scalar",T:9},{no:6,name:"feedbacks",kind:"scalar",repeat:2,T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.payloadType=0,t.name="",t.fmtpLine="",t.clockRate=0,t.encodingParameters="",t.feedbacks=[],void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.payloadType=e.uint32();break;case 2:r.name=e.string();break;case 3:r.fmtpLine=e.string();break;case 4:r.clockRate=e.uint32();break;case 5:r.encodingParameters=e.string();break;case 6:r.feedbacks.push(e.string());break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.payloadType&&t.tag(1,k.Varint).uint32(e.payloadType),""!==e.name&&t.tag(2,k.LengthDelimited).string(e.name),""!==e.fmtpLine&&t.tag(3,k.LengthDelimited).string(e.fmtpLine),0!==e.clockRate&&t.tag(4,k.Varint).uint32(e.clockRate),""!==e.encodingParameters&&t.tag(5,k.LengthDelimited).string(e.encodingParameters);for(let i=0;i<e.feedbacks.length;i++)t.tag(6,k.LengthDelimited).string(e.feedbacks[i]);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let aX=new aY,aQ=new class extends tw{constructor(){super("stream.video.sfu.models.ICETrickle",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",E,"PEER_TYPE_"]},{no:2,name:"ice_candidate",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,t.iceCandidate="",t.sessionId="",void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.peerType=e.int32();break;case 2:r.iceCandidate=e.string();break;case 3:r.sessionId=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,k.Varint).int32(e.peerType),""!==e.iceCandidate&&t.tag(2,k.LengthDelimited).string(e.iceCandidate),""!==e.sessionId&&t.tag(3,k.LengthDelimited).string(e.sessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}};class aZ extends tw{constructor(){super("stream.video.sfu.models.TrackInfo",[{no:1,name:"track_id",kind:"scalar",T:9},{no:2,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",P,"TRACK_TYPE_"]},{no:5,name:"layers",kind:"message",repeat:1,T:()=>aJ},{no:6,name:"mid",kind:"scalar",T:9},{no:7,name:"dtx",kind:"scalar",T:8},{no:8,name:"stereo",kind:"scalar",T:8},{no:9,name:"red",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.trackId="",t.trackType=0,t.layers=[],t.mid="",t.dtx=!1,t.stereo=!1,t.red=!1,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.trackId=e.string();break;case 2:r.trackType=e.int32();break;case 5:r.layers.push(aJ.internalBinaryRead(e,e.uint32(),i));break;case 6:r.mid=e.string();break;case 7:r.dtx=e.bool();break;case 8:r.stereo=e.bool();break;case 9:r.red=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.trackId&&t.tag(1,k.LengthDelimited).string(e.trackId),0!==e.trackType&&t.tag(2,k.Varint).int32(e.trackType);for(let n=0;n<e.layers.length;n++)aJ.internalBinaryWrite(e.layers[n],t.tag(5,k.LengthDelimited).fork(),i).join();""!==e.mid&&t.tag(6,k.LengthDelimited).string(e.mid),!1!==e.dtx&&t.tag(7,k.Varint).bool(e.dtx),!1!==e.stereo&&t.tag(8,k.Varint).bool(e.stereo),!1!==e.red&&t.tag(9,k.Varint).bool(e.red);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let a0=new aZ;class a1 extends tw{constructor(){super("stream.video.sfu.models.Call",[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:9},{no:3,name:"created_by_user_id",kind:"scalar",T:9},{no:4,name:"host_user_id",kind:"scalar",T:9},{no:5,name:"custom",kind:"message",T:()=>aP},{no:6,name:"created_at",kind:"message",T:()=>aL},{no:7,name:"updated_at",kind:"message",T:()=>aL}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.type="",t.id="",t.createdByUserId="",t.hostUserId="",void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.type=e.string();break;case 2:r.id=e.string();break;case 3:r.createdByUserId=e.string();break;case 4:r.hostUserId=e.string();break;case 5:r.custom=aP.internalBinaryRead(e,e.uint32(),i,r.custom);break;case 6:r.createdAt=aL.internalBinaryRead(e,e.uint32(),i,r.createdAt);break;case 7:r.updatedAt=aL.internalBinaryRead(e,e.uint32(),i,r.updatedAt);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.type&&t.tag(1,k.LengthDelimited).string(e.type),""!==e.id&&t.tag(2,k.LengthDelimited).string(e.id),""!==e.createdByUserId&&t.tag(3,k.LengthDelimited).string(e.createdByUserId),""!==e.hostUserId&&t.tag(4,k.LengthDelimited).string(e.hostUserId),e.custom&&aP.internalBinaryWrite(e.custom,t.tag(5,k.LengthDelimited).fork(),i).join(),e.createdAt&&aL.internalBinaryWrite(e.createdAt,t.tag(6,k.LengthDelimited).fork(),i).join(),e.updatedAt&&aL.internalBinaryWrite(e.updatedAt,t.tag(7,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let a2=new a1,a3=new class extends tw{constructor(){super("stream.video.sfu.models.Error",[{no:1,name:"code",kind:"enum",T:()=>["stream.video.sfu.models.ErrorCode",A,"ERROR_CODE_"]},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"should_retry",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.code=0,t.message="",t.shouldRetry=!1,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.code=e.int32();break;case 2:r.message=e.string();break;case 3:r.shouldRetry=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.code&&t.tag(1,k.Varint).int32(e.code),""!==e.message&&t.tag(2,k.LengthDelimited).string(e.message),!1!==e.shouldRetry&&t.tag(3,k.Varint).bool(e.shouldRetry);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}};class a4 extends tw{constructor(){super("stream.video.sfu.models.ClientDetails",[{no:1,name:"sdk",kind:"message",T:()=>a8},{no:2,name:"os",kind:"message",T:()=>a7},{no:3,name:"browser",kind:"message",T:()=>st},{no:4,name:"device",kind:"message",T:()=>sn}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.sdk=a8.internalBinaryRead(e,e.uint32(),i,r.sdk);break;case 2:r.os=a7.internalBinaryRead(e,e.uint32(),i,r.os);break;case 3:r.browser=st.internalBinaryRead(e,e.uint32(),i,r.browser);break;case 4:r.device=sn.internalBinaryRead(e,e.uint32(),i,r.device);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.sdk&&a8.internalBinaryWrite(e.sdk,t.tag(1,k.LengthDelimited).fork(),i).join(),e.os&&a7.internalBinaryWrite(e.os,t.tag(2,k.LengthDelimited).fork(),i).join(),e.browser&&st.internalBinaryWrite(e.browser,t.tag(3,k.LengthDelimited).fork(),i).join(),e.device&&sn.internalBinaryWrite(e.device,t.tag(4,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let a5=new a4;class a6 extends tw{constructor(){super("stream.video.sfu.models.Sdk",[{no:1,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.SdkType",I,"SDK_TYPE_"]},{no:2,name:"major",kind:"scalar",T:9},{no:3,name:"minor",kind:"scalar",T:9},{no:4,name:"patch",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.type=0,t.major="",t.minor="",t.patch="",void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.type=e.int32();break;case 2:r.major=e.string();break;case 3:r.minor=e.string();break;case 4:r.patch=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.type&&t.tag(1,k.Varint).int32(e.type),""!==e.major&&t.tag(2,k.LengthDelimited).string(e.major),""!==e.minor&&t.tag(3,k.LengthDelimited).string(e.minor),""!==e.patch&&t.tag(4,k.LengthDelimited).string(e.patch);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let a8=new a6;class a9 extends tw{constructor(){super("stream.video.sfu.models.OS",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"architecture",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.version="",t.architecture="",void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.name=e.string();break;case 2:r.version=e.string();break;case 3:r.architecture=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,k.LengthDelimited).string(e.name),""!==e.version&&t.tag(2,k.LengthDelimited).string(e.version),""!==e.architecture&&t.tag(3,k.LengthDelimited).string(e.architecture);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let a7=new a9;class se extends tw{constructor(){super("stream.video.sfu.models.Browser",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.version="",void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.name=e.string();break;case 2:r.version=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,k.LengthDelimited).string(e.name),""!==e.version&&t.tag(2,k.LengthDelimited).string(e.version);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let st=new se;class si extends tw{constructor(){super("stream.video.sfu.models.Device",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.version="",void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.name=e.string();break;case 2:r.version=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,k.LengthDelimited).string(e.name),""!==e.version&&t.tag(2,k.LengthDelimited).string(e.version);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sn=new si;class sr extends tw{constructor(){super("stream.video.sfu.models.CallGrants",[{no:1,name:"can_publish_audio",kind:"scalar",T:8},{no:2,name:"can_publish_video",kind:"scalar",T:8},{no:3,name:"can_screenshare",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.canPublishAudio=!1,t.canPublishVideo=!1,t.canScreenshare=!1,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.canPublishAudio=e.bool();break;case 2:r.canPublishVideo=e.bool();break;case 3:r.canScreenshare=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){!1!==e.canPublishAudio&&t.tag(1,k.Varint).bool(e.canPublishAudio),!1!==e.canPublishVideo&&t.tag(2,k.Varint).bool(e.canPublishVideo),!1!==e.canScreenshare&&t.tag(3,k.Varint).bool(e.canScreenshare);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sa=new sr;var ss=Object.freeze({__proto__:null,Browser:st,Call:a2,CallGrants:sa,CallState:aU,ClientDetails:a5,Codec:aX,get ConnectionQuality(){return T},Device:sn,Error:a3,get ErrorCode(){return A},get GoAwayReason(){return j},ICETrickle:aQ,OS:a7,Participant:aK,ParticipantCount:aM,get PeerType(){return E},Pin:a$,Sdk:a8,get SdkType(){return I},StreamQuality:aV,TrackInfo:a0,get TrackType(){return P},get TrackUnpublishReason(){return O},VideoDimension:aH,VideoLayer:aJ,get VideoQuality(){return C}});class so extends tw{constructor(){super("stream.video.sfu.signal.ICERestartRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",E,"PEER_TYPE_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.peerType=0,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.sessionId=e.string();break;case 2:r.peerType=e.int32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(1,k.LengthDelimited).string(e.sessionId),0!==e.peerType&&t.tag(2,k.Varint).int32(e.peerType);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sl=new so;class sc extends tw{constructor(){super("stream.video.sfu.signal.ICERestartResponse",[{no:1,name:"error",kind:"message",T:()=>a3}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.error=a3.internalBinaryRead(e,e.uint32(),i,r.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.error&&a3.internalBinaryWrite(e.error,t.tag(1,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let su=new sc;class sd extends tw{constructor(){super("stream.video.sfu.signal.UpdateMuteStatesRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:3,name:"mute_states",kind:"message",repeat:1,T:()=>sg}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.muteStates=[],void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.sessionId=e.string();break;case 3:r.muteStates.push(sg.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(1,k.LengthDelimited).string(e.sessionId);for(let n=0;n<e.muteStates.length;n++)sg.internalBinaryWrite(e.muteStates[n],t.tag(3,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sh=new sd;class sp extends tw{constructor(){super("stream.video.sfu.signal.UpdateMuteStatesResponse",[{no:4,name:"error",kind:"message",T:()=>a3}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(4===t)r.error=a3.internalBinaryRead(e,e.uint32(),i,r.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.error&&a3.internalBinaryWrite(e.error,t.tag(4,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sf=new sp;class sm extends tw{constructor(){super("stream.video.sfu.signal.TrackMuteState",[{no:1,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",P,"TRACK_TYPE_"]},{no:2,name:"muted",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.trackType=0,t.muted=!1,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.trackType=e.int32();break;case 2:r.muted=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.trackType&&t.tag(1,k.Varint).int32(e.trackType),!1!==e.muted&&t.tag(2,k.Varint).bool(e.muted);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sg=new sm;class sy extends tw{constructor(){super("stream.video.sfu.signal.AudioMuteChanged",[{no:1,name:"muted",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.muted=!1,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.muted=e.bool();else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){!1!==e.muted&&t.tag(1,k.Varint).bool(e.muted);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}new sy;class sv extends tw{constructor(){super("stream.video.sfu.signal.VideoMuteChanged",[{no:2,name:"muted",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.muted=!1,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(2===t)r.muted=e.bool();else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){!1!==e.muted&&t.tag(2,k.Varint).bool(e.muted);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}new sv;class sb extends tw{constructor(){super("stream.video.sfu.signal.UpdateSubscriptionsRequest",[{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"tracks",kind:"message",repeat:1,T:()=>s_}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.tracks=[],void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 2:r.sessionId=e.string();break;case 3:r.tracks.push(s_.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId);for(let n=0;n<e.tracks.length;n++)s_.internalBinaryWrite(e.tracks[n],t.tag(3,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sw=new sb;class sx extends tw{constructor(){super("stream.video.sfu.signal.UpdateSubscriptionsResponse",[{no:4,name:"error",kind:"message",T:()=>a3}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(4===t)r.error=a3.internalBinaryRead(e,e.uint32(),i,r.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.error&&a3.internalBinaryWrite(e.error,t.tag(4,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sk=new sx;class sS extends tw{constructor(){super("stream.video.sfu.signal.TrackSubscriptionDetails",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",P,"TRACK_TYPE_"]},{no:4,name:"dimension",kind:"message",T:()=>aH}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.trackType=0,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.userId=e.string();break;case 2:r.sessionId=e.string();break;case 3:r.trackType=e.int32();break;case 4:r.dimension=aH.internalBinaryRead(e,e.uint32(),i,r.dimension);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,k.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId),0!==e.trackType&&t.tag(3,k.Varint).int32(e.trackType),e.dimension&&aH.internalBinaryWrite(e.dimension,t.tag(4,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let s_=new sS;class sR extends tw{constructor(){super("stream.video.sfu.signal.SendAnswerRequest",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",E,"PEER_TYPE_"]},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,t.sdp="",t.sessionId="",void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.peerType=e.int32();break;case 2:r.sdp=e.string();break;case 3:r.sessionId=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,k.Varint).int32(e.peerType),""!==e.sdp&&t.tag(2,k.LengthDelimited).string(e.sdp),""!==e.sessionId&&t.tag(3,k.LengthDelimited).string(e.sessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sE=new sR;class sT extends tw{constructor(){super("stream.video.sfu.signal.SendAnswerResponse",[{no:4,name:"error",kind:"message",T:()=>a3}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(4===t)r.error=a3.internalBinaryRead(e,e.uint32(),i,r.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.error&&a3.internalBinaryWrite(e.error,t.tag(4,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sC=new sT;class sP extends tw{constructor(){super("stream.video.sfu.signal.ICETrickleResponse",[{no:4,name:"error",kind:"message",T:()=>a3}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(4===t)r.error=a3.internalBinaryRead(e,e.uint32(),i,r.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.error&&a3.internalBinaryWrite(e.error,t.tag(4,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sA=new sP;class sI extends tw{constructor(){super("stream.video.sfu.signal.SetPublisherRequest",[{no:1,name:"sdp",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"tracks",kind:"message",repeat:1,T:()=>a0}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sdp="",t.sessionId="",t.tracks=[],void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.sdp=e.string();break;case 2:r.sessionId=e.string();break;case 3:r.tracks.push(a0.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.sdp&&t.tag(1,k.LengthDelimited).string(e.sdp),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId);for(let n=0;n<e.tracks.length;n++)a0.internalBinaryWrite(e.tracks[n],t.tag(3,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sO=new sI;class sj extends tw{constructor(){super("stream.video.sfu.signal.SetPublisherResponse",[{no:1,name:"sdp",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"ice_restart",kind:"scalar",T:8},{no:4,name:"error",kind:"message",T:()=>a3}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sdp="",t.sessionId="",t.iceRestart=!1,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.sdp=e.string();break;case 2:r.sessionId=e.string();break;case 3:r.iceRestart=e.bool();break;case 4:r.error=a3.internalBinaryRead(e,e.uint32(),i,r.error);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.sdp&&t.tag(1,k.LengthDelimited).string(e.sdp),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId),!1!==e.iceRestart&&t.tag(3,k.Varint).bool(e.iceRestart),e.error&&a3.internalBinaryWrite(e.error,t.tag(4,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sN=new tx("stream.video.sfu.signal.SignalServer",[{name:"SetPublisher",options:{},I:sO,O:new sj},{name:"SendAnswer",options:{},I:sE,O:sC},{name:"IceTrickle",options:{},I:aQ,O:sA},{name:"UpdateSubscriptions",options:{},I:sw,O:sk},{name:"UpdateMuteStates",options:{},I:sh,O:sf},{name:"IceRestart",options:{},I:sl,O:su}]);!function(e){e[e.HIGH_UNSPECIFIED=0]="HIGH_UNSPECIFIED",e[e.LOW=1]="LOW",e[e.MEDIUM=2]="MEDIUM",e[e.VERY_LOW=3]="VERY_LOW"}(N||(N={}));class sL extends tw{constructor(){super("stream.video.sfu.event.SfuEvent",[{no:1,name:"subscriber_offer",kind:"message",oneof:"eventPayload",T:()=>ot},{no:2,name:"publisher_answer",kind:"message",oneof:"eventPayload",T:()=>on},{no:3,name:"connection_quality_changed",kind:"message",oneof:"eventPayload",T:()=>oa},{no:4,name:"audio_level_changed",kind:"message",oneof:"eventPayload",T:()=>op},{no:5,name:"ice_trickle",kind:"message",oneof:"eventPayload",T:()=>aQ},{no:6,name:"change_publish_quality",kind:"message",oneof:"eventPayload",T:()=>oR},{no:10,name:"participant_joined",kind:"message",oneof:"eventPayload",T:()=>s8},{no:11,name:"participant_left",kind:"message",oneof:"eventPayload",T:()=>s7},{no:12,name:"dominant_speaker_changed",kind:"message",oneof:"eventPayload",T:()=>oc},{no:13,name:"join_response",kind:"message",oneof:"eventPayload",T:()=>s5},{no:14,name:"health_check_response",kind:"message",oneof:"eventPayload",T:()=>sJ},{no:16,name:"track_published",kind:"message",oneof:"eventPayload",T:()=>sX},{no:17,name:"track_unpublished",kind:"message",oneof:"eventPayload",T:()=>sZ},{no:18,name:"error",kind:"message",oneof:"eventPayload",T:()=>sF},{no:19,name:"call_grants_updated",kind:"message",oneof:"eventPayload",T:()=>oT},{no:20,name:"go_away",kind:"message",oneof:"eventPayload",T:()=>oP},{no:21,name:"ice_restart",kind:"message",oneof:"eventPayload",T:()=>sK},{no:22,name:"pins_updated",kind:"message",oneof:"eventPayload",T:()=>sq}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.eventPayload={oneofKind:void 0},void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.eventPayload={oneofKind:"subscriberOffer",subscriberOffer:ot.internalBinaryRead(e,e.uint32(),i,r.eventPayload.subscriberOffer)};break;case 2:r.eventPayload={oneofKind:"publisherAnswer",publisherAnswer:on.internalBinaryRead(e,e.uint32(),i,r.eventPayload.publisherAnswer)};break;case 3:r.eventPayload={oneofKind:"connectionQualityChanged",connectionQualityChanged:oa.internalBinaryRead(e,e.uint32(),i,r.eventPayload.connectionQualityChanged)};break;case 4:r.eventPayload={oneofKind:"audioLevelChanged",audioLevelChanged:op.internalBinaryRead(e,e.uint32(),i,r.eventPayload.audioLevelChanged)};break;case 5:r.eventPayload={oneofKind:"iceTrickle",iceTrickle:aQ.internalBinaryRead(e,e.uint32(),i,r.eventPayload.iceTrickle)};break;case 6:r.eventPayload={oneofKind:"changePublishQuality",changePublishQuality:oR.internalBinaryRead(e,e.uint32(),i,r.eventPayload.changePublishQuality)};break;case 10:r.eventPayload={oneofKind:"participantJoined",participantJoined:s8.internalBinaryRead(e,e.uint32(),i,r.eventPayload.participantJoined)};break;case 11:r.eventPayload={oneofKind:"participantLeft",participantLeft:s7.internalBinaryRead(e,e.uint32(),i,r.eventPayload.participantLeft)};break;case 12:r.eventPayload={oneofKind:"dominantSpeakerChanged",dominantSpeakerChanged:oc.internalBinaryRead(e,e.uint32(),i,r.eventPayload.dominantSpeakerChanged)};break;case 13:r.eventPayload={oneofKind:"joinResponse",joinResponse:s5.internalBinaryRead(e,e.uint32(),i,r.eventPayload.joinResponse)};break;case 14:r.eventPayload={oneofKind:"healthCheckResponse",healthCheckResponse:sJ.internalBinaryRead(e,e.uint32(),i,r.eventPayload.healthCheckResponse)};break;case 16:r.eventPayload={oneofKind:"trackPublished",trackPublished:sX.internalBinaryRead(e,e.uint32(),i,r.eventPayload.trackPublished)};break;case 17:r.eventPayload={oneofKind:"trackUnpublished",trackUnpublished:sZ.internalBinaryRead(e,e.uint32(),i,r.eventPayload.trackUnpublished)};break;case 18:r.eventPayload={oneofKind:"error",error:sF.internalBinaryRead(e,e.uint32(),i,r.eventPayload.error)};break;case 19:r.eventPayload={oneofKind:"callGrantsUpdated",callGrantsUpdated:oT.internalBinaryRead(e,e.uint32(),i,r.eventPayload.callGrantsUpdated)};break;case 20:r.eventPayload={oneofKind:"goAway",goAway:oP.internalBinaryRead(e,e.uint32(),i,r.eventPayload.goAway)};break;case 21:r.eventPayload={oneofKind:"iceRestart",iceRestart:sK.internalBinaryRead(e,e.uint32(),i,r.eventPayload.iceRestart)};break;case 22:r.eventPayload={oneofKind:"pinsUpdated",pinsUpdated:sq.internalBinaryRead(e,e.uint32(),i,r.eventPayload.pinsUpdated)};break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){"subscriberOffer"===e.eventPayload.oneofKind&&ot.internalBinaryWrite(e.eventPayload.subscriberOffer,t.tag(1,k.LengthDelimited).fork(),i).join(),"publisherAnswer"===e.eventPayload.oneofKind&&on.internalBinaryWrite(e.eventPayload.publisherAnswer,t.tag(2,k.LengthDelimited).fork(),i).join(),"connectionQualityChanged"===e.eventPayload.oneofKind&&oa.internalBinaryWrite(e.eventPayload.connectionQualityChanged,t.tag(3,k.LengthDelimited).fork(),i).join(),"audioLevelChanged"===e.eventPayload.oneofKind&&op.internalBinaryWrite(e.eventPayload.audioLevelChanged,t.tag(4,k.LengthDelimited).fork(),i).join(),"iceTrickle"===e.eventPayload.oneofKind&&aQ.internalBinaryWrite(e.eventPayload.iceTrickle,t.tag(5,k.LengthDelimited).fork(),i).join(),"changePublishQuality"===e.eventPayload.oneofKind&&oR.internalBinaryWrite(e.eventPayload.changePublishQuality,t.tag(6,k.LengthDelimited).fork(),i).join(),"participantJoined"===e.eventPayload.oneofKind&&s8.internalBinaryWrite(e.eventPayload.participantJoined,t.tag(10,k.LengthDelimited).fork(),i).join(),"participantLeft"===e.eventPayload.oneofKind&&s7.internalBinaryWrite(e.eventPayload.participantLeft,t.tag(11,k.LengthDelimited).fork(),i).join(),"dominantSpeakerChanged"===e.eventPayload.oneofKind&&oc.internalBinaryWrite(e.eventPayload.dominantSpeakerChanged,t.tag(12,k.LengthDelimited).fork(),i).join(),"joinResponse"===e.eventPayload.oneofKind&&s5.internalBinaryWrite(e.eventPayload.joinResponse,t.tag(13,k.LengthDelimited).fork(),i).join(),"healthCheckResponse"===e.eventPayload.oneofKind&&sJ.internalBinaryWrite(e.eventPayload.healthCheckResponse,t.tag(14,k.LengthDelimited).fork(),i).join(),"trackPublished"===e.eventPayload.oneofKind&&sX.internalBinaryWrite(e.eventPayload.trackPublished,t.tag(16,k.LengthDelimited).fork(),i).join(),"trackUnpublished"===e.eventPayload.oneofKind&&sZ.internalBinaryWrite(e.eventPayload.trackUnpublished,t.tag(17,k.LengthDelimited).fork(),i).join(),"error"===e.eventPayload.oneofKind&&sF.internalBinaryWrite(e.eventPayload.error,t.tag(18,k.LengthDelimited).fork(),i).join(),"callGrantsUpdated"===e.eventPayload.oneofKind&&oT.internalBinaryWrite(e.eventPayload.callGrantsUpdated,t.tag(19,k.LengthDelimited).fork(),i).join(),"goAway"===e.eventPayload.oneofKind&&oP.internalBinaryWrite(e.eventPayload.goAway,t.tag(20,k.LengthDelimited).fork(),i).join(),"iceRestart"===e.eventPayload.oneofKind&&sK.internalBinaryWrite(e.eventPayload.iceRestart,t.tag(21,k.LengthDelimited).fork(),i).join(),"pinsUpdated"===e.eventPayload.oneofKind&&sq.internalBinaryWrite(e.eventPayload.pinsUpdated,t.tag(22,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sD=new sL;class sU extends tw{constructor(){super("stream.video.sfu.event.PinsChanged",[{no:1,name:"pins",kind:"message",repeat:1,T:()=>a$}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.pins=[],void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.pins.push(a$.internalBinaryRead(e,e.uint32(),i));else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){for(let n=0;n<e.pins.length;n++)a$.internalBinaryWrite(e.pins[n],t.tag(1,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sq=new sU;class sM extends tw{constructor(){super("stream.video.sfu.event.Error",[{no:4,name:"error",kind:"message",T:()=>a3}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(4===t)r.error=a3.internalBinaryRead(e,e.uint32(),i,r.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.error&&a3.internalBinaryWrite(e.error,t.tag(4,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sF=new sM;class s$ extends tw{constructor(){super("stream.video.sfu.event.ICETrickle",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",E,"PEER_TYPE_"]},{no:2,name:"ice_candidate",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,t.iceCandidate="",void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.peerType=e.int32();break;case 2:r.iceCandidate=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,k.Varint).int32(e.peerType),""!==e.iceCandidate&&t.tag(2,k.LengthDelimited).string(e.iceCandidate);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}new s$;class sB extends tw{constructor(){super("stream.video.sfu.event.ICERestart",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",E,"PEER_TYPE_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.peerType=e.int32();else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,k.Varint).int32(e.peerType);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sK=new sB;class sz extends tw{constructor(){super("stream.video.sfu.event.SfuRequest",[{no:1,name:"join_request",kind:"message",oneof:"requestPayload",T:()=>s1},{no:2,name:"health_check_request",kind:"message",oneof:"requestPayload",T:()=>sH}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.requestPayload={oneofKind:void 0},void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.requestPayload={oneofKind:"joinRequest",joinRequest:s1.internalBinaryRead(e,e.uint32(),i,r.requestPayload.joinRequest)};break;case 2:r.requestPayload={oneofKind:"healthCheckRequest",healthCheckRequest:sH.internalBinaryRead(e,e.uint32(),i,r.requestPayload.healthCheckRequest)};break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){"joinRequest"===e.requestPayload.oneofKind&&s1.internalBinaryWrite(e.requestPayload.joinRequest,t.tag(1,k.LengthDelimited).fork(),i).join(),"healthCheckRequest"===e.requestPayload.oneofKind&&sH.internalBinaryWrite(e.requestPayload.healthCheckRequest,t.tag(2,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sV=new sz;class sW extends tw{constructor(){super("stream.video.sfu.event.HealthCheckRequest",[])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){return n??this.create()}internalBinaryWrite(e,t,i){let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sH=new sW;class sG extends tw{constructor(){super("stream.video.sfu.event.HealthCheckResponse",[{no:1,name:"participant_count",kind:"message",T:()=>aM}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.participantCount=aM.internalBinaryRead(e,e.uint32(),i,r.participantCount);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.participantCount&&aM.internalBinaryWrite(e.participantCount,t.tag(1,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sJ=new sG;class sY extends tw{constructor(){super("stream.video.sfu.event.TrackPublished",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",P,"TRACK_TYPE_"]},{no:4,name:"participant",kind:"message",T:()=>aK}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.type=0,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.userId=e.string();break;case 2:r.sessionId=e.string();break;case 3:r.type=e.int32();break;case 4:r.participant=aK.internalBinaryRead(e,e.uint32(),i,r.participant);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,k.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId),0!==e.type&&t.tag(3,k.Varint).int32(e.type),e.participant&&aK.internalBinaryWrite(e.participant,t.tag(4,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sX=new sY;class sQ extends tw{constructor(){super("stream.video.sfu.event.TrackUnpublished",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",P,"TRACK_TYPE_"]},{no:4,name:"cause",kind:"enum",T:()=>["stream.video.sfu.models.TrackUnpublishReason",O,"TRACK_UNPUBLISH_REASON_"]},{no:5,name:"participant",kind:"message",T:()=>aK}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.type=0,t.cause=0,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.userId=e.string();break;case 2:r.sessionId=e.string();break;case 3:r.type=e.int32();break;case 4:r.cause=e.int32();break;case 5:r.participant=aK.internalBinaryRead(e,e.uint32(),i,r.participant);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,k.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId),0!==e.type&&t.tag(3,k.Varint).int32(e.type),0!==e.cause&&t.tag(4,k.Varint).int32(e.cause),e.participant&&aK.internalBinaryWrite(e.participant,t.tag(5,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let sZ=new sQ;class s0 extends tw{constructor(){super("stream.video.sfu.event.JoinRequest",[{no:1,name:"token",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"subscriber_sdp",kind:"scalar",T:9},{no:4,name:"client_details",kind:"message",T:()=>a5},{no:5,name:"migration",kind:"message",T:()=>s3},{no:6,name:"fast_reconnect",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.token="",t.sessionId="",t.subscriberSdp="",t.fastReconnect=!1,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.token=e.string();break;case 2:r.sessionId=e.string();break;case 3:r.subscriberSdp=e.string();break;case 4:r.clientDetails=a5.internalBinaryRead(e,e.uint32(),i,r.clientDetails);break;case 5:r.migration=s3.internalBinaryRead(e,e.uint32(),i,r.migration);break;case 6:r.fastReconnect=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.token&&t.tag(1,k.LengthDelimited).string(e.token),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId),""!==e.subscriberSdp&&t.tag(3,k.LengthDelimited).string(e.subscriberSdp),e.clientDetails&&a5.internalBinaryWrite(e.clientDetails,t.tag(4,k.LengthDelimited).fork(),i).join(),e.migration&&s3.internalBinaryWrite(e.migration,t.tag(5,k.LengthDelimited).fork(),i).join(),!1!==e.fastReconnect&&t.tag(6,k.Varint).bool(e.fastReconnect);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let s1=new s0;class s2 extends tw{constructor(){super("stream.video.sfu.event.Migration",[{no:1,name:"from_sfu_id",kind:"scalar",T:9},{no:2,name:"announced_tracks",kind:"message",repeat:1,T:()=>a0},{no:3,name:"subscriptions",kind:"message",repeat:1,T:()=>s_}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.fromSfuId="",t.announcedTracks=[],t.subscriptions=[],void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.fromSfuId=e.string();break;case 2:r.announcedTracks.push(a0.internalBinaryRead(e,e.uint32(),i));break;case 3:r.subscriptions.push(s_.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.fromSfuId&&t.tag(1,k.LengthDelimited).string(e.fromSfuId);for(let n=0;n<e.announcedTracks.length;n++)a0.internalBinaryWrite(e.announcedTracks[n],t.tag(2,k.LengthDelimited).fork(),i).join();for(let n=0;n<e.subscriptions.length;n++)s_.internalBinaryWrite(e.subscriptions[n],t.tag(3,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let s3=new s2;class s4 extends tw{constructor(){super("stream.video.sfu.event.JoinResponse",[{no:1,name:"call_state",kind:"message",T:()=>aU},{no:2,name:"reconnected",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.reconnected=!1,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.callState=aU.internalBinaryRead(e,e.uint32(),i,r.callState);break;case 2:r.reconnected=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.callState&&aU.internalBinaryWrite(e.callState,t.tag(1,k.LengthDelimited).fork(),i).join(),!1!==e.reconnected&&t.tag(2,k.Varint).bool(e.reconnected);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let s5=new s4;class s6 extends tw{constructor(){super("stream.video.sfu.event.ParticipantJoined",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>aK}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.callCid="",void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.callCid=e.string();break;case 2:r.participant=aK.internalBinaryRead(e,e.uint32(),i,r.participant);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.callCid&&t.tag(1,k.LengthDelimited).string(e.callCid),e.participant&&aK.internalBinaryWrite(e.participant,t.tag(2,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let s8=new s6;class s9 extends tw{constructor(){super("stream.video.sfu.event.ParticipantLeft",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>aK}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.callCid="",void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.callCid=e.string();break;case 2:r.participant=aK.internalBinaryRead(e,e.uint32(),i,r.participant);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.callCid&&t.tag(1,k.LengthDelimited).string(e.callCid),e.participant&&aK.internalBinaryWrite(e.participant,t.tag(2,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let s7=new s9;class oe extends tw{constructor(){super("stream.video.sfu.event.SubscriberOffer",[{no:1,name:"ice_restart",kind:"scalar",T:8},{no:2,name:"sdp",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.iceRestart=!1,t.sdp="",void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.iceRestart=e.bool();break;case 2:r.sdp=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){!1!==e.iceRestart&&t.tag(1,k.Varint).bool(e.iceRestart),""!==e.sdp&&t.tag(2,k.LengthDelimited).string(e.sdp);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let ot=new oe;class oi extends tw{constructor(){super("stream.video.sfu.event.PublisherAnswer",[{no:1,name:"sdp",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sdp="",void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.sdp=e.string();else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.sdp&&t.tag(1,k.LengthDelimited).string(e.sdp);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let on=new oi;class or extends tw{constructor(){super("stream.video.sfu.event.ConnectionQualityChanged",[{no:1,name:"connection_quality_updates",kind:"message",repeat:1,T:()=>oo}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.connectionQualityUpdates=[],void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.connectionQualityUpdates.push(oo.internalBinaryRead(e,e.uint32(),i));else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){for(let n=0;n<e.connectionQualityUpdates.length;n++)oo.internalBinaryWrite(e.connectionQualityUpdates[n],t.tag(1,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let oa=new or;class os extends tw{constructor(){super("stream.video.sfu.event.ConnectionQualityInfo",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"connection_quality",kind:"enum",T:()=>["stream.video.sfu.models.ConnectionQuality",T,"CONNECTION_QUALITY_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.connectionQuality=0,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.userId=e.string();break;case 2:r.sessionId=e.string();break;case 3:r.connectionQuality=e.int32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,k.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId),0!==e.connectionQuality&&t.tag(3,k.Varint).int32(e.connectionQuality);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let oo=new os;class ol extends tw{constructor(){super("stream.video.sfu.event.DominantSpeakerChanged",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.userId=e.string();break;case 2:r.sessionId=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,k.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let oc=new ol;class ou extends tw{constructor(){super("stream.video.sfu.event.AudioLevel",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"level",kind:"scalar",T:2},{no:4,name:"is_speaking",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.level=0,t.isSpeaking=!1,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.userId=e.string();break;case 2:r.sessionId=e.string();break;case 3:r.level=e.float();break;case 4:r.isSpeaking=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,k.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId),0!==e.level&&t.tag(3,k.Bit32).float(e.level),!1!==e.isSpeaking&&t.tag(4,k.Varint).bool(e.isSpeaking);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let od=new ou;class oh extends tw{constructor(){super("stream.video.sfu.event.AudioLevelChanged",[{no:1,name:"audio_levels",kind:"message",repeat:1,T:()=>od}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.audioLevels=[],void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.audioLevels.push(od.internalBinaryRead(e,e.uint32(),i));else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){for(let n=0;n<e.audioLevels.length;n++)od.internalBinaryWrite(e.audioLevels[n],t.tag(1,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let op=new oh;class of extends tw{constructor(){super("stream.video.sfu.event.AudioMediaRequest",[{no:1,name:"channel_count",kind:"scalar",T:5}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.channelCount=0,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.channelCount=e.int32();else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.channelCount&&t.tag(1,k.Varint).int32(e.channelCount);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let om=new of;class og extends tw{constructor(){super("stream.video.sfu.event.AudioSender",[{no:1,name:"media_request",kind:"message",T:()=>om},{no:2,name:"codec",kind:"message",T:()=>aX}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.mediaRequest=om.internalBinaryRead(e,e.uint32(),i,r.mediaRequest);break;case 2:r.codec=aX.internalBinaryRead(e,e.uint32(),i,r.codec);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.mediaRequest&&om.internalBinaryWrite(e.mediaRequest,t.tag(1,k.LengthDelimited).fork(),i).join(),e.codec&&aX.internalBinaryWrite(e.codec,t.tag(2,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let oy=new og;class ov extends tw{constructor(){super("stream.video.sfu.event.VideoMediaRequest",[{no:1,name:"ideal_height",kind:"scalar",T:5},{no:2,name:"ideal_width",kind:"scalar",T:5},{no:3,name:"ideal_frame_rate",kind:"scalar",T:5}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.idealHeight=0,t.idealWidth=0,t.idealFrameRate=0,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.idealHeight=e.int32();break;case 2:r.idealWidth=e.int32();break;case 3:r.idealFrameRate=e.int32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.idealHeight&&t.tag(1,k.Varint).int32(e.idealHeight),0!==e.idealWidth&&t.tag(2,k.Varint).int32(e.idealWidth),0!==e.idealFrameRate&&t.tag(3,k.Varint).int32(e.idealFrameRate);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let ob=new ov;class ow extends tw{constructor(){super("stream.video.sfu.event.VideoLayerSetting",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"active",kind:"scalar",T:8},{no:3,name:"max_bitrate",kind:"scalar",T:5},{no:4,name:"scale_resolution_down_by",kind:"scalar",T:2},{no:5,name:"priority",kind:"enum",T:()=>["stream.video.sfu.event.VideoLayerSetting.Priority",N,"PRIORITY_"]},{no:6,name:"codec",kind:"message",T:()=>aX},{no:7,name:"max_framerate",kind:"scalar",T:13}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.active=!1,t.maxBitrate=0,t.scaleResolutionDownBy=0,t.priority=0,t.maxFramerate=0,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.name=e.string();break;case 2:r.active=e.bool();break;case 3:r.maxBitrate=e.int32();break;case 4:r.scaleResolutionDownBy=e.float();break;case 5:r.priority=e.int32();break;case 6:r.codec=aX.internalBinaryRead(e,e.uint32(),i,r.codec);break;case 7:r.maxFramerate=e.uint32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,k.LengthDelimited).string(e.name),!1!==e.active&&t.tag(2,k.Varint).bool(e.active),0!==e.maxBitrate&&t.tag(3,k.Varint).int32(e.maxBitrate),0!==e.scaleResolutionDownBy&&t.tag(4,k.Bit32).float(e.scaleResolutionDownBy),0!==e.priority&&t.tag(5,k.Varint).int32(e.priority),e.codec&&aX.internalBinaryWrite(e.codec,t.tag(6,k.LengthDelimited).fork(),i).join(),0!==e.maxFramerate&&t.tag(7,k.Varint).uint32(e.maxFramerate);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let ox=new ow;class ok extends tw{constructor(){super("stream.video.sfu.event.VideoSender",[{no:1,name:"media_request",kind:"message",T:()=>ob},{no:2,name:"codec",kind:"message",T:()=>aX},{no:3,name:"layers",kind:"message",repeat:1,T:()=>ox}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.layers=[],void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.mediaRequest=ob.internalBinaryRead(e,e.uint32(),i,r.mediaRequest);break;case 2:r.codec=aX.internalBinaryRead(e,e.uint32(),i,r.codec);break;case 3:r.layers.push(ox.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.mediaRequest&&ob.internalBinaryWrite(e.mediaRequest,t.tag(1,k.LengthDelimited).fork(),i).join(),e.codec&&aX.internalBinaryWrite(e.codec,t.tag(2,k.LengthDelimited).fork(),i).join();for(let n=0;n<e.layers.length;n++)ox.internalBinaryWrite(e.layers[n],t.tag(3,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let oS=new ok;class o_ extends tw{constructor(){super("stream.video.sfu.event.ChangePublishQuality",[{no:1,name:"audio_senders",kind:"message",repeat:1,T:()=>oy},{no:2,name:"video_senders",kind:"message",repeat:1,T:()=>oS}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.audioSenders=[],t.videoSenders=[],void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.audioSenders.push(oy.internalBinaryRead(e,e.uint32(),i));break;case 2:r.videoSenders.push(oS.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){for(let n=0;n<e.audioSenders.length;n++)oy.internalBinaryWrite(e.audioSenders[n],t.tag(1,k.LengthDelimited).fork(),i).join();for(let n=0;n<e.videoSenders.length;n++)oS.internalBinaryWrite(e.videoSenders[n],t.tag(2,k.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let oR=new o_;class oE extends tw{constructor(){super("stream.video.sfu.event.CallGrantsUpdated",[{no:1,name:"current_grants",kind:"message",T:()=>sa},{no:2,name:"message",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.message="",void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:r.currentGrants=sa.internalBinaryRead(e,e.uint32(),i,r.currentGrants);break;case 2:r.message=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){e.currentGrants&&sa.internalBinaryWrite(e.currentGrants,t.tag(1,k.LengthDelimited).fork(),i).join(),""!==e.message&&t.tag(2,k.LengthDelimited).string(e.message);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let oT=new oE;class oC extends tw{constructor(){super("stream.video.sfu.event.GoAway",[{no:1,name:"reason",kind:"enum",T:()=>["stream.video.sfu.models.GoAwayReason",j,"GO_AWAY_REASON_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.reason=0,void 0!==e&&tc(this,t,e),t}internalBinaryRead(e,t,i,n){let r=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)r.reason=e.int32();else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let s=e.skip(n);!1!==a&&(!0===a?x.onRead:a)(this.typeName,r,t,n,s)}}return r}internalBinaryWrite(e,t,i){0!==e.reason&&t.tag(1,k.Varint).int32(e.reason);let n=i.writeUnknownFields;return!1!==n&&(!0==n?x.onWrite:n)(this.typeName,e,t),t}}let oP=new oC;(function(e){e.UNKNOWN="UNKNOWN",e.VISIBLE="VISIBLE",e.INVISIBLE="INVISIBLE"})(L||(L={})),function(e){e[e.IMMEDIATE=20]="IMMEDIATE",e[e.FAST=100]="FAST",e[e.MEDIUM=600]="MEDIUM",e[e.SLOW=1200]="SLOW"}(D||(D={}));class oA{constructor(e){this._transport=e,this.typeName=sN.typeName,this.methods=sN.methods,this.options=sN.options}setPublisher(e,t){let i=this.methods[0],n=this._transport.mergeOptions(t);return tk("unary",this._transport,i,n,e)}sendAnswer(e,t){let i=this.methods[1],n=this._transport.mergeOptions(t);return tk("unary",this._transport,i,n,e)}iceTrickle(e,t){let i=this.methods[2],n=this._transport.mergeOptions(t);return tk("unary",this._transport,i,n,e)}updateSubscriptions(e,t){let i=this.methods[3],n=this._transport.mergeOptions(t);return tk("unary",this._transport,i,n,e)}updateMuteStates(e,t){let i=this.methods[4],n=this._transport.mergeOptions(t);return tk("unary",this._transport,i,n,e)}iceRestart(e,t){let i=this.methods[5],n=this._transport.mergeOptions(t);return tk("unary",this._transport,i,n,e)}}let oI={baseUrl:"",sendJson:!0,timeout:5e3,jsonOptions:{ignoreUnknownFields:!0}},oO=e=>({interceptUnary:(t,i,n,r)=>(r.meta={...r.meta,...e},t(i,n,r))}),oj=e=>new oA(new rs({...oI,...e})),oN=()=>"undefined"!=typeof navigator&&navigator.product?.toLowerCase()==="reactnative",oL=Object.freeze({trace:0,debug:1,info:2,warn:3,error:4}),oD="info",oU=(e,t,...i)=>{let n;switch(e){case"error":n=console.error;break;case"warn":if(oN()){t=`WARN: ${t}`,n=console.info;break}n=console.warn;break;case"info":n=console.info;break;case"trace":n=console.trace;break;default:n=console.log}n(t,...i)},oq=(e,t)=>{r=e,t&&oM(t)},oM=e=>{oD=e},oF=e=>{let t=r||oU,i=(e||[]).join(":");return(e,n,...r)=>{oL[e]>=oL[oD]&&t(e,`[${i}]: ${n}`,...r)}},o$=(e,t,i)=>{let n=oF(["codecs"]);if(!("getCapabilities"in RTCRtpSender)){n?.("warn","RTCRtpSender.getCapabilities is not supported");return}let r=RTCRtpSender.getCapabilities(e);if(!r)return;let a=[],s=[],o=[];r.codecs.forEach(r=>{let l=r.mimeType.toLowerCase();if(n?.("debug",`Found supported codec: ${l}`),!i||l!==`${e}/${i.toLowerCase()}`){if(l!==`${e}/${t.toLowerCase()}`){o.push(r);return}if("h264"===l){r.sdpFmtpLine&&r.sdpFmtpLine.includes("profile-level-id=42e01f")?a.push(r):s.push(r);return}a.push(r)}});let l=[...a,...s,...o];return n?.("info","Preffered codecs: ",l),l},oB=async e=>{let t=new RTCPeerConnection;t.addTransceiver("video",{direction:e}),t.addTransceiver("audio",{direction:e});let i=(await t.createOffer()).sdp??"";return t.getTransceivers().forEach(e=>{e.stop()}),t.close(),i},oK={subscriberOffer:void 0,publisherAnswer:void 0,connectionQualityChanged:void 0,audioLevelChanged:void 0,iceTrickle:void 0,changePublishQuality:void 0,participantJoined:void 0,participantLeft:void 0,dominantSpeakerChanged:void 0,joinResponse:void 0,healthCheckResponse:void 0,trackPublished:void 0,trackUnpublished:void 0,error:void 0,callGrantsUpdated:void 0,goAway:void 0,iceRestart:void 0,pinsUpdated:void 0},oz=e=>Object.prototype.hasOwnProperty.call(oK,e);class oV{constructor(){this.logger=oF(["Dispatcher"]),this.subscribers={},this.dispatch=e=>{let t=e.eventPayload.oneofKind;if(!t)return;let i=e.eventPayload[t];this.logger("debug",`Dispatching ${t}`,i);let n=this.subscribers[t];if(n)for(let e of n)try{e(i)}catch(e){this.logger("warn","Listener failed with error",e)}},this.on=(e,t)=>{var i;return((i=this.subscribers)[e]??(i[e]=[])).push(t),()=>{this.off(e,t)}},this.off=(e,t)=>{this.subscribers[e]=(this.subscribers[e]||[]).filter(e=>e!==t)},this.offAll=e=>{e?this.subscribers[e]=[]:this.subscribers={}}}}class oW{constructor(){this.subscriberCandidates=new rF,this.publisherCandidates=new rF,this.logger=oF(["sfu-client"]),this.push=e=>{e.peerType===E.SUBSCRIBER?this.subscriberCandidates.next(e):e.peerType===E.PUBLISHER_UNSPECIFIED?this.publisherCandidates.next(e):this.logger("warn","ICETrickle, Unknown peer type",e)}}}function oH(e){if(e.usernameFragment)return JSON.stringify(e.toJSON());{let t=e.candidate.split(" "),i=t.findIndex(e=>"ufrag"===e)+1,n=t[i];return JSON.stringify({...e,usernameFragment:n})}}let oG=()=>a,oJ=()=>s,oY=()=>o,oX=()=>{if(oN())return{sdk:oG(),os:oJ(),device:oY()};let{browser:e,os:t,device:i,cpu:n}=new aw.UAParser(navigator.userAgent).getResult();return{sdk:oG(),browser:{name:e.name||navigator.userAgent,version:e.version||""},os:{name:t.name||"",version:t.version||"",architecture:n.architecture||""},device:{name:`${i.vendor||""} ${i.model||""} ${i.type||""}`,version:""}}},oQ={bitrate:125e4,width:1280,height:720},oZ=(e,t=oQ)=>{let i=[],n=e.getSettings(),{width:r=0,height:a=0}=n,s=oN()&&oJ()?.name.toLowerCase()==="ios",o=o0(t,r,a),l=1;return["f","h","q"].forEach(e=>{i.unshift({active:!0,rid:e,width:Math.round(r/l),height:Math.round(a/l),maxBitrate:Math.round(o/l),scaleResolutionDownBy:l,maxFramerate:{f:30,h:s?30:25,q:s?30:20}[e]}),l*=2}),o1(n,i)},o0=(e,t,i)=>{let{width:n,height:r}=e;return t<n||i<r?Math.round(e.bitrate*(t*i/(n*r))):e.bitrate},o1=(e,t)=>{let i;let n=Math.max(e.width||0,e.height||0);i=n<=320?t.filter(e=>"f"===e.rid):n<=640?t.filter(e=>"h"!==e.rid):t;let r=["q","h","f"];return i.map((e,t)=>({...e,rid:r[t]}))},o2=(e,t)=>{let i=e.getSettings();return[{active:!0,rid:"q",width:i.width||0,height:i.height||0,scaleResolutionDownBy:1,maxBitrate:t?.maxBitrate??3e6,maxFramerate:t?.maxFramerate??30}]},o3=e=>{switch(e){case P.SCREEN_SHARE:return"screenShareStream";case P.SCREEN_SHARE_AUDIO:return"screenShareAudioStream";case P.VIDEO:return"videoStream";case P.AUDIO:return"audioStream";case P.UNSPECIFIED:throw Error("Track type is unspecified");default:throw Error(`Unknown track type: ${e}`)}},o4=e=>{switch(e){case"audio":return P.AUDIO;case"video":return P.VIDEO;case"screenshare":return P.SCREEN_SHARE;case"screenshare_audio":return P.SCREEN_SHARE_AUDIO;default:throw Error(`Unknown mute type: ${e}`)}},o5=e=>"function"==typeof e,o6=e=>{let t,i;if(an([e]).subscribe({next:([e])=>{t=e},error:e=>{i=e}}).unsubscribe(),i)throw i;return t},o8=(e,t)=>{let i=o5(t)?t(o6(e)):t;return e.next(i),i},o9=(e,t)=>{let i=e.subscribe(t);return()=>{i.unsubscribe()}};var o7=Object.freeze({__proto__:null,createSubscription:o9,getCurrentValue:o6,setCurrentValue:o8});let le=(...e)=>(t,i)=>{for(let n of e){let e=n(t,i);if(0!==e)return e}return 0},lt=e=>t=>(i,n)=>e(i,n)?t(i,n):0,li=(e,t)=>e.isDominantSpeaker&&!t.isDominantSpeaker?-1:!e.isDominantSpeaker&&t.isDominantSpeaker?1:0,ln=(e,t)=>e.isSpeaking&&!t.isSpeaking?-1:!e.isSpeaking&&t.isSpeaking?1:0,lr=(e,t)=>ld(e)&&!ld(t)?-1:!ld(e)&&ld(t)?1:0,la=(e,t)=>lh(e)&&!lh(t)?-1:!lh(e)&&lh(t)?1:0,ls=(e,t)=>lp(e)&&!lp(t)?-1:!lp(e)&&lp(t)?1:0,lo=(e,t)=>{if(e.pin&&t.pin){if(!e.pin.isLocalPin&&t.pin.isLocalPin)return -1;if(e.pin.isLocalPin&&!t.pin.isLocalPin)return 1;if(e.pin.pinnedAt>t.pin.pinnedAt)return -1;if(e.pin.pinnedAt<t.pin.pinnedAt)return 1}return e.pin&&!t.pin?-1:!e.pin&&t.pin?1:0},ll=e=>(t,i)=>t.reaction?.type===e&&i.reaction?.type!==e?-1:t.reaction?.type!==e&&i.reaction?.type===e?1:0,lc=(e,t)=>e.name<t.name?-1:e.name>t.name?1:0,lu=(e,t)=>(e.roles||[]).some(e=>t.includes(e)),ld=e=>e.publishedTracks.includes(P.SCREEN_SHARE),lh=e=>e.publishedTracks.includes(P.VIDEO),lp=e=>e.publishedTracks.includes(P.AUDIO),lf=lt((e,t)=>e.viewportVisibilityState?.videoTrack===L.INVISIBLE||t.viewportVisibilityState?.videoTrack===L.INVISIBLE),lm=lt((e,t)=>e.viewportVisibilityState?.videoTrack===L.INVISIBLE||e.viewportVisibilityState?.videoTrack===L.UNKNOWN||t.viewportVisibilityState?.videoTrack===L.INVISIBLE||t.viewportVisibilityState?.videoTrack===L.UNKNOWN),lg=le(lo,lr,lf(le(li,ln,ll("raised-hand"),la,ls))),ly=le(lo,lr,li,lf(le(ln,ll("raised-hand"),la,ls))),lv=le(lo,lm(le(li,ln,ll("raised-hand"),la,ls))),lb=le(lf(le(li,ln,ll("raised-hand"),la,ls)),((...e)=>(t,i)=>lu(t,e)&&!lu(i,e)?-1:!lu(t,e)&&lu(i,e)?1:0)("admin","host","speaker"));!function(e){e.UNKNOWN="unknown",e.IDLE="idle",e.RINGING="ringing",e.JOINING="joining",e.JOINED="joined",e.LEFT="left",e.RECONNECTING="reconnecting",e.MIGRATING="migrating",e.RECONNECTING_FAILED="reconnecting-failed",e.OFFLINE="offline"}(U||(U={}));class lw{constructor(){this.backstageSubject=new ar(!0),this.blockedUserIdsSubject=new ar([]),this.createdAtSubject=new ar(new Date),this.endedAtSubject=new ar(void 0),this.startsAtSubject=new ar(void 0),this.updatedAtSubject=new ar(new Date),this.createdBySubject=new ar(void 0),this.customSubject=new ar({}),this.egressSubject=new ar(void 0),this.ingressSubject=new ar(void 0),this.recordingSubject=new ar(!1),this.sessionSubject=new ar(void 0),this.settingsSubject=new ar(void 0),this.transcribingSubject=new ar(!1),this.endedBySubject=new ar(void 0),this.thumbnailsSubject=new ar(void 0),this.membersSubject=new ar([]),this.ownCapabilitiesSubject=new ar([]),this.callingStateSubject=new ar(U.UNKNOWN),this.startedAtSubject=new ar(void 0),this.participantCountSubject=new ar(0),this.anonymousParticipantCountSubject=new ar(0),this.participantsSubject=new ar([]),this.callStatsReportSubject=new ar(void 0),this.sortParticipantsBy=lg,this.setSortParticipantsBy=e=>{this.sortParticipantsBy=e,this.setCurrentValue(this.participantsSubject,e=>e)},this.getCurrentValue=o6,this.setCurrentValue=o8,this.setParticipantCount=e=>this.setCurrentValue(this.participantCountSubject,e),this.setStartedAt=e=>this.setCurrentValue(this.startedAtSubject,e),this.setAnonymousParticipantCount=e=>this.setCurrentValue(this.anonymousParticipantCountSubject,e),this.setParticipants=e=>this.setCurrentValue(this.participantsSubject,e),this.setCallingState=e=>this.setCurrentValue(this.callingStateSubject,e),this.setCallStatsReport=e=>this.setCurrentValue(this.callStatsReportSubject,e),this.setMembers=e=>{this.setCurrentValue(this.membersSubject,e)},this.setOwnCapabilities=e=>this.setCurrentValue(this.ownCapabilitiesSubject,e),this.findParticipantBySessionId=e=>this.participants.find(t=>t.sessionId===e),this.getParticipantLookupBySessionId=()=>this.participants.reduce((e,t)=>(e[t.sessionId]=t,e),{}),this.updateParticipant=(e,t)=>{let i=this.findParticipantBySessionId(e);if(!i){this.logger("warn",`Participant with sessionId ${e} not found`);return}let n="function"==typeof t?t(i):t,r={...i,...n};return this.setParticipants(t=>t.map(t=>t.sessionId===e?r:t))},this.updateOrAddParticipant=(e,t)=>this.findParticipantBySessionId(e)?this.setParticipants(i=>i.map(i=>i.sessionId===e?{...i,...t}:i)):this.setParticipants(e=>[...e,t]),this.updateParticipants=e=>{if(0!==Object.keys(e).length)return this.setParticipants(t=>t.map(t=>{let i=e[t.sessionId];return i?{...t,...i}:t}))},this.updateFromEvent=e=>{let t=this.eventHandlers[e.type];t&&t(e)},this.setServerSidePins=e=>{let t=e.reduce((e,t)=>(e[t.sessionId]=Date.now(),e),{});return this.setParticipants(e=>e.map(e=>{let i=t[e.sessionId];return i?{...e,pin:{isLocalPin:!1,pinnedAt:i}}:e.pin&&!e.pin.isLocalPin?{...e,pin:void 0}:e}))},this.updateFromCallResponse=e=>{this.setCurrentValue(this.backstageSubject,e.backstage),this.setCurrentValue(this.blockedUserIdsSubject,e.blocked_user_ids),this.setCurrentValue(this.createdAtSubject,new Date(e.created_at)),this.setCurrentValue(this.updatedAtSubject,new Date(e.updated_at)),this.setCurrentValue(this.startsAtSubject,e.starts_at?new Date(e.starts_at):void 0),this.setCurrentValue(this.endedAtSubject,e.ended_at?new Date(e.ended_at):void 0),this.setCurrentValue(this.createdBySubject,e.created_by),this.setCurrentValue(this.customSubject,e.custom),this.setCurrentValue(this.egressSubject,e.egress),this.setCurrentValue(this.ingressSubject,e.ingress),this.setCurrentValue(this.recordingSubject,e.recording),this.setCurrentValue(this.sessionSubject,e.session),this.setCurrentValue(this.settingsSubject,e.settings),this.setCurrentValue(this.transcribingSubject,e.transcribing),this.setCurrentValue(this.thumbnailsSubject,e.thumbnails)},this.updateFromMemberRemoved=e=>{this.setCurrentValue(this.membersSubject,t=>t.filter(t=>-1===e.members.indexOf(t.user_id)))},this.updateFromMemberAdded=e=>{this.setCurrentValue(this.membersSubject,t=>[...t,...e.members])},this.updateFromHLSBroadcastStopped=()=>{this.setCurrentValue(this.egressSubject,e=>({...e,broadcasting:!1}))},this.updateFromHLSBroadcastingFailed=()=>{this.setCurrentValue(this.egressSubject,e=>({...e,broadcasting:!1}))},this.updateFromHLSBroadcastStarted=e=>{this.setCurrentValue(this.egressSubject,t=>({...t,broadcasting:!0,hls:{...t.hls,playlist_url:e.hls_playlist_url}}))},this.updateFromSessionParticipantLeft=e=>{this.setCurrentValue(this.sessionSubject,t=>{if(!t)return this.logger("warn","Received call.session_participant_left event but no session is available.",e),t;let{participants:i,participants_count_by_role:n}=t,{user:r,user_session_id:a}=e.participant;return{...t,participants:i.filter(e=>e.user_session_id!==a),participants_count_by_role:{...n,[r.role]:Math.max(0,(n[r.role]||0)-1)}}})},this.updateFromSessionParticipantJoined=e=>{this.setCurrentValue(this.sessionSubject,t=>{if(!t)return this.logger("warn","Received call.session_participant_joined event but no session is available.",e),t;let{participants:i,participants_count_by_role:n}=t,{user:r,user_session_id:a}=e.participant,s=!0,o=i.map(t=>t.user_session_id===a?(s=!1,e.participant):t);s&&o.push(e.participant);let l=s?1:0;return{...t,participants:o,participants_count_by_role:{...n,[r.role]:(n[r.role]||0)+l}}})},this.updateMembers=e=>{this.setCurrentValue(this.membersSubject,t=>t.map(t=>e.members.find(e=>e.user_id===t.user_id)||t))},this.updateParticipantReaction=e=>{let{user:t,custom:i,type:n,emoji_code:r}=e.reaction;this.setParticipants(e=>e.map(e=>e.userId!==t.id?e:{...e,reaction:{type:n,emoji_code:r,custom:i}}))},this.unblockUser=e=>{this.setCurrentValue(this.blockedUserIdsSubject,t=>t?t.filter(t=>t!==e.user.id):t)},this.blockUser=e=>{this.setCurrentValue(this.blockedUserIdsSubject,t=>[...t||[],e.user.id])},this.updateOwnCapabilities=e=>{e.user.id===this.localParticipant?.userId&&this.setCurrentValue(this.ownCapabilitiesSubject,e.own_capabilities)},this.logger=oF(["CallState"]),this.participants$=this.participantsSubject.asObservable().pipe(r7(e=>e.sort(this.sortParticipantsBy)),as({bufferSize:1,refCount:!0})),this.localParticipant$=this.participants$.pipe(r7(e=>e.find(e=>e.isLocalParticipant)),as({bufferSize:1,refCount:!0})),this.remoteParticipants$=this.participants$.pipe(r7(e=>e.filter(e=>!e.isLocalParticipant)),as({bufferSize:1,refCount:!0})),this.pinnedParticipants$=this.participants$.pipe(r7(e=>e.filter(e=>!!e.pin)),as({bufferSize:1,refCount:!0})),this.dominantSpeaker$=this.participants$.pipe(r7(e=>e.find(e=>e.isDominantSpeaker)),as({bufferSize:1,refCount:!0})),this.hasOngoingScreenShare$=this.participants$.pipe(r7(e=>e.some(e=>e.publishedTracks.includes(P.SCREEN_SHARE))),ao(),as({bufferSize:1,refCount:!0})),this.startedAt$=this.startedAtSubject.asObservable(),this.participantCount$=this.participantCountSubject.asObservable(),this.anonymousParticipantCount$=this.anonymousParticipantCountSubject.asObservable(),this.callStatsReport$=this.callStatsReportSubject.asObservable(),this.members$=this.membersSubject.asObservable(),this.ownCapabilities$=this.ownCapabilitiesSubject.asObservable(),this.callingState$=this.callingStateSubject.asObservable(),this.backstage$=this.backstageSubject.asObservable(),this.blockedUserIds$=this.blockedUserIdsSubject.asObservable(),this.createdAt$=this.createdAtSubject.asObservable(),this.endedAt$=this.endedAtSubject.asObservable(),this.startsAt$=this.startsAtSubject.asObservable(),this.updatedAt$=this.updatedAtSubject.asObservable(),this.createdBy$=this.createdBySubject.asObservable(),this.custom$=this.customSubject.asObservable(),this.egress$=this.egressSubject.asObservable(),this.ingress$=this.ingressSubject.asObservable(),this.recording$=this.recordingSubject.asObservable(),this.session$=this.sessionSubject.asObservable(),this.settings$=this.settingsSubject.asObservable(),this.transcribing$=this.transcribingSubject.asObservable(),this.endedBy$=this.endedBySubject.asObservable(),this.thumbnails$=this.thumbnailsSubject.asObservable(),this.eventHandlers={"call.permission_request":void 0,"call.recording_failed":void 0,"call.recording_ready":void 0,"call.user_muted":void 0,"connection.error":void 0,"connection.ok":void 0,"health.check":void 0,custom:void 0,"call.accepted":e=>this.updateFromCallResponse(e.call),"call.blocked_user":this.blockUser,"call.created":e=>this.updateFromCallResponse(e.call),"call.ended":e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.endedBySubject,e.user)},"call.hls_broadcasting_failed":this.updateFromHLSBroadcastingFailed,"call.hls_broadcasting_started":this.updateFromHLSBroadcastStarted,"call.hls_broadcasting_stopped":this.updateFromHLSBroadcastStopped,"call.live_started":e=>this.updateFromCallResponse(e.call),"call.member_added":this.updateFromMemberAdded,"call.member_removed":this.updateFromMemberRemoved,"call.member_updated_permission":this.updateMembers,"call.member_updated":this.updateMembers,"call.notification":e=>{this.updateFromCallResponse(e.call),this.setMembers(e.members)},"call.permissions_updated":this.updateOwnCapabilities,"call.reaction_new":this.updateParticipantReaction,"call.recording_started":()=>this.setCurrentValue(this.recordingSubject,!0),"call.recording_stopped":()=>this.setCurrentValue(this.recordingSubject,!1),"call.rejected":e=>this.updateFromCallResponse(e.call),"call.ring":e=>this.updateFromCallResponse(e.call),"call.session_ended":e=>this.updateFromCallResponse(e.call),"call.session_participant_joined":this.updateFromSessionParticipantJoined,"call.session_participant_left":this.updateFromSessionParticipantLeft,"call.session_started":e=>this.updateFromCallResponse(e.call),"call.unblocked_user":this.unblockUser,"call.updated":e=>this.updateFromCallResponse(e.call)}}get participantCount(){return this.getCurrentValue(this.participantCount$)}get startedAt(){return this.getCurrentValue(this.startedAt$)}get anonymousParticipantCount(){return this.getCurrentValue(this.anonymousParticipantCount$)}get participants(){return this.getCurrentValue(this.participants$)}get localParticipant(){return this.getCurrentValue(this.localParticipant$)}get remoteParticipants(){return this.getCurrentValue(this.remoteParticipants$)}get dominantSpeaker(){return this.getCurrentValue(this.dominantSpeaker$)}get pinnedParticipants(){return this.getCurrentValue(this.pinnedParticipants$)}get hasOngoingScreenShare(){return this.getCurrentValue(this.hasOngoingScreenShare$)}get callingState(){return this.getCurrentValue(this.callingState$)}get callStatsReport(){return this.getCurrentValue(this.callStatsReport$)}get members(){return this.getCurrentValue(this.members$)}get ownCapabilities(){return this.getCurrentValue(this.ownCapabilities$)}get backstage(){return this.getCurrentValue(this.backstage$)}get blockedUserIds(){return this.getCurrentValue(this.blockedUserIds$)}get createdAt(){return this.getCurrentValue(this.createdAt$)}get endedAt(){return this.getCurrentValue(this.endedAt$)}get startsAt(){return this.getCurrentValue(this.startsAt$)}get updatedAt(){return this.getCurrentValue(this.updatedAt$)}get createdBy(){return this.getCurrentValue(this.createdBy$)}get custom(){return this.getCurrentValue(this.custom$)}get egress(){return this.getCurrentValue(this.egress$)}get ingress(){return this.getCurrentValue(this.ingress$)}get recording(){return this.getCurrentValue(this.recording$)}get session(){return this.getCurrentValue(this.session$)}get settings(){return this.getCurrentValue(this.settings$)}get transcribing(){return this.getCurrentValue(this.transcribing$)}get endedBy(){return this.getCurrentValue(this.endedBy$)}get thumbnails(){return this.getCurrentValue(this.thumbnails$)}}class lx{constructor(){this.connectedUserSubject=new ar(void 0),this.callsSubject=new ar([]),this.getCurrentValue=o6,this.setCurrentValue=o8,this.setConnectedUser=e=>this.setCurrentValue(this.connectedUserSubject,e),this.setCalls=e=>this.setCurrentValue(this.callsSubject,e),this.registerCall=e=>{this.calls.find(t=>t.cid===e.cid)||this.setCalls(t=>[...t,e])},this.unregisterCall=e=>this.setCalls(t=>t.filter(t=>t!==e)),this.findCall=(e,t)=>this.calls.find(i=>i.type===e&&i.id===t),this.connectedUserSubject.subscribe(async e=>{if(!e){let e=oF(["client-state"]);for(let t of this.calls)t.state.callingState!==U.LEFT&&(e("info",`User disconnected, leaving call: ${t.cid}`),await t.leave().catch(i=>{e("error",`Error leaving call: ${t.cid}`,i)}))}})}get connectedUser(){return this.getCurrentValue(this.connectedUserSubject)}get calls(){return this.getCurrentValue(this.callsSubject)}}class lk{constructor(e){this.getCurrentValue=o6,this.connectedUser$=e.connectedUserSubject.asObservable(),this.calls$=e.callsSubject.asObservable()}get connectedUser(){return o6(this.connectedUser$)}get calls(){return o6(this.calls$)}}let lS=e=>{let t=/^a=rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/.exec(e);if(t)return{original:t[0],payload:t[1],codec:t[2]}},l_=e=>{let t=/^a=fmtp:(\d*) (.*)/.exec(e);if(t)return{original:t[0],payload:t[1],config:t[2]}},lR=(e,t)=>{let i=RegExp(`(m=${t} \\d+ [\\w/]+) ([\\d\\s]+)`).exec(e);if(i)return{original:i[0],mediaWithPorts:i[1],codecOrder:i[2]}},lE=(e,t)=>{let i;let n=[],r=[],a=!1;if(e.split(/(\r\n|\r|\n)/).forEach(e=>{if(!/^([a-z])=(.*)/.test(e))return;let s=e[0];if("m"===s){let n=lR(e,t);a=!!n,n&&(i=n)}else if(a&&"a"===s){let t=lS(e),i=l_(e);t?n.push(t):i&&r.push(i)}}),i)return{media:i,rtpMap:n,fmtp:r}},lT=e=>{let t=lE(e,"audio"),i=t?.rtpMap.find(e=>"opus"===e.codec.toLowerCase()),n=i?.payload;if(n)return t?.fmtp.find(e=>e.payload===n)},lC=(e,t)=>{let i=lT(e);if(i){let n=/usedtx=(\d)/.exec(i.config),r=`usedtx=${t?"1":"0"}`;if(n){let t=i.original.replace(/usedtx=(\d)/,r);return e.replace(i.original,t)}{let t=`${i.original};${r}`;return e.replace(i.original,t)}}return e},lP=(e,t,i=51e4)=>{i=Math.max(Math.min(i,51e4),96e3);let n=ab.Qc(e),r=n.media.find(e=>"audio"===e.type&&String(e.mid)===t);if(!r)return e;let a=r.rtp.find(e=>"opus"===e.codec);if(!a)return e;let s=r.fmtp.find(e=>e.payload===a.payload);return s?(s.config.match(/stereo=(\d)/)?s.config=s.config.replace(/stereo=(\d)/,"stereo=1"):s.config=`${s.config};stereo=1`,s.config.match(/maxaveragebitrate=(\d*)/)?s.config=s.config.replace(/maxaveragebitrate=(\d*)/,`maxaveragebitrate=${i}`):s.config=`${s.config};maxaveragebitrate=${i}`,ab.cW(n)):e},lA=oF(["Publisher"]);class lI{get connectionConfiguration(){return this.pc.getConfiguration?this.pc.getConfiguration():this._connectionConfiguration}constructor({connectionConfig:e,sfuClient:t,dispatcher:i,state:n,isDtxEnabled:r,isRedEnabled:a,iceRestartDelay:s=2500}){this.transceiverRegistry={[P.AUDIO]:void 0,[P.VIDEO]:void 0,[P.SCREEN_SHARE]:void 0,[P.SCREEN_SHARE_AUDIO]:void 0,[P.UNSPECIFIED]:void 0},this.publishOptionsPerTrackType=new Map,this.transceiverInitOrder=[],this.trackKindMapping={[P.AUDIO]:"audio",[P.VIDEO]:"video",[P.SCREEN_SHARE]:"video",[P.SCREEN_SHARE_AUDIO]:"audio",[P.UNSPECIFIED]:void 0},this.trackLayersCache={[P.AUDIO]:void 0,[P.VIDEO]:void 0,[P.SCREEN_SHARE]:void 0,[P.SCREEN_SHARE_AUDIO]:void 0,[P.UNSPECIFIED]:void 0},this.isIceRestarting=!1,this.createPeerConnection=e=>{let t=new RTCPeerConnection(e);return this._connectionConfiguration=e,t.addEventListener("icecandidate",this.onIceCandidate),t.addEventListener("negotiationneeded",this.onNegotiationNeeded),t.addEventListener("icecandidateerror",this.onIceCandidateError),t.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),t.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),t.addEventListener("signalingstatechange",this.onSignalingStateChange),t},this.close=({stopTracks:e=!0}={})=>{e&&(this.stopPublishing(),Object.keys(this.transceiverRegistry).forEach(e=>{this.transceiverRegistry[e]=void 0}),Object.keys(this.trackLayersCache).forEach(e=>{this.trackLayersCache[e]=void 0})),clearTimeout(this.iceRestartTimeout),this.unsubscribeOnIceRestart(),this.pc.removeEventListener("negotiationneeded",this.onNegotiationNeeded),this.pc.close()},this.publishStream=async(e,t,i,n={})=>{if("ended"===t.readyState)throw Error("Can't publish a track that has ended already.");let r=this.pc.getTransceivers().find(e=>e===this.transceiverRegistry[i]&&e.sender.track&&e.sender.track?.kind===this.trackKindMapping[i]),a=async()=>{lA("info",`Track ${P[i]} has ended, notifying the SFU`),await this.notifyTrackMuteStateChanged(e,i,!0),t.removeEventListener("ended",a)};if(r){let e=r.sender.track;e&&e!==t&&(e.stop(),e.removeEventListener("ended",a),t.addEventListener("ended",a)),t.enabled||(t.enabled=!0),await r.sender.replaceTrack(t)}else{let{settings:s}=this.state,o=s?.video.target_resolution,l=i===P.VIDEO?oZ(t,o):i===P.SCREEN_SHARE?o2(t,n.screenShareSettings):void 0,c=n.preferredCodec;if(!c&&i===P.VIDEO&&oN()){let e=oJ()?.name.toLowerCase();"ipados"===e?c="H264":"android"===e&&(c="VP8")}let u=this.getCodecPreferences(i,c);t.addEventListener("ended",a),t.enabled||(t.enabled=!0),r=this.pc.addTransceiver(t,{direction:"sendonly",streams:i===P.VIDEO||i===P.SCREEN_SHARE?[e]:void 0,sendEncodings:l}),lA("debug",`Added ${P[i]} transceiver`),this.transceiverInitOrder.push(i),this.transceiverRegistry[i]=r,this.publishOptionsPerTrackType.set(i,n),"setCodecPreferences"in r&&u&&(lA("info",`Setting ${P[i]} codec preferences`,u),r.setCodecPreferences(u))}await this.notifyTrackMuteStateChanged(e,i,!1)},this.unpublishStream=async(e,t)=>{let i=this.pc.getTransceivers().find(t=>t===this.transceiverRegistry[e]&&t.sender.track);i&&i.sender.track&&(t?"live"===i.sender.track.readyState:i.sender.track.enabled)&&(t?i.sender.track.stop():i.sender.track.enabled=!1,this.state.localParticipant?.publishedTracks.includes(e)&&await this.notifyTrackMuteStateChanged(void 0,e,!0))},this.isPublishing=e=>{let t=this.transceiverRegistry[e];if(t&&t.sender){let e=t.sender;return!!e.track&&"live"===e.track.readyState&&e.track.enabled}return!1},this.isLive=e=>{let t=this.transceiverRegistry[e];if(t&&t.sender){let e=t.sender;return!!e.track&&"live"===e.track.readyState}return!1},this.notifyTrackMuteStateChanged=async(e,t,i)=>{await this.sfuClient.updateMuteState(t,i);let n=o3(t);i?this.state.updateParticipant(this.sfuClient.sessionId,e=>({publishedTracks:e.publishedTracks.filter(e=>e!==t),[n]:void 0})):this.state.updateParticipant(this.sfuClient.sessionId,i=>({publishedTracks:i.publishedTracks.includes(t)?i.publishedTracks:[...i.publishedTracks,t],[n]:e}))},this.stopPublishing=()=>{lA("debug","Stopping publishing all tracks"),this.pc.getSenders().forEach(e=>{e.track?.stop(),"closed"!==this.pc.signalingState&&this.pc.removeTrack(e)})},this.updateVideoPublishQuality=async e=>{lA("info","Update publish quality, requested layers by SFU:",e);let t=this.transceiverRegistry[P.VIDEO]?.sender;if(!t){lA("warn","Update publish quality, no video sender found.");return}let i=t.getParameters();if(0===i.encodings.length){lA("warn","Update publish quality, No suitable video encoding quality found");return}let n=!1,r=e.filter(e=>e.active).map(e=>e.name);i.encodings.forEach(t=>{let i=r.includes(t.rid);if(i!==t.active&&(t.active=i,n=!0),i){let i=e.find(e=>e.name===t.rid);void 0!==i&&(i.scaleResolutionDownBy>=1&&i.scaleResolutionDownBy!==t.scaleResolutionDownBy&&(lA("debug","[dynascale]: setting scaleResolutionDownBy from server","layer",i.name,"scale-resolution-down-by",i.scaleResolutionDownBy),t.scaleResolutionDownBy=i.scaleResolutionDownBy,n=!0),i.maxBitrate>0&&i.maxBitrate!==t.maxBitrate&&(lA("debug","[dynascale] setting max-bitrate from the server","layer",i.name,"max-bitrate",i.maxBitrate),t.maxBitrate=i.maxBitrate,n=!0),i.maxFramerate>0&&i.maxFramerate!==t.maxFramerate&&(lA("debug","[dynascale]: setting maxFramerate from server","layer",i.name,"max-framerate",i.maxFramerate),t.maxFramerate=i.maxFramerate,n=!0))}});let a=i.encodings.filter(e=>e.active);n?(await t.setParameters(i),lA("info","Update publish quality, enabled rids: ",a)):lA("info","Update publish quality, no change: ",a)},this.getStats=e=>this.pc.getStats(e),this.getCodecPreferences=(e,t)=>{if(e===P.VIDEO)return o$("video",t||"vp8");if(e===P.AUDIO){let e=this.isRedEnabled?"red":"opus";return o$("audio",t??e,this.isRedEnabled?void 0:"red")}},this.onIceCandidate=async e=>{let{candidate:t}=e;if(!t){lA("debug","null ice candidate");return}await this.sfuClient.iceTrickle({iceCandidate:oH(t),peerType:E.PUBLISHER_UNSPECIFIED})},this.setSfuClient=e=>{this.sfuClient=e},this.migrateTo=async(e,t)=>{this.sfuClient=e,this.pc.setConfiguration(t),this._connectionConfiguration=t,"connected"===this.pc.iceConnectionState&&await this.negotiate({iceRestart:!0})},this.restartIce=async()=>{lA("debug","Restarting ICE connection");let e=this.pc.signalingState;if(this.isIceRestarting||"have-local-offer"===e){lA("debug","ICE restart is already in progress");return}await this.negotiate({iceRestart:!0})},this.onNegotiationNeeded=async()=>{await this.negotiate()},this.negotiate=async e=>{this.isIceRestarting=e?.iceRestart??!1;let t=await this.pc.createOffer(e),i=this.mungeCodecs(t.sdp);if(i&&this.isPublishing(P.SCREEN_SHARE_AUDIO)){let e=this.transceiverRegistry[P.SCREEN_SHARE_AUDIO];if(e&&e.sender.track){let t=e.mid??this.extractMid(i,e.sender.track,P.SCREEN_SHARE_AUDIO);i=lP(i,t)}}t.sdp=i;let n=this.getCurrentTrackInfos(t.sdp);if(0===n.length)throw Error("Can't initiate negotiation without announcing any tracks");await this.pc.setLocalDescription(t);let{response:r}=await this.sfuClient.setPublisher({sdp:t.sdp||"",tracks:n});try{await this.pc.setRemoteDescription({type:"answer",sdp:r.sdp})}catch(e){lA("error","setRemoteDescription error",{sdp:r.sdp,error:e})}this.isIceRestarting=!1,this.sfuClient.iceTrickleBuffer.publisherCandidates.subscribe(async e=>{try{let t=JSON.parse(e.iceCandidate);await this.pc.addIceCandidate(t)}catch(t){lA("warn","ICE candidate error",[t,e])}})},this.mungeCodecs=e=>(e&&(e=lC(e,this.isDtxEnabled)),e),this.extractMid=(e,t,i)=>{if(!e)return lA("warn","No SDP found. Returning empty mid"),"";lA("debug","No 'mid' found for track. Trying to find it from the Offer SDP");let n=ab.Qc(e).media.find(e=>e.type===t.kind&&(e.msid?.includes(t.id)??!0));if(void 0===n?.mid){lA("debug",`No mid found in SDP for track type ${t.kind} and id ${t.id}. Attempting to find a heuristic mid`);let e=this.transceiverInitOrder.indexOf(i);return -1!==e?String(e):(lA("debug","No heuristic mid found. Returning empty mid"),"")}return String(n.mid)},this.getCurrentTrackInfos=e=>{e=e||this.pc.localDescription?.sdp;let{settings:t}=this.state,i=t?.video.target_resolution;return this.pc.getTransceivers().filter(e=>"sendonly"===e.direction&&e.sender.track).map(t=>{let n;let r=Number(Object.keys(this.transceiverRegistry).find(e=>this.transceiverRegistry[e]===t)),a=t.sender.track;if("live"===a.readyState){let e=this.publishOptionsPerTrackType.get(r);n=r===P.VIDEO?oZ(a,i):r===P.SCREEN_SHARE?o2(a,e?.screenShareSettings):[],this.trackLayersCache[r]=n}else n=this.trackLayersCache[r]||[],lA("debug",`Track ${P[r]} is ended. Announcing last known optimal layers`,n);let s=n.map(e=>({rid:e.rid||"",bitrate:e.maxBitrate||0,fps:e.maxFramerate||0,quality:this.ridToVideoQuality(e.rid||""),videoDimension:{width:e.width,height:e.height}})),o=[P.AUDIO,P.SCREEN_SHARE_AUDIO].includes(r),l=a.getSettings(),c=o&&2===l.channelCount;return{trackId:a.id,layers:s,trackType:r,mid:t.mid??this.extractMid(e,a,r),stereo:c,dtx:o&&this.isDtxEnabled,red:o&&this.isRedEnabled}})},this.onIceCandidateError=e=>{let t=e instanceof RTCPeerConnectionIceErrorEvent&&`${e.errorCode}: ${e.errorText}`;lA("connected"===this.pc.iceConnectionState?"debug":"error","ICE Candidate error",t)},this.onIceConnectionStateChange=()=>{let e=this.pc.iceConnectionState;lA("debug","ICE Connection state changed to",e);let t=this.state.callingState!==U.OFFLINE;"failed"===e?(lA("warn","Attempting to restart ICE"),this.restartIce().catch(e=>{lA("error","ICE restart error",e)})):"disconnected"===e&&t&&(lA("warn",`Scheduling ICE restart in ${this.iceRestartDelay} ms.`),this.iceRestartTimeout=setTimeout(()=>{"disconnected"===this.pc.iceConnectionState||"failed"===this.pc.iceConnectionState?this.restartIce().catch(e=>{lA("error","ICE restart error",e)}):lA("debug","Scheduled ICE restart: connection recovered, canceled.")},this.iceRestartDelay))},this.onIceGatheringStateChange=()=>{lA("debug","ICE Gathering State",this.pc.iceGatheringState)},this.onSignalingStateChange=()=>{lA("debug","Signaling state changed",this.pc.signalingState)},this.ridToVideoQuality=e=>"q"===e?C.LOW_UNSPECIFIED:"h"===e?C.MID:C.HIGH,this.pc=this.createPeerConnection(e),this.sfuClient=t,this.state=n,this.isDtxEnabled=r,this.isRedEnabled=a,this.iceRestartDelay=s,this.unsubscribeOnIceRestart=i.on("iceRestart",async e=>{e.peerType===E.PUBLISHER_UNSPECIFIED&&await this.restartIce()})}}let lO=oF(["Subscriber"]);class lj{get connectionConfiguration(){return this.pc.getConfiguration?this.pc.getConfiguration():this._connectionConfiguration}constructor({sfuClient:e,dispatcher:t,state:i,connectionConfig:n,iceRestartDelay:r=2500}){this.isIceRestarting=!1,this.createPeerConnection=e=>{let t=new RTCPeerConnection(e);return this._connectionConfiguration=e,t.addEventListener("icecandidate",this.onIceCandidate),t.addEventListener("track",this.handleOnTrack),t.addEventListener("icecandidateerror",this.onIceCandidateError),t.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),t.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),t},this.close=()=>{clearTimeout(this.iceRestartTimeout),this.unregisterOnSubscriberOffer(),this.unregisterOnIceRestart(),this.pc.close()},this.getStats=e=>this.pc.getStats(e),this.setSfuClient=e=>{this.sfuClient=e},this.migrateTo=(e,t)=>{let i;this.setSfuClient(e);let n=this.pc,r=new Set;n.getReceivers().forEach(e=>{"video"===e.track.kind&&r.add(e.track.id)});let a=this.createPeerConnection(t),s=()=>{n.close(),clearTimeout(i)},o=e=>{lO("debug",`[Migration]: Migrated track: ${e.track.id}, ${e.track.kind}`),r.delete(e.track.id),0===r.size&&(lO("debug","[Migration]: Migration complete"),a.removeEventListener("track",o),s())},l=()=>{"connected"===a.connectionState&&(i=setTimeout(()=>{a.removeEventListener("track",o),s()},2e3),a.removeEventListener("connectionstatechange",l))};a.addEventListener("track",o),a.addEventListener("connectionstatechange",l),this.pc=a},this.restartIce=async()=>{if(lO("debug","Restarting ICE connection"),"have-remote-offer"===this.pc.signalingState){lO("debug","ICE restart is already in progress");return}let e=this.isIceRestarting;try{this.isIceRestarting=!0,await this.sfuClient.iceRestart({peerType:E.SUBSCRIBER})}catch(t){throw this.isIceRestarting=e,t}},this.handleOnTrack=e=>{let[t]=e.streams,[i,n]=t.id.split(":"),r=this.state.participants.find(e=>e.trackLookupPrefix===i);if(lO("debug",`[onTrack]: Got remote ${n} track for userId: ${r?.userId}`,e.track.id,e.track),!r){lO("error",`[onTrack]: Received track for unknown participant: ${i}`,e);return}e.track.addEventListener("mute",()=>{lO("info",`[onTrack]: Track muted: ${r.userId} ${n}:${i}`)}),e.track.addEventListener("unmute",()=>{lO("info",`[onTrack]: Track unmuted: ${r.userId} ${n}:${i}`)}),e.track.addEventListener("ended",()=>{lO("info",`[onTrack]: Track ended: ${r.userId} ${n}:${i}`)});let a={TRACK_TYPE_AUDIO:"audioStream",TRACK_TYPE_VIDEO:"videoStream",TRACK_TYPE_SCREEN_SHARE:"screenShareStream",TRACK_TYPE_SCREEN_SHARE_AUDIO:"screenShareAudioStream"}[n];if(!a){lO("error",`Unknown track type: ${n}`);return}let s=r[a];s&&(lO("info",`[onTrack]: Cleaning up previous remote ${e.track.kind} tracks for userId: ${r.userId}`),s.getTracks().forEach(e=>{e.stop(),s.removeTrack(e)})),this.state.updateParticipant(r.sessionId,{[a]:t})},this.onIceCandidate=async e=>{let{candidate:t}=e;if(!t){lO("debug","null ice candidate");return}await this.sfuClient.iceTrickle({iceCandidate:oH(t),peerType:E.SUBSCRIBER})},this.negotiate=async e=>{lO("info","Received subscriberOffer",e),await this.pc.setRemoteDescription({type:"offer",sdp:e.sdp}),this.sfuClient.iceTrickleBuffer.subscriberCandidates.subscribe(async e=>{try{let t=JSON.parse(e.iceCandidate);await this.pc.addIceCandidate(t)}catch(t){lO("warn","ICE candidate error",[t,e])}});let t=await this.pc.createAnswer();await this.pc.setLocalDescription(t),await this.sfuClient.sendAnswer({peerType:E.SUBSCRIBER,sdp:t.sdp||""}),this.isIceRestarting=!1},this.onIceConnectionStateChange=()=>{let e=this.pc.iceConnectionState;if(lO("debug","ICE connection state changed",e),this.isIceRestarting)return;let t=this.state.callingState!==U.OFFLINE;"failed"===e?(lO("warn","Attempting to restart ICE"),this.restartIce().catch(e=>{lO("error","ICE restart failed",e)})):"disconnected"===e&&t&&(lO("warn",`Scheduling ICE restart in ${this.iceRestartDelay} ms.`),this.iceRestartTimeout=setTimeout(()=>{"disconnected"===this.pc.iceConnectionState||"failed"===this.pc.iceConnectionState?this.restartIce().catch(e=>{lO("error","ICE restart failed",e)}):lO("debug","Scheduled ICE restart: connection recovered, canceled.")},5e3))},this.onIceGatheringStateChange=()=>{lO("debug","ICE gathering state changed",this.pc.iceGatheringState)},this.onIceCandidateError=e=>{let t=e instanceof RTCPeerConnectionIceErrorEvent&&`${e.errorCode}: ${e.errorText}`;lO("connected"===this.pc.iceConnectionState?"debug":"error","ICE Candidate error",t)},this.sfuClient=e,this.state=i,this.iceRestartDelay=r,this.pc=this.createPeerConnection(n),this.unregisterOnSubscriberOffer=t.on("subscriberOffer",async e=>{await this.negotiate(e)}),this.unregisterOnIceRestart=t.on("iceRestart",async e=>{e.peerType===E.SUBSCRIBER&&await this.restartIce()})}}let lN=e=>{let t=oF(["sfu-client"]),{endpoint:i,onMessage:n}=e,r=new(ak())(i);return r.binaryType="arraybuffer",r.addEventListener("error",e=>{t("error","Signaling WS channel error",e)}),r.addEventListener("close",e=>{t("info","Signaling WS channel is closed",e)}),r.addEventListener("open",e=>{t("info","Signaling WS channel is open",e)}),r.addEventListener("message",e=>{try{let t=e.data instanceof ArrayBuffer?sD.fromBinary(new Uint8Array(e.data)):sD.fromJsonString(e.data.toString());n(t)}catch(i){t("error","Failed to decode a message. Check whether the Proto models match.",{event:e,error:i})}}),r},lL=e=>new Promise(t=>setTimeout(t,e));function lD(e){return e&&("[object Function]"===Object.prototype.toString.call(e)||"function"==typeof e||e instanceof Function)}let lU={TOKEN_EXPIRED:40,WS_CLOSED_SUCCESS:1e3,WS_CLOSED_ABRUPTLY:1006,WS_POLICY_VIOLATION:1008};function lq(e){let t=Math.min(500+2e3*e,5e3),i=Math.min(Math.max(250,(e-1)*2e3),5e3);return Math.floor(Math.random()*(t-i)+i)}function lM(e){let t="";for(let i=0;i<e.length;i++)t+=e[i].toString(16).padStart(2,"0");return t}function lF(){let e=function(e){let t=new Uint8Array(16);return l$(t),t}(0);return e[6]=15&e[6]|64,e[8]=191&e[8]|128,lM(e.subarray(0,4))+"-"+lM(e.subarray(4,6))+"-"+lM(e.subarray(6,8))+"-"+lM(e.subarray(8,10))+"-"+lM(e.subarray(10,16))}let l$="undefined"!=typeof crypto&&void 0!==crypto?.getRandomValues?crypto.getRandomValues.bind(crypto):"undefined"!=typeof msCrypto?msCrypto.getRandomValues.bind(msCrypto):function(e){let t=Math.pow(2,8*e.byteLength/e.length);for(let i=0;i<e.length;i++)e[i]=Math.random()*t};class lB{constructor({dispatcher:e,sfuServer:t,token:i,sessionId:n}){this.iceTrickleBuffer=new oW,this.isMigratingAway=!1,this.isFastReconnecting=!1,this.pingIntervalInMs=1e4,this.unhealthyTimeoutInMs=this.pingIntervalInMs+5e3,this.close=(e=lB.NORMAL_CLOSURE,t="js-client: requested signal connection close")=>{this.logger("debug","Closing SFU WS connection",e,t),this.signalWs.readyState!==this.signalWs.CLOSED&&this.signalWs.close(e,t),this.unsubscribeIceTrickle(),clearInterval(this.keepAliveInterval),clearTimeout(this.connectionCheckTimeout)},this.updateSubscriptions=async e=>lK(()=>this.rpc.updateSubscriptions({sessionId:this.sessionId,tracks:e}),this.logger),this.setPublisher=async e=>lK(()=>this.rpc.setPublisher({...e,sessionId:this.sessionId}),this.logger),this.sendAnswer=async e=>lK(()=>this.rpc.sendAnswer({...e,sessionId:this.sessionId}),this.logger),this.iceTrickle=async e=>lK(()=>this.rpc.iceTrickle({...e,sessionId:this.sessionId}),this.logger),this.iceRestart=async e=>lK(()=>this.rpc.iceRestart({...e,sessionId:this.sessionId}),this.logger),this.updateMuteState=async(e,t)=>this.updateMuteStates({muteStates:[{trackType:e,muted:t}]}),this.updateMuteStates=async e=>lK(()=>this.rpc.updateMuteStates({...e,sessionId:this.sessionId}),this.logger),this.join=async e=>{let t=s1.create({...e,sessionId:this.sessionId,token:this.token});return this.send(sV.create({requestPayload:{oneofKind:"joinRequest",joinRequest:t}}))},this.send=async e=>this.signalReady.then(t=>{t.readyState===t.OPEN&&(this.logger("debug",`Sending message to: ${this.edgeName}`,sV.toJson(e)),t.send(sV.toBinary(e)))}),this.keepAlive=()=>{clearInterval(this.keepAliveInterval),this.keepAliveInterval=setInterval(()=>{this.logger("trace","Sending healthCheckRequest to SFU");let e=sV.create({requestPayload:{oneofKind:"healthCheckRequest",healthCheckRequest:{}}});this.send(e).catch(e=>{this.logger("error","Error sending healthCheckRequest to SFU",e)})},this.pingIntervalInMs)},this.scheduleConnectionCheck=()=>{clearTimeout(this.connectionCheckTimeout),this.connectionCheckTimeout=setTimeout(()=>{this.lastMessageTimestamp&&new Date().getTime()-this.lastMessageTimestamp.getTime()>this.unhealthyTimeoutInMs&&this.close(lB.ERROR_CONNECTION_UNHEALTHY,`SFU connection unhealthy. Didn't receive any message for ${this.unhealthyTimeoutInMs}ms`)},this.unhealthyTimeoutInMs)},this.sessionId=n||lF(),this.sfuServer=t,this.edgeName=t.edge_name,this.token=i,this.logger=oF(["sfu-client"]),this.rpc=oj({baseUrl:t.url,interceptors:[oO({Authorization:`Bearer ${i}`}),{interceptUnary:(e,t,i,n)=>(this.logger("trace",`Calling SFU RPC method ${t.name}`,{input:i,options:n}),e(t,i,n))}]}),this.unsubscribeIceTrickle=e.on("iceTrickle",e=>{this.iceTrickleBuffer.push(e)}),this.signalWs=lN({endpoint:t.ws_endpoint,onMessage:t=>{this.lastMessageTimestamp=new Date,this.scheduleConnectionCheck(),e.dispatch(t)}}),this.signalReady=new Promise(e=>{let t=()=>{this.signalWs.removeEventListener("open",t),this.keepAlive(),e(this.signalWs)};this.signalWs.addEventListener("open",t)})}}lB.NORMAL_CLOSURE=1e3,lB.ERROR_CONNECTION_UNHEALTHY=4001,lB.ERROR_CONNECTION_BROKEN=4002;let lK=async(e,t)=>{let i,n=0;do n>0&&await lL(lq(n)),i=await e(),t("trace",`SFU RPC response received for ${i.method.name}`,i),i.response.error&&t("error",`SFU RPC Error (${i.method.name}):`,i.response.error),n++;while(i.response.error?.shouldRetry&&n<5);if(i.response.error)throw i.response.error;return i},lz=e=>async function(t){if(t.user.id===e.currentUserId)return;let{state:i}=e;t.call.created_by.id===e.currentUserId&&i.callingState===U.RINGING&&await e.join()},lV=e=>async function(t){if(t.user.id===e.currentUserId)return;let{call:i}=t,{session:n}=i;if(!n){e.logger("warn","No call session provided. Ignoring call.rejected event.",t);return}let r=n.rejected_by,{members:a,callingState:s}=e.state;if(s!==U.RINGING){e.logger("info","Call is not in ringing mode (it is either accepted or rejected already). Ignoring call.rejected event.",t);return}e.isCreatedByMe?a.filter(t=>t.user_id!==e.currentUserId).every(e=>r[e.user_id])&&(e.logger("info","everyone rejected, leaving the call"),await e.leave()):r[i.created_by.id]&&(e.logger("info","call creator rejected, leaving call"),await e.leave())},lW=e=>async function(){let{callingState:t}=e.state;(t===U.RINGING||t===U.JOINED||t===U.JOINING)&&await e.leave()},lH=e=>function(t){let{currentGrants:i}=t;if(i){let{canPublishAudio:t,canPublishVideo:n,canScreenshare:r}=i,a={[aE.SEND_AUDIO]:t,[aE.SEND_VIDEO]:n,[aE.SCREENSHARE]:r},s=e.ownCapabilities.filter(e=>!1!==a[e]);Object.entries(a).forEach(([e,t])=>{t&&!s.includes(e)&&s.push(e)}),e.setOwnCapabilities(s)}},lG=oF(["events"]),lJ=(e,t)=>e.on("changePublishQuality",e=>{let{videoSenders:i}=e;i.forEach(e=>{let{layers:i}=e;t.updatePublishQuality(i.filter(e=>e.active))})}),lY=(e,t)=>e.on("connectionQualityChanged",e=>{let{connectionQualityUpdates:i}=e;i&&t.updateParticipants(i.reduce((e,t)=>{let{sessionId:i,connectionQuality:n}=t;return e[i]={connectionQuality:n},e},{}))}),lX=(e,t)=>e.on("healthCheckResponse",e=>{let{participantCount:i}=e;i&&(t.setParticipantCount(i.total),t.setAnonymousParticipantCount(i.anonymous))}),lQ=(e,t)=>e.on("error",e=>{e.error&&e.error.code!==A.LIVE_ENDED||t.permissionsContext.hasPermission(aE.JOIN_BACKSTAGE)||t.leave().catch(e=>{lG("error","Failed to leave call after live ended",e)})}),lZ=e=>e.on("error",e=>{if(!e.error)return;let{error:t}=e;lG("error","SFU reported error",{code:A[t.code],message:t.message,shouldRetry:t.shouldRetry})}),l0=e=>function(t){let{pins:i}=t;e.setServerSidePins(i)},l1=e=>e.on("trackUnpublished",async t=>{let{cause:i,type:n,sessionId:r}=t,{localParticipant:a}=e.state;if(i===O.MODERATION&&r===a?.sessionId){let t=e.logger;t("info",`Local participant's ${P[n]} track is muted remotely`);try{n===P.VIDEO?await e.camera.disable():n===P.AUDIO?await e.microphone.disable():t("warn","Unsupported track type to soft mute",P[n]),e.publisher?.isPublishing(n)&&await e.stopPublish(n)}catch(e){t("error","Failed to stop publishing",e)}}}),l2=e=>function(t){let{participant:i}=t;i&&e.updateOrAddParticipant(i.sessionId,Object.assign(i,{viewportVisibilityState:{videoTrack:L.UNKNOWN,screenShareTrack:L.UNKNOWN}}))},l3=e=>function(t){let{participant:i}=t;i&&e.setParticipants(e=>e.filter(e=>e.sessionId!==i.sessionId))},l4=e=>function(t){let{type:i,sessionId:n,participant:r}=t;r?e.updateOrAddParticipant(n,r):e.updateParticipant(n,e=>({publishedTracks:[...e.publishedTracks,i].filter(l6)}))},l5=e=>function(t){let{type:i,sessionId:n,participant:r}=t;r?e.updateOrAddParticipant(n,r):e.updateParticipant(n,e=>({publishedTracks:e.publishedTracks.filter(e=>e!==i)}))},l6=(e,t,i)=>i.indexOf(e)===t,l8=(e,t)=>e.on("dominantSpeakerChanged",e=>{let{sessionId:i}=e;i!==t.dominantSpeaker?.sessionId&&t.setParticipants(e=>e.map(e=>e.sessionId===i?{...e,isDominantSpeaker:!0}:e.isDominantSpeaker?{...e,isDominantSpeaker:!1}:e))}),l9=(e,t)=>e.on("audioLevelChanged",e=>{let{audioLevels:i}=e;t.updateParticipants(i.reduce((e,t)=>(e[t.sessionId]={audioLevel:t.level,isSpeaking:t.isSpeaking},e),{}))}),l7=(e,t,i)=>{let n=[e.on("call.ended",lW(e)),lQ(i,e),lZ(i),lJ(i,e),lY(i,t),lX(i,t),e.on("participantJoined",l2(t)),e.on("participantLeft",l3(t)),e.on("trackPublished",l4(t)),e.on("trackUnpublished",l5(t)),l9(i,t),l8(i,t),e.on("callGrantsUpdated",lH(t)),e.on("pinsUpdated",l0(t)),l1(e)];return e.ringing&&n.push(ce(e)),()=>{n.forEach(e=>e())}},ce=e=>{let t={"call.accepted":lz(e),"call.rejected":lV(e)},i=Object.keys(t).map(i=>e.on(i,t[i]));return()=>{i.forEach(e=>e())}},ct=async(e,t,i,n)=>{let{call:r,credentials:a,members:s,own_capabilities:o}=await ci(e,t,i,n);return{connectionConfig:cn(a.ice_servers),sfuServer:a.server,token:a.token,metadata:r,members:s,ownCapabilities:o}},ci=async(e,t,i,n)=>{let r=await e.getLocationHint(),a={...n,location:r};return e.post(`/call/${t}/${i}/join`,a)},cn=e=>{if(e&&0!==e.length)return{iceServers:e.map(e=>({urls:e.urls,username:e.username,credential:e.password}))}},cr=({subscriber:e,publisher:t,state:i,pollingIntervalInMs:n=2e3})=>{let r;let a=oF(["stats"]),s=async(i,n)=>"subscriber"===i&&e?e.getStats(n):"publisher"===i&&t?t.getStats(n):void a("warn",`Can't retrieve RTC stats for ${i}`),o=async(i,n)=>{let r="subscriber"===i?e:t,a=[];for(let e of n.getTracks()){let t=ca(await r.getStats(e),{trackKind:e.kind,kind:i});a.push(t)}return a},l=new Set,c=async()=>{let n={},r=new Set(l);if(r.size>0)for(let e of i.participants){if(!r.has(e.sessionId))continue;let t=e.isLocalParticipant?"publisher":"subscriber";try{let i=new MediaStream([...e.videoStream?.getVideoTracks()||[],...e.audioStream?.getAudioTracks()||[]]);n[e.sessionId]=await o(t,i),i.getTracks().forEach(e=>{i.removeTrack(e)})}catch(i){a("error",`Failed to collect stats for ${t} if ${e.userId}`,i)}}let[c,u]=await Promise.all([e.getStats().then(e=>ca(e,{kind:"subscriber",trackKind:"video"})).then(cs),t.getStats().then(e=>ca(e,{kind:"publisher",trackKind:"video"})).then(cs)]),[d,h]=await Promise.all([s("subscriber"),s("publisher")]);i.setCallStatsReport({datacenter:t.sfuClient.edgeName,publisherStats:u,subscriberStats:c,subscriberRawStats:d,publisherRawStats:h,participants:n,timestamp:Date.now()})};if(n>0){let e=async()=>{await c().catch(e=>{a("debug","Failed to collect stats",e)}),r=setTimeout(e,n)};e()}return{getRawStatsForTrack:s,getStatsForStream:o,startReportingStatsFor:e=>{l.add(e),c()},stopReportingStatsFor:e=>{l.delete(e),c()},stop:()=>{r&&clearTimeout(r)}}},ca=(e,t)=>{let{trackKind:i,kind:n}=t,r="subscriber"===n?"inbound-rtp":"outbound-rtp",a=co(e);return{rawStats:e,streams:a.filter(e=>e.type===r&&e.kind===i).map(e=>{let t;let i=a.find(t=>"codec"===t.type&&t.id===e.codecId),n=a.find(t=>"transport"===t.type&&t.id===e.transportId);if(n&&"connected"===n.dtlsState){let e=a.find(e=>"candidate-pair"===e.type&&e.id===n.selectedCandidatePairId);t=e?.currentRoundTripTime}return{bytesSent:e.bytesSent,bytesReceived:e.bytesReceived,codec:i?.mimeType,currentRoundTripTime:t,frameHeight:e.frameHeight,frameWidth:e.frameWidth,framesPerSecond:e.framesPerSecond,jitter:e.jitter,kind:e.kind,qualityLimitationReason:e.qualityLimitationReason,rid:e.rid,ssrc:e.ssrc}}),timestamp:Date.now()}},cs=e=>{let t={rawReport:e,totalBytesSent:0,totalBytesReceived:0,averageJitterInMs:0,averageRoundTripTimeInMs:0,qualityLimitationReasons:"none",highestFrameWidth:0,highestFrameHeight:0,highestFramesPerSecond:0,timestamp:Date.now()},i=-1,n=(e,t)=>e*t,r=new Set,a=e.streams,s=a.reduce((e,t)=>{e.totalBytesSent+=t.bytesSent||0,e.totalBytesReceived+=t.bytesReceived||0,e.averageJitterInMs+=t.jitter||0,e.averageRoundTripTimeInMs+=t.currentRoundTripTime||0;let a=n(t.frameWidth||0,t.frameHeight||0);return a>i&&(e.highestFrameWidth=t.frameWidth||0,e.highestFrameHeight=t.frameHeight||0,e.highestFramesPerSecond=t.framesPerSecond||0,i=a),r.add(t.qualityLimitationReason||""),e},t);a.length>0&&(s.averageJitterInMs=Math.round(s.averageJitterInMs/a.length*1e3),s.averageRoundTripTimeInMs=Math.round(s.averageRoundTripTimeInMs/a.length*1e3));let o=[r.has("cpu")&&"cpu",r.has("bandwidth")&&"bandwidth",r.has("other")&&"other"].filter(Boolean).join(", ");return o&&(s.qualityLimitationReasons=o),s},co=e=>{let t=[];return e.forEach(e=>{t.push(e)}),t};class cl{constructor(){this.elementHandlerMap=new Map,this.observer=null,this.queueSet=new Set,this.setViewport=(e,t)=>(this.observer=new IntersectionObserver(e=>{e.forEach(e=>{let t=this.elementHandlerMap.get(e.target);t?.(e)})},{root:e,...t,threshold:t?.threshold??.35}),this.queueSet.size&&(this.queueSet.forEach(([t,i])=>{e.contains(t)&&(this.observer.observe(t),this.elementHandlerMap.set(t,i))}),this.queueSet.clear()),()=>{this.observer?.disconnect(),this.observer=null,this.elementHandlerMap.clear()}),this.observe=(e,t)=>{let i=[e,t];return this.elementHandlerMap.has(e)||(this.observer?this.observer.root.contains(e)&&(this.elementHandlerMap.set(e,t),this.observer.observe(e)):this.queueSet.add(i)),()=>{this.elementHandlerMap.delete(e),this.observer?.unobserve(e),this.queueSet.delete(i)}}}}let cc=()=>"undefined"!=typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent||""),cu=()=>"undefined"!=typeof navigator&&navigator.userAgent?.includes("Firefox");var cd=Object.freeze({__proto__:null,isChrome:()=>"undefined"!=typeof navigator&&navigator.userAgent?.includes("Chrome"),isFirefox:cu,isSafari:cc});let ch={videoTrack:L.UNKNOWN,screenShareTrack:L.UNKNOWN};class cp{constructor(e){this.viewportTracker=new cl,this.logger=oF(["DynascaleManager"]),this.trackElementVisibility=(e,t,i)=>{let n=this.viewportTracker.observe(e,n=>{this.call.state.updateParticipant(t,t=>{let r=t.viewportVisibilityState??ch,a=n.isIntersecting||document.fullscreenElement===e?L.VISIBLE:L.INVISIBLE;return{...t,viewportVisibilityState:{...r,[i]:a}}})});return()=>{n(),this.call.state.updateParticipant(t,e=>{let t=e.viewportVisibilityState??ch;return{...e,viewportVisibilityState:{...t,[i]:L.UNKNOWN}}})}},this.setViewport=e=>this.viewportTracker.setViewport(e),this.bindVideoElement=(e,t,i)=>{let n,r;let a=this.call.state.findParticipantBySessionId(t);if(!a)return;let s=(e,n)=>{n&&(0===n.width||0===n.height)&&(this.logger("debug","Ignoring 0x0 dimension",a),n=void 0),this.call.updateSubscriptionsPartial(i,{[t]:{dimension:n}},e)},o=this.call.state.participants$.pipe(r7(e=>e.find(e=>e.sessionId===t)),ac(e=>!!e),ao(),as({bufferSize:1,refCount:!0})),l=a.isLocalParticipant?null:o.pipe(r7(e=>e.viewportVisibilityState?.[i]),ao()).subscribe(t=>{if(!n){n=t??L.UNKNOWN;return}if(n=t??L.UNKNOWN,t===L.INVISIBLE)return s(D.MEDIUM,void 0);s(D.MEDIUM,{width:e.clientWidth,height:e.clientHeight})}),c=a.isLocalParticipant?null:new ResizeObserver(()=>{let t=`${e.clientWidth},${e.clientHeight}`;if(!r){r=t;return}r!==t&&n!==L.INVISIBLE&&(s(D.SLOW,{width:e.clientWidth,height:e.clientHeight}),r=t)});c?.observe(e);let u=a.isLocalParticipant?null:o.pipe(au("publishedTracks"),r7(e=>e.publishedTracks.includes("videoTrack"===i?P.VIDEO:P.SCREEN_SHARE)),ao()).subscribe(t=>{t?s(D.FAST,{width:e.clientWidth,height:e.clientHeight}):s(D.FAST,void 0)});e.autoplay=!0,e.playsInline=!0,e.muted=!0;let d=o.pipe(au("videoTrack"===i?"videoStream":"screenShareStream")).subscribe(t=>{let n="videoTrack"===i?t.videoStream:t.screenShareStream;e.srcObject!==n&&(e.srcObject=n??null,(cc()||cu())&&setTimeout(()=>{e.srcObject=n??null,e.play().catch(e=>{this.logger("warn","Failed to play stream",e)})},25))});return()=>{s(D.FAST,void 0),l?.unsubscribe(),u?.unsubscribe(),d.unsubscribe(),c?.disconnect()}},this.bindAudioElement=(e,t,i)=>{let n=this.call.state.findParticipantBySessionId(t);if(!n||n.isLocalParticipant)return;let r=this.call.state.participants$.pipe(r7(e=>e.find(e=>e.sessionId===t)),ac(e=>!!e),ao(),as({bufferSize:1,refCount:!0})).pipe(au("screenShareAudioTrack"===i?"screenShareAudioStream":"audioStream")).subscribe(t=>{let n="screenShareAudioTrack"===i?t.screenShareAudioStream:t.audioStream;e.srcObject!==n&&setTimeout(()=>{if(e.srcObject=n??null,e.srcObject){e.play().catch(e=>{this.logger("warn","Failed to play stream",e)});let{selectedDevice:t}=this.call.speaker.state;t&&"setSinkId"in e&&e.setSinkId(t)}})}),a="setSinkId"in e?this.call.speaker.state.selectedDevice$.subscribe(t=>{t&&e.setSinkId(t)}):null,s=this.call.speaker.state.volume$.subscribe(t=>{e.volume=t});return e.autoplay=!0,()=>{a?.unsubscribe(),s.unsubscribe(),r.unsubscribe()}},this.call=e}}class cf{constructor(){this.permissions=[],this.setPermissions=e=>{this.permissions=e||[]},this.setCallSettings=e=>{this.settings=e},this.hasPermission=e=>this.permissions.includes(e),this.canRequest=(e,t=this.settings)=>{if(!t)return!1;let{audio:i,video:n,screensharing:r}=t;switch(e){case aE.SEND_AUDIO:return i.access_request_enabled;case aE.SEND_VIDEO:return n.access_request_enabled;case aE.SCREENSHARE:return r.access_request_enabled;default:return!1}}}}class cm{constructor(e,t={sortParticipantsBy:lg}){this.name=e,this.options=t}}class cg{constructor(e){this.register=e=>{this.callTypes[e.name]=e},this.unregister=e=>{delete this.callTypes[e]},this.get=e=>(this.callTypes[e]||this.register(new cm(e)),this.callTypes[e]),this.callTypes=e.reduce((e,t)=>(e[t.name]=t,e),{})}}let cy=new cg([new cm("default",{sortParticipantsBy:lg}),new cm("development",{sortParticipantsBy:lg}),new cm("livestream",{sortParticipantsBy:lb}),new cm("audio_room",{sortParticipantsBy:lb})]),cv=(e,t)=>new rN(i=>{(async()=>{let i=await navigator.mediaDevices.enumerateDevices();if(i.some(e=>e.kind===t&&""===e.label)){let t;try{t=await navigator.mediaDevices.getUserMedia(e),i=await navigator.mediaDevices.enumerateDevices()}finally{t&&cL(t)}}return i})().then(e=>{i.next(e),i.complete()}).catch(e=>{oF(["devices"])("error","Failed to enumerate devices",e),i.error(e)})}),cb=()=>"undefined"!=typeof document&&"setSinkId"in document.createElement("audio"),cw={audio:{autoGainControl:!0,noiseSuppression:!0,echoCancellation:!0}},cx={video:{width:1280,height:720}},ck=e=>{let t;return()=>(t||(t=e()),t)},cS=ck(()=>new rN(e=>{if(!navigator.mediaDevices.addEventListener)return;let t=()=>e.next();return navigator.mediaDevices.addEventListener("devicechange",t),()=>{navigator.mediaDevices.removeEventListener("devicechange",t)}}).pipe(function(e,t){return void 0===t&&(t=am),r2(function(e,i){var n=null,r=null,a=null,s=function(){if(n){n.unsubscribe(),n=null;var e=r;r=null,i.next(e)}};function o(){var e=a+500,r=t.now();if(r<e){n=this.schedule(void 0,e-r),i.add(n);return}s()}e.subscribe(r3(i,function(e){r=e,a=t.now(),n||(n=t.schedule(o,500),i.add(n))},function(){s(),i.complete()},void 0,function(){r=n=null}))})}(0),function(e,t){return rl(void 0)?ag(e,void 0,1):ag(e,1)}(()=>r9(navigator.mediaDevices.enumerateDevices())),as(1))),c_=ck(()=>av(cv(cw,"audioinput"),cS()).pipe(as(1))),cR=ck(()=>av(cv(cw,"audiooutput"),cS()).pipe(as(1))),cE=ck(()=>av(cv(cx,"videoinput"),cS()).pipe(as(1))),cT=()=>c_().pipe(r7(e=>e.filter(e=>"audioinput"===e.kind))),cC=()=>cE().pipe(r7(e=>e.filter(e=>"videoinput"===e.kind))),cP=()=>cR().pipe(r7(e=>e.filter(e=>"audiooutput"===e.kind))),cA=async e=>{try{return await navigator.mediaDevices.getUserMedia(e)}catch(t){throw oF(["devices"])("error","Failed get user media",{error:t,constraints:e}),t}},cI=async e=>cA({audio:{...cw.audio,...e}}),cO=async e=>cA({video:{...cx.video,...e}}),cj=async e=>{try{return await navigator.mediaDevices.getDisplayMedia({video:!0,audio:{channelCount:{ideal:2},echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1},systemAudio:"include",...e})}catch(e){throw oF(["devices"])("error","Failed to get screen share stream",e),e}},cN="undefined"!=typeof navigator&&void 0!==navigator.mediaDevices?ck(()=>av(r9(navigator.mediaDevices.enumerateDevices()),cS()).pipe(as(1)))():void 0,cL=e=>{e.active&&(e.getTracks().forEach(t=>{t.stop(),e.removeTrack(t)}),"function"==typeof e.release&&e.release())};class cD{constructor(e,t,i){this.call=e,this.state=t,this.trackType=i,this.stopOnLeave=!0,this.subscriptions=[],this.isTrackStoppedDueToTrackEnd=!1,this.removeSubscriptions=()=>{this.subscriptions.forEach(e=>e.unsubscribe())},this.logger=oF([`${P[i].toLowerCase()} manager`]),cN&&!oN()&&(this.trackType===P.AUDIO||this.trackType===P.VIDEO)&&this.handleDisconnectedOrReplacedDevices()}listDevices(){return this.getDevices()}async enable(){if("enabled"!==this.state.status){this.enablePromise=this.unmuteStream();try{await this.enablePromise,this.state.setStatus("enabled"),this.enablePromise=void 0}catch(e){throw this.enablePromise=void 0,e}}}async disable(e=!1){if(this.state.prevStatus=this.state.status,!e&&"disabled"===this.state.status)return;let t=e||"stop-tracks"===this.state.disableMode;this.disablePromise=this.muteStream(t);try{await this.disablePromise,this.state.setStatus("disabled"),this.disablePromise=void 0}catch(e){throw this.disablePromise=void 0,e}}async resume(){"enabled"===this.state.prevStatus&&"disabled"===this.state.status&&await this.enable()}async toggle(){return"enabled"===this.state.status?this.disable():this.enable()}setDefaultConstraints(e){this.state.setDefaultConstraints(e)}async select(e){if(oN())throw Error("This method is not supported in React Native");e!==this.state.selectedDevice&&(this.state.setDevice(e),await this.applySettingsToStream())}async applySettingsToStream(){"enabled"===this.state.status&&(await this.muteStream(),await this.unmuteStream())}getTracks(){return this.state.mediaStream?.getTracks()??[]}async muteStream(e=!0){this.state.mediaStream&&(this.logger("debug",`${e?"Stopping":"Disabling"} stream`),this.call.state.callingState===U.JOINED&&await this.stopPublishStream(e),this.muteLocalStream(e),this.getTracks().every(e=>"ended"===e.readyState)&&(this.state.mediaStream&&"function"==typeof this.state.mediaStream.release&&this.state.mediaStream.release(),this.state.setMediaStream(void 0)))}muteTracks(){this.getTracks().forEach(e=>{e.enabled&&(e.enabled=!1)})}unmuteTracks(){this.getTracks().forEach(e=>{e.enabled||(e.enabled=!0)})}stopTracks(){this.getTracks().forEach(e=>{"live"===e.readyState&&e.stop()})}muteLocalStream(e){this.state.mediaStream&&(e?this.stopTracks():this.muteTracks())}async unmuteStream(){let e;if(this.logger("debug","Starting stream"),this.state.mediaStream&&this.getTracks().every(e=>"live"===e.readyState))e=this.state.mediaStream,this.unmuteTracks();else{let t={...this.state.defaultConstraints,deviceId:this.state.selectedDevice};e=await this.getStream(t)}this.call.state.callingState===U.JOINED&&await this.publishStream(e),this.state.mediaStream!==e&&(this.state.setMediaStream(e),this.getTracks().forEach(e=>{e.addEventListener("ended",async()=>{this.enablePromise&&await this.enablePromise,this.disablePromise&&await this.disablePromise,"enabled"===this.state.status&&(this.isTrackStoppedDueToTrackEnd=!0,setTimeout(()=>{this.isTrackStoppedDueToTrackEnd=!1},2e3),await this.disable())})}))}get mediaDeviceKind(){return this.trackType===P.AUDIO?"audioinput":this.trackType===P.VIDEO?"videoinput":""}handleDisconnectedOrReplacedDevices(){this.subscriptions.push(an([cN.pipe(r2(function(e,t){var i,n=!1;e.subscribe(r3(t,function(e){var r=i;i=e,n&&t.next([r,e]),n=!0}))})),this.state.selectedDevice$]).subscribe(async([[e,t],i])=>{if(!i)return;this.enablePromise&&await this.enablePromise,this.disablePromise&&await this.disablePromise;let n=!1,r=!1,a=this.findDeviceInList(t,i),s=this.findDeviceInList(e,i);!a&&s?n=!0:a&&s&&a.deviceId===s.deviceId&&a.groupId!==s.groupId&&(r=!0),n&&(await this.disable(),this.select(void 0)),r&&(this.isTrackStoppedDueToTrackEnd&&"disabled"===this.state.status?(await this.enable(),this.isTrackStoppedDueToTrackEnd=!1):await this.applySettingsToStream())}))}findDeviceInList(e,t){return e.find(e=>e.deviceId===t&&e.kind===this.mediaDeviceKind)}}class cU{constructor(e="stop-tracks",t){this.disableMode=e,this.permissionName=t,this.statusSubject=new ar(void 0),this.mediaStreamSubject=new ar(void 0),this.selectedDeviceSubject=new ar(void 0),this.defaultConstraintsSubject=new ar(void 0),this.mediaStream$=this.mediaStreamSubject.asObservable(),this.selectedDevice$=this.selectedDeviceSubject.asObservable().pipe(ao()),this.status$=this.statusSubject.asObservable().pipe(ao()),this.defaultConstraints$=this.defaultConstraintsSubject.asObservable(),this.hasBrowserPermission$=new rN(e=>{let t;let i=()=>e.next(!0),n=!!navigator?.permissions?.query;if(oN()||!this.permissionName||!n)return oF(["devices"])("warn","Permissions can't be queried. Assuming granted."),i();let r=()=>e.next(cc()?"denied"!==t.state:"granted"===t.state);return navigator.permissions.query({name:this.permissionName}).then(e=>{(t=e).addEventListener("change",r),r()}).catch(()=>{i()}),()=>{t?.removeEventListener("change",r)}}).pipe(as(1)),this.getCurrentValue=o6,this.setCurrentValue=o8}get status(){return this.getCurrentValue(this.status$)}get selectedDevice(){return this.getCurrentValue(this.selectedDevice$)}get mediaStream(){return this.getCurrentValue(this.mediaStream$)}setStatus(e){this.setCurrentValue(this.statusSubject,e)}setMediaStream(e){this.setCurrentValue(this.mediaStreamSubject,e),e&&this.setDevice(this.getDeviceIdFromStream(e))}setDevice(e){this.setCurrentValue(this.selectedDeviceSubject,e)}get defaultConstraints(){return this.getCurrentValue(this.defaultConstraints$)}setDefaultConstraints(e){this.setCurrentValue(this.defaultConstraintsSubject,e)}}class cq extends cU{constructor(){super("stop-tracks","camera"),this.directionSubject=new ar(void 0),this.direction$=this.directionSubject.asObservable().pipe(ao())}get direction(){return this.getCurrentValue(this.direction$)}setDirection(e){this.setCurrentValue(this.directionSubject,e)}setMediaStream(e){if(super.setMediaStream(e),e){let t=oN()?this.direction:e.getVideoTracks()[0]?.getSettings().facingMode==="environment"?"back":"front";this.setDirection(t)}}getDeviceIdFromStream(e){return e.getVideoTracks()[0]?.getSettings().deviceId}}class cM extends cD{constructor(e){super(e,new cq,P.VIDEO),this.targetResolution={width:1280,height:720}}async selectDirection(e){this.state.setDirection(e),this.state.setDevice(void 0),await this.applySettingsToStream()}async flip(){let e="front"===this.state.direction?"back":"front";await this.selectDirection(e)}async selectTargetResolution(e){if(this.targetResolution.height=e.height,this.targetResolution.width=e.width,this.enablePromise)try{await this.enablePromise}catch(e){this.logger("warn","could not apply target resolution",e)}if("enabled"===this.state.status){let{width:e,height:t}=this.state.mediaStream.getVideoTracks()[0]?.getSettings();(e!==this.targetResolution.width||t!==this.targetResolution.height)&&(await this.applySettingsToStream(),this.logger("debug",`${e}x${t} target resolution applied to media stream`))}}setPreferredCodec(e){this.preferredCodec=e}getDevices(){return cC()}getStream(e){return e.width=this.targetResolution.width,e.height=this.targetResolution.height,!e.deviceId&&this.state.direction&&(e.facingMode="front"===this.state.direction?"user":"environment"),cO(e)}publishStream(e){return this.call.publishVideoStream(e,{preferredCodec:this.preferredCodec})}stopPublishStream(e){return this.call.stopPublish(P.VIDEO,e)}}class cF extends cU{constructor(){super("disable-tracks","microphone"),this.speakingWhileMutedSubject=new ar(!1),this.speakingWhileMuted$=this.speakingWhileMutedSubject.asObservable().pipe(ao())}get speakingWhileMuted(){return this.getCurrentValue(this.speakingWhileMuted$)}setSpeakingWhileMuted(e){this.setCurrentValue(this.speakingWhileMutedSubject,e)}getDeviceIdFromStream(e){return e.getAudioTracks()[0]?.getSettings().deviceId}}let c$=(e,t,i={})=>{let{detectionFrequencyInMs:n=500,audioLevelThreshold:r=150,fftSize:a=128,destroyStreamOnStop:s=!0}=i,o=new AudioContext,l=o.createAnalyser();l.fftSize=a;let c=o.createMediaStreamSource(e);c.connect(l);let u=setInterval(()=>{let i=new Uint8Array(l.frequencyBinCount);l.getByteFrequencyData(i);let n=i.some(e=>e>=r),a=i.reduce((e,t)=>e+t,0)/i.length;e.getAudioTracks()[0]?.enabled?t({isSoundDetected:n,audioLevel:a>r?100:Math.round(a/r*100)}):t({isSoundDetected:!1,audioLevel:0})},n);return async function(){clearInterval(u),c.disconnect(),l.disconnect(),await o.close(),s&&e.getTracks().forEach(t=>{t.stop(),e.removeTrack(t)})}},cB=e=>{let t=[];return e.forEach(e=>{t.push(e)}),t};class cK{constructor(){this.pc1=new RTCPeerConnection({}),this.pc2=new RTCPeerConnection({})}async start(){try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});this.pc1.addEventListener("icecandidate",async e=>{await this.pc2.addIceCandidate(e.candidate)}),this.pc2.addEventListener("icecandidate",async e=>{await this.pc1.addIceCandidate(e.candidate)}),e.getTracks().forEach(t=>this.pc1.addTrack(t,e));let t=await this.pc1.createOffer({});await this.pc2.setRemoteDescription(t),await this.pc1.setLocalDescription(t);let i=await this.pc2.createAnswer();await this.pc1.setRemoteDescription(i),await this.pc2.setLocalDescription(i),e.getAudioTracks().forEach(e=>e.enabled=!1)}catch(e){console.error("Error connecting and negotiating between PeerConnections:",e)}}stop(){this.pc1.close(),this.pc2.close(),this.intervalId&&clearInterval(this.intervalId)}onSpeakingDetectedStateChange(e){return this.intervalId=setInterval(async()=>{let t=cB(await this.pc1.getStats()).find(e=>"media-source"===e.type&&"audio"===e.kind);if(t){let{audioLevel:i}=t;i&&(i>=.2?e({isSoundDetected:!0,audioLevel:i}):e({isSoundDetected:!1,audioLevel:0}))}},1e3),()=>{clearInterval(this.intervalId)}}}class cz extends cD{constructor(e){super(e,new cF,P.AUDIO),an([this.call.state.callingState$,this.call.state.ownCapabilities$,this.state.selectedDevice$,this.state.status$]).subscribe(async([e,t,i,n])=>{if(e!==U.JOINED){e===U.LEFT&&await this.stopSpeakingWhileMutedDetection();return}t.includes(aE.SEND_AUDIO)&&"disabled"===n?await this.startSpeakingWhileMutedDetection(i):await this.stopSpeakingWhileMutedDetection()})}getDevices(){return cT()}getStream(e){return cI(e)}publishStream(e){return this.call.publishAudioStream(e)}stopPublishStream(e){return this.call.stopPublish(P.AUDIO,e)}async startSpeakingWhileMutedDetection(e){if(await this.stopSpeakingWhileMutedDetection(),oN()){this.rnSpeechDetector=new cK,await this.rnSpeechDetector.start();let e=this.rnSpeechDetector?.onSpeakingDetectedStateChange(e=>{this.state.setSpeakingWhileMuted(e.isSoundDetected)});this.soundDetectorCleanup=()=>{e(),this.rnSpeechDetector?.stop(),this.rnSpeechDetector=void 0}}else{let t=await this.getStream({deviceId:e});this.soundDetectorCleanup=c$(t,e=>{this.state.setSpeakingWhileMuted(e.isSoundDetected)})}}async stopSpeakingWhileMutedDetection(){if(this.soundDetectorCleanup){this.state.setSpeakingWhileMuted(!1);try{await this.soundDetectorCleanup()}finally{this.soundDetectorCleanup=void 0}}}}class cV extends cU{constructor(){super(...arguments),this.audioEnabledSubject=new ar(!0),this.settingsSubject=new ar(void 0),this.audioEnabled$=this.audioEnabledSubject.asObservable().pipe(ao()),this.settings$=this.settingsSubject.asObservable(),this.getDeviceIdFromStream=e=>{let[t]=e.getTracks();return t?.getSettings().deviceId}}get audioEnabled(){return this.getCurrentValue(this.audioEnabled$)}setAudioEnabled(e){this.setCurrentValue(this.audioEnabledSubject,e)}get settings(){return this.getCurrentValue(this.settings$)}setSettings(e){this.setCurrentValue(this.settingsSubject,e)}}class cW extends cD{constructor(e){super(e,new cV,P.SCREEN_SHARE)}enableScreenShareAudio(){this.state.setAudioEnabled(!0)}async disableScreenShareAudio(){this.state.setAudioEnabled(!1),this.call.publisher?.isPublishing(P.SCREEN_SHARE_AUDIO)&&await this.call.stopPublish(P.SCREEN_SHARE_AUDIO,!0)}getSettings(){return this.state.settings}setSettings(e){this.state.setSettings(e)}getDevices(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=ai(e);return r9(e,i)}([])}getStream(e){return this.state.audioEnabled||(e.audio=!1),cj(e)}publishStream(e){return this.call.publishScreenShareStream(e,{screenShareSettings:this.state.settings})}async stopPublishStream(e){await this.call.stopPublish(P.SCREEN_SHARE,e),await this.call.stopPublish(P.SCREEN_SHARE_AUDIO,e)}async select(e){throw Error("This method is not supported in for Screen Share")}}class cH{constructor(){this.selectedDeviceSubject=new ar(""),this.volumeSubject=new ar(1),this.isDeviceSelectionSupported=cb(),this.getCurrentValue=o6,this.setCurrentValue=o8,this.selectedDevice$=this.selectedDeviceSubject.asObservable().pipe(ao()),this.volume$=this.volumeSubject.asObservable().pipe(ao())}get selectedDevice(){return this.getCurrentValue(this.selectedDevice$)}get volume(){return this.getCurrentValue(this.volume$)}setDevice(e){this.setCurrentValue(this.selectedDeviceSubject,e)}setVolume(e){this.setCurrentValue(this.volumeSubject,e)}}class cG{constructor(){this.state=new cH,this.subscriptions=[],this.removeSubscriptions=()=>{this.subscriptions.forEach(e=>e.unsubscribe())},cN&&!oN()&&this.subscriptions.push(an([cN,this.state.selectedDevice$]).subscribe(([e,t])=>{t&&(e.find(e=>e.deviceId===t&&"audiooutput"===e.kind)||this.select(""))}))}listDevices(){return cP()}select(e){if(oN())throw Error("This feature is not supported in React Native");this.state.setDevice(e)}setVolume(e){if(oN())throw Error("This feature is not supported in React Native");if(e&&(e<0||e>1))throw Error("Volume must be between 0 and 1");this.state.setVolume(e)}}class cJ{constructor({type:e,id:t,streamClient:i,members:n,ownCapabilities:r,sortParticipantsBy:a,clientStore:s,ringing:o=!1,watching:l=!1}){var c;this.state=new lw,this.dynascaleManager=new cp(this),this.permissionsContext=new cf,this.dispatcher=new oV,this.trackSubscriptionsSubject=new ar({type:D.MEDIUM,data:[]}),this.reconnectAttempts=0,this.maxReconnectAttempts=10,this.leaveCallHooks=new Set,this.streamClientEventHandlers=new Map,this.on=(e,t)=>{if(oz(e))return this.dispatcher.on(e,t);let i=this.streamClient.on(e,e=>{e.call_cid&&e.call_cid===this.cid&&t(e)});return this.streamClientEventHandlers.set(t,i),()=>{this.off(e,t)}},this.off=(e,t)=>{if(oz(e))return this.dispatcher.off(e,t);let i=this.streamClientEventHandlers.get(t);i&&i()},this.leave=async({reject:e=!1}={})=>{let t=this.state.callingState;if(t===U.LEFT)throw Error("Cannot leave call that has already been left.");if(t===U.JOINING&&await this.assertCallJoined(),this.ringing){let i=this.state.remoteParticipants.length>0;this.isCreatedByMe&&!i?await this.reject():e&&t===U.RINGING&&await this.reject()}this.statsReporter?.stop(),this.statsReporter=void 0,this.subscriber?.close(),this.subscriber=void 0,this.publisher?.close(),this.publisher=void 0,this.sfuClient?.close(),this.sfuClient=void 0,this.dispatcher.offAll(),this.state.setCallingState(U.LEFT),this.leaveCallHooks.forEach(e=>e()),this.clientStore.unregisterCall(this),this.camera.removeSubscriptions(),this.microphone.removeSubscriptions(),this.screenShare.removeSubscriptions(),this.speaker.removeSubscriptions();let i=[];this.camera.stopOnLeave&&i.push(this.camera.disable(!0)),this.microphone.stopOnLeave&&i.push(this.microphone.disable(!0)),this.screenShare.stopOnLeave&&i.push(this.screenShare.disable(!0)),await Promise.all(i)},this.get=async e=>{let t=await this.streamClient.get(this.streamClientBasePath,e);return e?.ring&&!this.ringing&&this.ringingSubject.next(!0),this.state.updateFromCallResponse(t.call),this.state.setMembers(t.members),this.state.setOwnCapabilities(t.own_capabilities),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),this.applyDeviceConfig(),t},this.getOrCreate=async e=>{let t=await this.streamClient.post(this.streamClientBasePath,e);return e?.ring&&!this.ringing&&this.ringingSubject.next(!0),this.state.updateFromCallResponse(t.call),this.state.setMembers(t.members),this.state.setOwnCapabilities(t.own_capabilities),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),this.applyDeviceConfig(),t},this.create=async e=>this.getOrCreate(e),this.ring=async()=>await this.get({ring:!0}),this.notify=async()=>await this.get({notify:!0}),this.accept=async()=>this.streamClient.post(`${this.streamClientBasePath}/accept`),this.reject=async()=>this.streamClient.post(`${this.streamClientBasePath}/reject`),this.join=async e=>{let t,i,n;let r=this.state.callingState;if([U.JOINED,U.JOINING].includes(r))throw this.logger("warn","Join method called twice, you should only call this once"),Error("Illegal State: Already joined.");if(r===U.LEFT)throw Error("Illegal State: Cannot join already left call. Create a new Call instance to join a call.");let a=r===U.MIGRATING,s=r===U.RECONNECTING;this.state.setCallingState(U.JOINING),this.logger("debug","Starting join flow"),e?.ring&&!this.ringing&&this.ringingSubject.next(!0),this.ringing&&!this.isCreatedByMe&&await this.accept();try{if(this.sfuClient?.isFastReconnecting)n=this.publisher?.connectionConfiguration,t=this.sfuClient.sfuServer,i=this.sfuClient.token;else{let r=await ct(this.streamClient,this.type,this.id,e);this.state.updateFromCallResponse(r.metadata),this.state.setMembers(r.members),this.state.setOwnCapabilities(r.ownCapabilities),n=r.connectionConfig,t=r.sfuServer,i=r.token}this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this))}catch(e){throw this.state.setCallingState(r),e}let o=this.sfuClient,l=this.sfuClient=new lB({dispatcher:this.dispatcher,sfuServer:t,token:i,sessionId:o?.sessionId}),c=async(i="full")=>{let n=this.state.callingState;if(n===U.MIGRATING||n===U.RECONNECTING)return;this.reconnectAttempts++,this.state.setCallingState("migrate"===i?U.MIGRATING:U.RECONNECTING),"migrate"===i?(this.logger("debug",`[Migration]: migrating call ${this.cid} away from ${t.edge_name}`),l.isMigratingAway=!0):this.logger("debug",`[Rejoin]: ${i} rejoin call ${this.cid} (${this.reconnectAttempts})...`);let r=this.state.localParticipant;if("fast"===i?l.close(lB.ERROR_CONNECTION_BROKEN,"js-client: attempting fast reconnect"):"full"===i&&(await lL(lq(this.reconnectAttempts)),this.subscriber?.close(),this.subscriber=void 0,this.publisher?.close({stopTracks:!1}),this.publisher=void 0,this.statsReporter?.stop(),this.statsReporter=void 0,l.close(lB.NORMAL_CLOSURE,"js-client: attempting full reconnect")),await this.join({...e,..."migrate"===i&&{migrating_from:t.edge_name}}),"migrate"===i&&l.close(lB.NORMAL_CLOSURE,"js-client: attempting migration"),this.logger("info",`[Rejoin]: Attempt ${this.reconnectAttempts} successful!`),r&&"full"===i){let e;let{audioStream:t,videoStream:i,screenShareStream:n,screenShareAudioStream:a}=r;(n||a)&&(e=new MediaStream,n?.getVideoTracks().forEach(t=>{e?.addTrack(t)}),a?.getAudioTracks().forEach(t=>{e?.addTrack(t)})),t&&await this.publishAudioStream(t),i&&await this.publishVideoStream(i,{preferredCodec:this.camera.preferredCodec}),e&&await this.publishScreenShareStream(e),this.logger("info",`[Rejoin]: State restored. Attempt: ${this.reconnectAttempts}`)}};l.signalReady.then(()=>{let e=this.dispatcher.on("goAway",e=>{let{reason:t}=e;this.logger("info",`[Migration]: Going away from SFU... Reason: ${j[t]}`),c("migrate").catch(e=>{this.logger("warn","[Migration]: Failed to migrate to another SFU.",e)})});l.signalWs.addEventListener("close",t=>{if(e(),t.code===lB.NORMAL_CLOSURE||t.code===lU.WS_POLICY_VIOLATION)return;let i=t.code===lU.WS_CLOSED_ABRUPTLY&&l.isMigratingAway,n=t.code===lU.WS_CLOSED_ABRUPTLY&&l.isFastReconnecting;if(!i&&!n&&t.code!==lB.ERROR_CONNECTION_BROKEN){if(this.reconnectAttempts<this.maxReconnectAttempts){l.isFastReconnecting=0===this.reconnectAttempts;let e=l.isFastReconnecting?"fast":"full";c(e).catch(t=>{this.logger("error",`[Rejoin]: ${e} rejoin failed for ${this.reconnectAttempts} times. Giving up.`,t),this.state.setCallingState(U.RECONNECTING_FAILED)})}else this.logger("error","[Rejoin]: Reconnect attempts exceeded. Giving up..."),this.state.setCallingState(U.RECONNECTING_FAILED)}})});let u=this.streamClient.on("connection.changed",async e=>{if("connection.changed"!==e.type||!e.online)return;u();let t=this.state.callingState;if(!(t===U.OFFLINE||t===U.RECONNECTING_FAILED))return;this.logger("info","[Rejoin]: Going online...");let i=!0;do{try{l.isFastReconnecting=i,await c(i?"fast":"full");return}catch(e){this.logger("error",`[Rejoin][Network]: Rejoin failed for attempt ${this.reconnectAttempts}`,e)}await lL(lq(this.reconnectAttempts)),i=!1}while(this.reconnectAttempts<this.maxReconnectAttempts);this.logger("error","[Rejoin][Network]: Rejoin failed. Giving up."),this.state.setCallingState(U.RECONNECTING_FAILED)}),d=this.streamClient.on("connection.changed",e=>{"connection.changed"===e.type&&(e.online||(d(),this.state.setCallingState(U.OFFLINE)))});this.leaveCallHooks.add(()=>{u(),d()}),this.subscriber||(this.subscriber=new lj({sfuClient:l,dispatcher:this.dispatcher,state:this.state,connectionConfig:n}));let h=this.state.settings?.audio,p=!!h?.opus_dtx_enabled,f=!!h?.redundant_coding_enabled;this.publisher||(this.publisher=new lI({sfuClient:l,dispatcher:this.dispatcher,state:this.state,connectionConfig:n,isDtxEnabled:p,isRedEnabled:f})),this.statsReporter||(this.statsReporter=cr({subscriber:this.subscriber,publisher:this.publisher,state:this.state}));try{l.signalReady.catch(e=>this.logger("error","Signal ready failed",e)).then(()=>oB("recvonly")).then(t=>{let i=o6(this.trackSubscriptionsSubject),n=a?{fromSfuId:e?.migrating_from||"",subscriptions:i.data||[],announcedTracks:this.publisher?.getCurrentTrackInfos()||[]}:void 0;return l.join({subscriberSdp:t||"",clientDetails:oX(),migration:n,fastReconnect:o?.isFastReconnecting??!1})});let{callState:t,reconnected:i}=await this.waitForJoinResponse();if(s&&this.logger("debug","[Rejoin] fast reconnected:",i),a)await this.subscriber.migrateTo(l,n),await this.publisher.migrateTo(l,n);else if(s){if(i)this.subscriber.setSfuClient(l),this.publisher.setSfuClient(l),await this.publisher.restartIce();else if(o?.isFastReconnecting)return await c("full").catch(e=>{this.logger("error","[Rejoin]: Rejoin failed forced full rejoin.",e)})}let r=t?.participants||[],u=t?.participantCount,d=t?.startedAt?aL.toDate(t.startedAt):new Date,h=t?.pins??[];this.state.setParticipants(()=>{let e=this.state.getParticipantLookupBySessionId();return r.map(t=>{let i=e[t.sessionId];return Object.assign(t,i,{isLocalParticipant:t.sessionId===l.sessionId,viewportVisibilityState:i?.viewportVisibilityState??{videoTrack:L.UNKNOWN,screenShareTrack:L.UNKNOWN}})})}),this.state.setParticipantCount(u?.total||0),this.state.setAnonymousParticipantCount(u?.anonymous||0),this.state.setStartedAt(d),this.state.setServerSidePins(h),this.reconnectAttempts=0,this.state.setCallingState(U.JOINED);try{await this.initCamera({setStatus:!0}),await this.initMic({setStatus:!0})}catch(e){this.logger("warn","Camera and/or mic init failed during join call",e)}let{remoteParticipants:p}=this.state;p.length>0&&this.updateSubscriptions(p,D.FAST),this.logger("info",`Joined call ${this.cid}`)}catch(e){if(this.reconnectAttempts<this.maxReconnectAttempts)this.logger("error",`[Rejoin]: Rejoin ${this.reconnectAttempts} failed.`,e),await c(),this.logger("info",`[Rejoin]: Rejoin ${this.reconnectAttempts} successful!`);else throw this.logger("error",`[Rejoin]: Rejoin failed for ${this.reconnectAttempts} times. Giving up.`),this.state.setCallingState(U.RECONNECTING_FAILED),Error("Join failed")}},this.waitForJoinResponse=(e=5e3)=>new Promise((t,i)=>{let n=this.on("joinResponse",e=>{clearTimeout(r),n(),t(e)}),r=setTimeout(()=>{n(),i(Error('Waiting for "joinResponse" has timed out'))},e)}),this.publishVideoStream=async(e,t={})=>{if(await this.assertCallJoined(),!this.publisher)throw this.logger("error","Trying to publish video before join is completed"),Error("Call not joined yet.");let[i]=e.getVideoTracks();if(!i){this.logger("error","There is no video track to publish in the stream.");return}await this.publisher.publishStream(e,i,P.VIDEO,t)},this.publishAudioStream=async e=>{if(await this.assertCallJoined(),!this.publisher)throw this.logger("error","Trying to publish audio before join is completed"),Error("Call not joined yet.");let[t]=e.getAudioTracks();if(!t){this.logger("error","There is no audio track in the stream to publish");return}await this.publisher.publishStream(e,t,P.AUDIO)},this.publishScreenShareStream=async(e,t={})=>{if(await this.assertCallJoined(),!this.publisher)throw this.logger("error","Trying to publish screen share before join is completed"),Error("Call not joined yet.");let[i]=e.getVideoTracks();if(!i){this.logger("error","There is no video track in the screen share stream to publish");return}await this.publisher.publishStream(e,i,P.SCREEN_SHARE,t);let[n]=e.getAudioTracks();n&&await this.publisher.publishStream(e,n,P.SCREEN_SHARE_AUDIO,t)},this.stopPublish=async(e,t=!0)=>{this.logger("info",`stopPublish ${P[e]}, stop tracks: ${t}`),await this.publisher?.unpublishStream(e,t)},this.updateSubscriptionsPartial=(e,t,i=D.SLOW)=>{"video"===e?(this.logger("warn",`updateSubscriptionsPartial: ${e} is deprecated. Please switch to 'videoTrack'`),e="videoTrack"):"screen"===e&&(this.logger("warn",`updateSubscriptionsPartial: ${e} is deprecated. Please switch to 'screenShareTrack'`),e="screenShareTrack");let n=this.state.updateParticipants(Object.entries(t).reduce((t,[i,n])=>{n.dimension?.height&&(n.dimension.height=Math.ceil(n.dimension.height)),n.dimension?.width&&(n.dimension.width=Math.ceil(n.dimension.width));let r="videoTrack"===e?"videoDimension":"screenShareTrack"===e?"screenShareDimension":void 0;return r&&(t[i]={[r]:n.dimension}),t},{}));n&&this.updateSubscriptions(n,i)},this.updateSubscriptions=(e,t=D.SLOW)=>{let i=[];for(let t of e)!t.isLocalParticipant&&(t.videoDimension&&t.publishedTracks.includes(P.VIDEO)&&i.push({userId:t.userId,sessionId:t.sessionId,trackType:P.VIDEO,dimension:t.videoDimension}),t.screenShareDimension&&t.publishedTracks.includes(P.SCREEN_SHARE)&&i.push({userId:t.userId,sessionId:t.sessionId,trackType:P.SCREEN_SHARE,dimension:t.screenShareDimension}),t.publishedTracks.includes(P.SCREEN_SHARE_AUDIO)&&i.push({userId:t.userId,sessionId:t.sessionId,trackType:P.SCREEN_SHARE_AUDIO}));this.trackSubscriptionsSubject.next({type:t,data:i})},this.startReportingStatsFor=e=>this.statsReporter?.startReportingStatsFor(e),this.stopReportingStatsFor=e=>this.statsReporter?.stopReportingStatsFor(e),this.resetReaction=e=>{this.state.updateParticipant(e,{reaction:void 0})},this.setSortParticipantsBy=e=>this.state.setSortParticipantsBy(e),this.updatePublishQuality=async e=>this.publisher?.updateVideoPublishQuality(e),this.assertCallJoined=()=>new Promise(e=>{var t;this.state.callingState$.pipe(ac(e=>e!==U.JOINED,!0),(t=e=>e===U.JOINED,r2(function(e,i){var n=0;e.subscribe(r3(i,function(e){return t.call(void 0,e,n++)&&i.next(e)}))}))).subscribe(()=>e())}),this.sendReaction=async e=>this.streamClient.post(`${this.streamClientBasePath}/reaction`,e),this.blockUser=async e=>this.streamClient.post(`${this.streamClientBasePath}/block`,{user_id:e}),this.unblockUser=async e=>this.streamClient.post(`${this.streamClientBasePath}/unblock`,{user_id:e}),this.muteSelf=e=>{let t=this.currentUserId;if(t)return this.muteUser(t,e)},this.muteOthers=e=>{let t=o4(e);if(!t)return;let i=[];for(let e of this.state.remoteParticipants)e.publishedTracks.includes(t)&&i.push(e.userId);return this.muteUser(i,e)},this.muteUser=(e,t)=>this.streamClient.post(`${this.streamClientBasePath}/mute_users`,{user_ids:Array.isArray(e)?e:[e],[t]:!0}),this.muteAllUsers=e=>this.streamClient.post(`${this.streamClientBasePath}/mute_users`,{mute_all_users:!0,[e]:!0}),this.startRecording=async e=>this.streamClient.post(`${this.streamClientBasePath}/start_recording`,e||{}),this.stopRecording=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_recording`,{}),this.requestPermissions=async e=>{let{permissions:t}=e;if(!t.every(e=>this.permissionsContext.canRequest(e)))throw Error(`You are not allowed to request permissions: ${t.join(", ")}`);return this.streamClient.post(`${this.streamClientBasePath}/request_permission`,e)},this.grantPermissions=async(e,t)=>this.updateUserPermissions({user_id:e,grant_permissions:t}),this.revokePermissions=async(e,t)=>this.updateUserPermissions({user_id:e,revoke_permissions:t}),this.updateUserPermissions=async e=>this.streamClient.post(`${this.streamClientBasePath}/user_permissions`,e),this.goLive=async(e={},t)=>this.streamClient.post(`${this.streamClientBasePath}/go_live`,e,t),this.stopLive=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_live`,{}),this.startHLS=async()=>this.streamClient.post(`${this.streamClientBasePath}/start_broadcasting`,{}),this.stopHLS=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_broadcasting`,{}),this.update=async e=>{let t=await this.streamClient.patch(`${this.streamClientBasePath}`,e),{call:i,members:n,own_capabilities:r}=t;return this.state.updateFromCallResponse(i),this.state.setMembers(n),this.state.setOwnCapabilities(r),t},this.endCall=async()=>this.streamClient.post(`${this.streamClientBasePath}/mark_ended`),this.pin=e=>{this.state.updateParticipant(e,{pin:{isLocalPin:!0,pinnedAt:Date.now()}})},this.unpin=e=>{this.state.updateParticipant(e,{pin:void 0})},this.pinForEveryone=async e=>this.streamClient.post(`${this.streamClientBasePath}/pin`,e),this.unpinForEveryone=async e=>this.streamClient.post(`${this.streamClientBasePath}/unpin`,e),this.queryMembers=e=>this.streamClient.post("/call/members",{...e||{},id:this.id,type:this.type}),this.updateCallMembers=async e=>this.streamClient.post(`${this.streamClientBasePath}/members`,e),this.scheduleAutoDrop=()=>{clearTimeout(this.dropTimeout),this.leaveCallHooks.add(o9(this.state.settings$,e=>{if(!e||this.state.callingState!==U.RINGING)return;let t=e.ring.auto_cancel_timeout_ms;t<=0||(clearTimeout(this.dropTimeout),this.dropTimeout=setTimeout(()=>{this.leave().catch(e=>{this.logger("error","Failed to drop call",e)})},t))}))},this.queryRecordings=async e=>{let t=this.streamClientBasePath;return e&&(t=`${t}/${e}`),this.streamClient.get(`${t}/recordings`)},this.sendCustomEvent=async e=>this.streamClient.post(`${this.streamClientBasePath}/event`,{custom:e}),this.applyDeviceConfig=()=>{this.initCamera({setStatus:!1}),this.initMic({setStatus:!1})},this.trackElementVisibility=(e,t,i)=>this.dynascaleManager.trackElementVisibility(e,t,i),this.setViewport=e=>this.dynascaleManager.setViewport(e),this.bindVideoElement=(e,t,i)=>{let n=this.dynascaleManager.bindVideoElement(e,t,i);if(n)return this.leaveCallHooks.add(n),()=>{this.leaveCallHooks.delete(n),n()}},this.bindAudioElement=(e,t,i="audioTrack")=>{let n=this.dynascaleManager.bindAudioElement(e,t,i);if(n)return this.leaveCallHooks.add(n),()=>{this.leaveCallHooks.delete(n),n()}},this.bindCallThumbnailElement=(e,t={})=>{let i=()=>{e.src=t.fallbackImageSource||"https://getstream.io/random_svg/?name=x&id=x"},n=o9(this.state.thumbnails$,t=>{if(!t)return;e.addEventListener("error",i);let n=new URL(t.image_url);n.searchParams.set("w",String(e.clientWidth)),n.searchParams.set("h",String(e.clientHeight)),e.src=n.toString()});return()=>{n(),e.removeEventListener("error",i)}},this.type=e,this.id=t,this.cid=`${e}:${t}`,this.ringingSubject=new ar(o),this.watching=l,this.streamClient=i,this.clientStore=s,this.streamClientBasePath=`/call/${this.type}/${this.id}`,this.logger=oF(["Call"]);let u=cy.get(e),d=a||u.options.sortParticipantsBy;d&&this.state.setSortParticipantsBy(d),this.state.setMembers(n||[]),this.state.setOwnCapabilities(r||[]),this.state.setCallingState(o?U.RINGING:U.IDLE),this.on("all",e=>{this.state.updateFromEvent(e)}),this.leaveCallHooks.add(l7(this,this.state,this.dispatcher)),this.registerEffects(),this.leaveCallHooks.add(o9(this.trackSubscriptionsSubject.pipe((c=e=>(function(e,t,i){return void 0===e&&(e=0),void 0===i&&(i=am),new rN(function(t){var n,r=(n=e)instanceof Date&&!isNaN(n)?+e-i.now():e;r<0&&(r=0);var a=0;return i.schedule(function(){t.closed||(t.next(a++),t.complete())},r)})})(e.type),r2(function(e,t){var i=!1,n=null,r=null,a=function(){if(null==r||r.unsubscribe(),r=null,i){i=!1;var e=n;n=null,t.next(e)}};e.subscribe(r3(t,function(e){null==r||r.unsubscribe(),i=!0,n=e,r=r3(t,a,rb),rZ(c(e)).subscribe(r)},function(){a(),t.complete()},void 0,function(){n=r=null}))})),r7(e=>e.data)),e=>this.sfuClient?.updateSubscriptions(e))),this.camera=new cM(this),this.microphone=new cz(this),this.speaker=new cG,this.screenShare=new cW(this)}registerEffects(){this.leaveCallHooks.add(o9(this.state.settings$,e=>{e&&this.permissionsContext.setCallSettings(e)})),this.leaveCallHooks.add(o9(this.state.ownCapabilities$,e=>{if(this.permissionsContext.setPermissions(e),this.publisher)for(let[e,t]of Object.entries({[aE.SEND_AUDIO]:P.AUDIO,[aE.SEND_VIDEO]:P.VIDEO,[aE.SCREENSHARE]:P.SCREEN_SHARE}))!this.permissionsContext.hasPermission(e)&&(this.publisher.isPublishing(t)||this.publisher.isLive(t))&&this.stopPublish(t).catch(e=>{this.logger("error",`Error stopping publish ${t}`,e)}).then(()=>{t===P.VIDEO&&"enabled"===this.camera.state.status&&this.camera.disable().catch(e=>this.logger("error","Error disabling camera after permission revoked",e)),t===P.AUDIO&&"enabled"===this.microphone.state.status&&this.microphone.disable().catch(e=>this.logger("error","Error disabling microphone after permission revoked",e))})})),this.leaveCallHooks.add(o9(this.state.blockedUserIds$,async e=>{if(!e||0===e.length)return;let t=this.currentUserId;t&&e.includes(t)&&(this.logger("info","Leaving call because of being blocked"),await this.leave())})),this.leaveCallHooks.add(o9(this.state.callingState$,e=>{this.ringing&&(e===U.JOINED||e===U.JOINING||e===U.LEFT)&&(clearTimeout(this.dropTimeout),this.dropTimeout=void 0)})),this.leaveCallHooks.add(o9(this.ringingSubject,e=>{e&&(this.scheduleAutoDrop(),this.state.callingState===U.IDLE&&this.state.setCallingState(U.RINGING),this.leaveCallHooks.add(ce(this)))}))}get ringing(){return o6(this.ringingSubject)}get currentUserId(){return this.clientStore.connectedUser?.id}get isCreatedByMe(){return this.state.createdBy?.id===this.currentUserId}async initCamera(e){if(this.camera.enablePromise&&await this.camera.enablePromise,this.camera.disablePromise&&await this.camera.disablePromise,this.state.localParticipant?.videoStream||!this.permissionsContext.hasPermission("send-video"))return;if(!this.camera.state.direction&&!this.camera.state.selectedDevice){let e="front",t=this.state.settings?.video.camera_facing;t&&(e="front"===t?"front":"back"),this.camera.state.setDirection(e)}let t=this.state.settings?.video.target_resolution;t&&await this.camera.selectTargetResolution(t),e.setStatus&&("enabled"===this.camera.state.status&&this.camera.state.mediaStream&&!this.publisher?.isPublishing(P.VIDEO)&&await this.publishVideoStream(this.camera.state.mediaStream,{preferredCodec:this.camera.preferredCodec}),void 0===this.camera.state.status&&this.state.settings?.video.camera_default_on&&await this.camera.enable())}async initMic(e){this.microphone.enablePromise&&await this.microphone.enablePromise,this.microphone.disablePromise&&await this.microphone.disablePromise,!this.state.localParticipant?.audioStream&&this.permissionsContext.hasPermission("send-audio")&&e.setStatus&&("enabled"===this.microphone.state.status&&this.microphone.state.mediaStream&&!this.publisher?.isPublishing(P.AUDIO)&&await this.publishAudioStream(this.microphone.state.mediaStream),void 0===this.microphone.state.status&&this.state.settings?.audio.mic_default_on&&await this.microphone.enable())}}class cY{constructor(){this.connectionStartTimestamp=null,this.wsTotalFailures=0,this.wsConsecutiveFailures=0,this.instanceClientId=lF()}}let cX=async(e,t)=>{for(let i=0;i<3;i++){try{await nJ.post(`https://chat-insights.getstream.io/insights/${e}`,t)}catch(e){await lL((i+1)*3e3);continue}break}};function cQ(e){let{client:t}=e;return{ready_state:e.ws?.readyState,url:e._buildUrl(),api_key:t.key,start_ts:t.insightMetrics.connectionStartTimestamp,end_ts:new Date().getTime(),auth_type:t.getAuthType(),token:t.tokenManager.token,user_id:t.userID,user_details:t._user,device:"browser",client_id:e.connectionID,ws_details:e.ws,ws_consecutive_failures:t.insightMetrics.wsConsecutiveFailures,ws_total_failures:t.insightMetrics.wsTotalFailures,request_id:e.requestID,online:"undefined"!=typeof navigator?navigator?.onLine:null,user_agent:"undefined"!=typeof navigator?navigator?.userAgent:null,instance_client_id:t.insightMetrics.instanceClientId}}let cZ=e=>void 0!==e.code,c0=e=>void 0!==e.error;class c1{constructor(e){this._log=(e,t={},i="info")=>{this.client.logger(i,"connection:"+e,{...t})},this.setClient=e=>{this.client=e},this._buildUrl=()=>{let e=new URLSearchParams;return e.set("api_key",this.client.key),e.set("stream-auth-type",this.client.getAuthType()),e.set("X-Stream-Client",this.client.getUserAgent()),`${this.client.wsBaseURL}/connect?${e.toString()}`},this.onlineStatusChanged=e=>{"offline"===e.type?(this._log("onlineStatusChanged() - Status changing to offline"),this._setHealth(!1,!0)):"online"!==e.type||(this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`),this.isHealthy||this._reconnect({interval:10}))},this.onopen=e=>{if(this.wsID!==e)return;let t=this.client.user;if(!t){this.client.logger("error","User not set, can't connect to WS");return}let i=this.client._getToken();if(!i){this.client.logger("error","Token not set, can't connect authenticate");return}let n={token:i,user_details:{id:t.id,name:t.name,image:t.image,custom:t.custom}};this.authenticationSent=!0,this.ws?.send(JSON.stringify(n)),this._log("onopen() - onopen callback",{wsID:e})},this.onmessage=(e,t)=>{if(this.wsID!==e)return;this._log("onmessage() - onmessage callback",{event:t,wsID:e});let i="string"==typeof t.data?JSON.parse(t.data):null;if(!this.isResolved&&i&&"connection.error"===i.type&&(this.isResolved=!0,i.error)){this.rejectPromise?.(this._errorFromWSEvent(i,!1));return}if(this.lastEvent=new Date,i&&("health.check"===i.type||"connection.ok"===i.type)&&this.scheduleNextPing(),i&&"connection.ok"===i.type&&(this.resolvePromise?.(i),this._setHealth(!0)),i&&"connection.error"===i.type&&i.error){let{code:e}=i.error;this.isHealthy=!1,this.isConnecting=!1,this.consecutiveFailures+=1,e!==lU.TOKEN_EXPIRED||this.client.tokenManager.isStatic()||(clearTimeout(this.connectionCheckTimeoutRef),this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0}))}i&&this.client.dispatchEvent(i),this.scheduleConnectionCheck()},this.onclose=(e,t)=>{if(this.wsID===e){if(this._log("onclose() - onclose callback - "+t.code,{event:t,wsID:e}),t.code===lU.WS_CLOSED_SUCCESS){let e=Error(`WS connection reject with error ${t.reason}`);e.reason=t.reason,e.code=t.code,e.wasClean=t.wasClean,e.target=t.target,this.rejectPromise?.(e),this._log(`onclose() - WS connection reject with error ${t.reason}`,{event:t})}else this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,this.rejectPromise?.(this._errorFromWSEvent(t)),this._log("onclose() - WS connection closed. Calling reconnect ...",{event:t}),this._reconnect()}},this.onerror=(e,t)=>{this.wsID===e&&(this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,this.rejectPromise?.(this._errorFromWSEvent(t)),this._log("onerror() - WS connection resulted into error",{event:t}),this._reconnect())},this._setHealth=(e,t=!1)=>{if(e!==this.isHealthy){if(this.isHealthy=e,this.isHealthy||t){this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy});return}setTimeout(()=>{this.isHealthy||this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy})},5e3)}},this._errorFromWSEvent=(e,t=!0)=>{let i,n,r;cZ(e)&&(i=e.code,n="unknown",r=e.reason),c0(e)&&(i=e.error.code,n=e.error.StatusCode,r=e.error.message),this._log(`_errorFromWSEvent() - WS failed with code ${i}`,{event:e},"warn");let a=Error(`WS failed with code ${i} and reason - ${r}`);return a.code=i,a.StatusCode=n,a.isWSFailure=t,a},this._setupConnectionPromise=()=>{this.isResolved=!1,this.connectionOpen=new Promise((e,t)=>{this.resolvePromise=e,this.rejectPromise=t})},this.scheduleNextPing=()=>{this.healthCheckTimeoutRef&&clearTimeout(this.healthCheckTimeoutRef),this.healthCheckTimeoutRef=setTimeout(()=>{let e=[{type:"health.check",client_id:this.client.clientID}];try{this.ws?.send(JSON.stringify(e))}catch(e){}},this.pingInterval)},this.scheduleConnectionCheck=()=>{this.connectionCheckTimeoutRef&&clearTimeout(this.connectionCheckTimeoutRef),this.connectionCheckTimeoutRef=setTimeout(()=>{let e=new Date;this.lastEvent&&e.getTime()-this.lastEvent.getTime()>this.connectionCheckTimeout&&(this._log("scheduleConnectionCheck - going to reconnect"),this._setHealth(!1),this._reconnect())},this.connectionCheckTimeout)},this.client=e,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.authenticationSent=!1,this.isDisconnected=!1,this.isResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25e3,this.connectionCheckTimeout=this.pingInterval+1e4,this.onlineStatusChanged}async connect(e=15e3){if(this.isConnecting)throw Error("You've called connect twice, can only attempt 1 connection at the time");this.isDisconnected=!1;try{let e=await this._connect();this.consecutiveFailures=0,this._log(`connect() - Established ws connection with healthcheck: ${e}`)}catch(e){if(this.isHealthy=!1,this.consecutiveFailures+=1,e.code!==lU.TOKEN_EXPIRED||this.client.tokenManager.isStatic()){if(!e.isWSFailure)throw Error(JSON.stringify({code:e.code,StatusCode:e.StatusCode,message:e.message,isWSFailure:e.isWSFailure}))}else this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0})}return await this._waitForHealthy(e)}async _waitForHealthy(e=15e3){return Promise.race([(async()=>{for(let t=0;t<=e;t+=50)try{return await this.connectionOpen}catch(i){if(t===e)throw Error(JSON.stringify({code:i.code,StatusCode:i.StatusCode,message:i.message,isWSFailure:i.isWSFailure}));await lL(50)}})(),(async()=>{throw await lL(e),this.isConnecting=!1,Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}))})()])}disconnect(e){let t;this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),this.onlineStatusChanged,this.isHealthy=!1,this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners();let{ws:i}=this;return i&&i.close&&i.readyState===i.OPEN?(t=new Promise(t=>{let n=e=>{this._log(`disconnect() - resolving isClosedPromise ${e?"with":"without"} close frame`,{event:e}),t()};i.onclose=n,setTimeout(n,null!=e?e:1e3)}),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),i.close(lU.WS_CLOSED_SUCCESS,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),t=Promise.resolve()),delete this.ws,t}async _connect(){if(this.isConnecting||this.isDisconnected&&this.client.options.enableWSFallback)return;this.isConnecting=!0,this.requestID=lF(),this.client.insightMetrics.connectionStartTimestamp=new Date().getTime();let e=!1;try{this._log("_connect() - waiting for token"),await this.client.tokenManager.tokenReady(),e=!0}catch(e){}try{e||(this._log("_connect() - tokenProvider failed before, so going to retry"),await this.client.tokenManager.loadToken()),this._setupConnectionPromise();let t=this._buildUrl();this._log(`_connect() - Connecting to ${t}`,{wsURL:t,requestID:this.requestID}),this.ws=new(ak())(t),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID);let i=await this.connectionOpen;if(this.isConnecting=!1,i)return this.connectionID=i.connection_id,this.client.resolveConnectionId?.(this.connectionID),this.client.insightMetrics.wsConsecutiveFailures>0&&this.client.options.enableInsights&&(cX("ws_success_after_failure",cQ(this)),this.client.insightMetrics.wsConsecutiveFailures=0),i}catch(e){if(this.isConnecting=!1,this._log("_connect() - Error - ",e),this.client.options.enableInsights){this.client.insightMetrics.wsConsecutiveFailures++,this.client.insightMetrics.wsTotalFailures++;let t={...function(e){let t={};if(!e)return t;try{Object.getOwnPropertyNames(e).forEach(i=>{t[i]=Object.getOwnPropertyDescriptor(e,i)})}catch(e){return{error:"failed to serialize the error"}}return t}(e),...cQ(this)};cX?.("ws_fatal",t)}throw this.client.rejectConnectionId?.(),e}}async _reconnect(e={}){if(this._log("_reconnect() - Initiating the reconnect"),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (1) since already connecting or healthy");return}let t=e.interval;if(t||(t=lq(this.consecutiveFailures)),await lL(t),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (2) since already connecting or healthy");return}if(this.isDisconnected&&this.client.options.enableWSFallback){this._log("_reconnect() - Abort (3) since disconnect() is called");return}this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),e.refreshToken&&await this.client.tokenManager.loadToken();try{await this._connect(),this._log("_reconnect() - Waiting for recoverCallBack"),this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0}catch(e){if(this.isHealthy=!1,this.consecutiveFailures+=1,e.code===lU.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});e.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect())}this._log("_reconnect() - == END ==")}_destroyCurrentWSConnection(){this.wsID+=1;try{this?.ws?.removeAllListeners(),this?.ws?.close()}catch(e){}}}function c2(e){return"string"==typeof e}let c3=e=>(0,aR.JQ)(new Uint8Array(function(e,t){let i=[];if(c2(e)&&t&&c2(e)){for(let n=0,r=e.length;n<r;n++)if(e.charAt(n)){let r=t(e.charAt(n),n,e);i[n]=r}}else if(!c2(e)&&!(t&&c2(e))){for(let n=0,r=e.length;n<r;n++)if(n in e){let r=t(e[n],n,e);i[n]=r}}return i}(e,e=>e.charCodeAt(0)))),c4=e=>{let t={},i=String.fromCharCode,n=e.length,r,a=0,s,o=0,l,c="";for(r=0;r<64;r++)t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r)]=r;for(s=0;s<n;s++)for(a=(a<<6)+t[e.charAt(s)],o+=6;o>=8;)((l=a>>>(o-=8)&255)||s<n-2)&&(c+=i(l));return c};function c5(e,t,i={},n={}){if("string"!=typeof t)throw TypeError("userId should be a string");let r={user_id:t,...i};if(null==a_()||null==a_().sign)throw Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.");let a=Object.assign({algorithm:"HS256",noTimestamp:!0},n);return r.iat&&(a.noTimestamp=!1),a_().sign(r,e,a)}function c6(e,t={}){let i=Object.assign({algorithm:"HS256",noTimestamp:!0},t);return a_().sign({server:!0},e,i)}class c8{constructor(e){this.setTokenOrProvider=async(e,t,i)=>{this.validateToken(e,t,i),this.user=t,lD(e)&&(this.tokenProvider=e,this.type="provider"),"string"==typeof e&&(this.token=e,this.type="static"),!e&&this.user&&this.secret&&(this.token=c5(this.secret,t.id,{},{}),this.type="static"),await this.loadToken()},this.reset=()=>{this.token=void 0,this.user=void 0,this.loadTokenPromise=null},this.validateToken=(e,t,i)=>{if(!t||!i||e){if(!this.secret&&!e)throw Error("UserWithId token can not be empty");if(e&&"string"!=typeof e&&!lD(e))throw Error("user token should either be a string or a function");if("string"==typeof e){if(i&&""===e)return;let n=function(e){let t=e.split(".");return 3!==t.length?"":JSON.parse(c4(t[1])).user_id}(e);if(null!=e&&(null==n||""===n||!i&&n!==t.id))throw Error("userToken does not have a user_id or is not matching with user.id")}}},this.tokenReady=()=>this.loadTokenPromise,this.loadToken=()=>(this.loadTokenPromise=new Promise(async(e,t)=>{if("static"===this.type)return e(this.token);if(this.tokenProvider&&"string"!=typeof this.tokenProvider){try{this.token=await this.tokenProvider()}catch(e){return t(Error(`Call to tokenProvider failed with message: ${e}`))}e(this.token)}}),this.loadTokenPromise),this.getToken=()=>{if(this.token||this.user&&!this.token)return this.token;if(this.secret)return c6(this.secret);throw Error("Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called")},this.isStatic=()=>"static"===this.type,this.loadTokenPromise=null,e&&(this.secret=e),this.type="static",this.secret&&(this.token=c6(this.secret))}}let c9={"-1":{name:"InternalSystemError",retryable:!0},2:{name:"AccessKeyError",retryable:!1},3:{name:"AuthenticationFailedError",retryable:!0},4:{name:"InputError",retryable:!1},6:{name:"DuplicateUsernameError",retryable:!1},9:{name:"RateLimitError",retryable:!0},16:{name:"DoesNotExistError",retryable:!1},17:{name:"NotAllowedError",retryable:!1},18:{name:"EventNotSupportedError",retryable:!1},19:{name:"ChannelFeatureNotSupportedError",retryable:!1},20:{name:"MessageTooLongError",retryable:!1},21:{name:"MultipleNestingLevelError",retryable:!1},22:{name:"PayloadTooBigError",retryable:!1},23:{name:"RequestTimeoutError",retryable:!0},24:{name:"MaxHeaderSizeExceededError",retryable:!1},40:{name:"AuthErrorTokenExpired",retryable:!1},41:{name:"AuthErrorTokenNotValidYet",retryable:!1},42:{name:"AuthErrorTokenUsedBeforeIssuedAt",retryable:!1},43:{name:"AuthErrorTokenSignatureInvalid",retryable:!1},44:{name:"CustomCommandEndpointMissingError",retryable:!1},45:{name:"CustomCommandEndpointCallError",retryable:!0},46:{name:"ConnectionIDNotFoundError",retryable:!1},60:{name:"CoolDownError",retryable:!0},69:{name:"ErrWrongRegion",retryable:!1},70:{name:"ErrQueryChannelPermissions",retryable:!1},71:{name:"ErrTooManyConnections",retryable:!0},99:{name:"AppSuspendedError",retryable:!1}};function c7(e){if(!e.code)return!1;let t=c9[`${e.code}`];return!!t&&t.retryable}!function(e){e.Closed="CLOSED",e.Connected="CONNECTED",e.Connecting="CONNECTING",e.Disconnected="DISCONNECTED",e.Init="INIT"}(q||(q={}));class ue{constructor(e){this._onlineStatusChanged=e=>{if(this._log(`_onlineStatusChanged() - ${e.type}`),"offline"===e.type){this._setState(q.Closed),this.cancelToken?.cancel("disconnect() is called"),this.cancelToken=void 0;return}"online"===e.type&&this.state===q.Closed&&this.connect(!0)},this._req=async(e,t,i)=>{this.cancelToken||e.close||(this.cancelToken=nJ.CancelToken.source());try{let i=await this.client.doAxiosRequest("get",this.client.baseURL.replace(":3030",":8900")+"/longpoll",void 0,{config:{...t,cancelToken:this.cancelToken?.token},params:e,publicEndpoint:!0});return this.consecutiveFailures=0,i}catch(n){if(this.consecutiveFailures+=1,i&&c7(n))return this._log("_req() - Retryable error, retrying request"),await lL(lq(this.consecutiveFailures)),this._req(e,t,i);throw n}},this._poll=async()=>{for(;this.state===q.Connected;)try{let e=await this._req({},{timeout:3e4},!0);if(e.events?.length)for(let t=0;t<e.events.length;t++)this.client.dispatchEvent(e.events[t])}catch(e){if(nJ.isCancel(e)){this._log("_poll() - axios canceled request");return}if(46===e.code){this._log("_poll() - ConnectionID error, connecting without ID..."),this._setState(q.Disconnected),this.connect(!0);return}if(void 0!==e.code&&!c7(e)){this._setState(q.Closed);return}await lL(lq(this.consecutiveFailures))}},this.connect=async(e=!1)=>{if(this.state===q.Connecting){this._log("connect() - connecting already in progress",{reconnect:e},"warn");return}if(this.state===q.Connected){this._log("connect() - already connected and polling",{reconnect:e},"warn");return}this._setState(q.Connecting),this.connectionID=void 0;try{let{event:t}=await this._req({json:this.client._buildWSPayload()},{timeout:8e3},e);return this._setState(q.Connected),this.connectionID=t.connection_id,this.client.resolveConnectionId?.(),this.client.dispatchEvent(t),this._poll(),t}catch(e){throw this._setState(q.Closed),this.client.rejectConnectionId?.(),e}},this.isHealthy=()=>!!this.connectionID&&this.state===q.Connected,this.disconnect=async(e=2e3)=>{this._onlineStatusChanged,this._setState(q.Disconnected),this.cancelToken?.cancel("disconnect() is called"),this.cancelToken=void 0;let t=this.connectionID;this.connectionID=void 0;try{await this._req({close:!0,connection_id:t},{timeout:e},!1),this._log("disconnect() - Closed connectionID")}catch(e){this._log("disconnect() - Failed",{err:e},"error")}},this.client=e,this.state=q.Init,this.consecutiveFailures=0,this._onlineStatusChanged}_log(e,t={},i="info"){this.client.logger(i,"WSConnectionFallback:"+e,{...t})}_setState(e){this._log(`_setState() - ${e}`),this.state===q.Connecting&&e===q.Connected&&this.client.dispatchEvent({type:"connection.changed",online:!0}),(e===q.Closed||e===q.Disconnected)&&this.client.dispatchEvent({type:"connection.changed",online:!1}),this.state=e}}let ut=oF(["location"]),ui="https://hint.stream-io-video.com/",un=async(e=ui,t=2e3)=>{let i=new AbortController,n=setTimeout(()=>i.abort(),t);try{let e=(await fetch(ui,{method:"HEAD",signal:i.signal})).headers.get("x-amz-cf-pop")||"ERR";return ut("debug",`Location header: ${e}`),e.substring(0,3)}catch(e){return ut("warn",`Failed to get location hint from ${ui}`,e),"ERR"}finally{clearTimeout(n)}};class ur{constructor(e,t){this.listeners={},this.nextRequestAbortController=null,this.devToken=e=>["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",c3(JSON.stringify({user_id:e})),"devtoken"].join("."),this.getAuthType=()=>this.anonymous?"anonymous":"jwt",this.setBaseURL=e=>{this.baseURL=e,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")},this.getLocationHint=async(e,t)=>{let i=await this.locationHint;return i&&"ERR"!==i?i:(this.locationHint=un(e??this.options.locationHintUrl,t??this.options.locationHintTimeout),this.locationHint)},this._getConnectionID=()=>this.wsConnection?.connectionID||this.wsFallback?.connectionID,this._hasConnectionID=()=>!!this._getConnectionID(),this.connectUser=async(e,t)=>{if(!e.id)throw Error('The "id" field on the user is missing');if(this.userID===e.id&&this.setUserPromise)return this.logger("warn","Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),this.setUserPromise;if(this.userID)throw Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");(this._isUsingServerAuth()||this.node)&&!this.options.allowServerSideConnect&&this.logger("warn",'Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),this.userID=e.id,this.anonymous=!1;let i=this._setToken(e,t,this.anonymous);this._setUser(e);let n=this.openConnection();this.setUserPromise=Promise.all([i,n]).then(e=>e[1]);try{return await this.setUserPromise}catch(e){throw this.persistUserOnConnectionFailure?this.closeConnection():this.disconnectUser(),e}},this._setToken=(e,t,i)=>this.tokenManager.setTokenOrProvider(t,e,i),this._setUser=e=>{this.user=e,this.userID=e.id,this._user={...e}},this.closeConnection=async e=>(null!=this.cleaningIntervalRef&&(clearInterval(this.cleaningIntervalRef),this.cleaningIntervalRef=void 0),await Promise.all([this.wsConnection?.disconnect(e),this.wsFallback?.disconnect(e)]),Promise.resolve()),this.openConnection=async()=>{if(!this.userID)throw Error("UserWithId is not set on client, use client.connectUser or client.connectAnonymousUser instead");return this.wsConnection?.isConnecting&&this.wsPromise?(this.logger("info","client:openConnection() - connection already in progress"),this.wsPromise):(this.wsConnection?.isHealthy||this.wsFallback?.isHealthy())&&this._hasConnectionID()?(this.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists"),Promise.resolve()):(this.connectionIdPromise=new Promise((e,t)=>{this.resolveConnectionId=e,this.rejectConnectionId=t}),this.clientID=`${this.userID}--${lF()}`,this.wsPromise=this.connect(),this.wsPromise)},this._normalizeDate=e=>{if(e instanceof Date&&(e=e.toISOString()),""===e)throw Error("Don't pass blank string for since, use null instead if resetting the token revoke");return e},this.disconnectUser=async e=>{this.logger("info","client:disconnect() - Disconnecting the client"),delete this.user,delete this._user,delete this.userID,this.anonymous=!1,await this.closeConnection(e),this.tokenManager.reset(),this.connectionIdPromise=void 0,this.rejectConnectionId=void 0,this.resolveConnectionId=void 0},this.connectGuestUser=async e=>{this.guestUserCreatePromise=this.doAxiosRequest("post","/guest",{user:{...e,role:"guest"}},{publicEndpoint:!0});let t=await this.guestUserCreatePromise;return this.guestUserCreatePromise.finally(()=>this.guestUserCreatePromise=void 0),this.connectUser(t.user,t.access_token)},this.connectAnonymousUser=async(e,t)=>{this.connectionIdPromise=new Promise((e,t)=>{this.resolveConnectionId=e,this.rejectConnectionId=t}),this.anonymous=!0,await this._setToken(e,t,this.anonymous),this._setUser(e),this.resolveConnectionId?.()},this.on=(e,t)=>(this.listeners[e]||(this.listeners[e]=[]),this.logger("debug",`Adding listener for ${e} event`),this.listeners[e]?.push(t),()=>{this.off(e,t)}),this.off=(e,t)=>{this.listeners[e]||(this.listeners[e]=[]),this.logger("debug",`Removing listener for ${e} event`),this.listeners[e]=this.listeners[e]?.filter(e=>e!==t)},this._logApiRequest=(e,t,i,n)=>{this.logger("trace",`client: ${e} - Request - ${t}`,{payload:i,config:n})},this._logApiResponse=(e,t,i)=>{this.logger("trace",`client:${e} - Response - url: ${t} > status ${i.status}`,{response:i})},this._logApiError=(e,t,i)=>{this.logger("error",`client:${e} - Error - url: ${t}`,{url:t,error:i})},this.doAxiosRequest=async(e,t,i,n={})=>{n.publicEndpoint||await Promise.all([this.tokenManager.tokenReady(),this.guestUserCreatePromise,this.connectionIdPromise]);let r=this._enrichAxiosOptions(n);try{let n;switch(this._logApiRequest(e,t,i,r),e){case"get":n=await this.axiosInstance.get(t,r);break;case"delete":n=await this.axiosInstance.delete(t,r);break;case"post":n=await this.axiosInstance.post(t,i,r);break;case"put":n=await this.axiosInstance.put(t,i,r);break;case"patch":n=await this.axiosInstance.patch(t,i,r);break;case"options":n=await this.axiosInstance.options(t,r);break;default:throw Error("Invalid request type")}return this._logApiResponse(e,t,n),this.consecutiveFailures=0,this.handleResponse(n)}catch(a){if(a.client_request_id=r.headers?.["x-client-request-id"],this.consecutiveFailures+=1,a.response){if(this._logApiError(e,t,a.response),a.response.data.code===lU.TOKEN_EXPIRED&&!this.tokenManager.isStatic())return this.consecutiveFailures>1&&await lL(lq(this.consecutiveFailures)),await this.tokenManager.loadToken(),await this.doAxiosRequest(e,t,i,n);return this.handleResponse(a.response)}throw this._logApiError(e,t,a),a}},this.get=(e,t)=>this.doAxiosRequest("get",e,null,{params:t}),this.put=(e,t,i)=>this.doAxiosRequest("put",e,t,{params:i}),this.post=(e,t,i)=>this.doAxiosRequest("post",e,t,{params:i}),this.patch=(e,t,i)=>this.doAxiosRequest("patch",e,t,{params:i}),this.delete=(e,t)=>this.doAxiosRequest("delete",e,null,{params:t}),this.errorFromResponse=e=>{let t;return t=new aT(`Stream error HTTP code: ${e.status}`),e.data&&e.data.code&&((t=Error(`Stream error code ${e.data.code}: ${e.data.message}`)).code=e.data.code),t.response=e,t.status=e.status,t},this.handleResponse=e=>{let t=e.data;if(function(e){return!e.status||e.status<200||300<=e.status}(e))throw this.errorFromResponse(e);return t},this.dispatchEvent=e=>{if(e.received_at||(e.received_at=new Date),this.logger("debug",`Dispatching event: ${e.type}`,e),this.listeners){for(let t of this.listeners.all||[])t(e);for(let t of this.listeners[e.type]||[])t(e)}},this.connect=async()=>{if(!this.userID||!this._user)throw Error("Call connectUser or connectAnonymousUser before starting the connection");if(!this.wsBaseURL)throw Error("Websocket base url not set");if(!this.clientID)throw Error("clientID is not set");!this.wsConnection&&(this.options.warmUp||this.options.enableInsights)&&this._sayHi(),this.options.wsConnection&&this.node?(this.options.wsConnection.setClient(this),this.wsConnection=this.options.wsConnection):this.wsConnection=new c1(this);try{if(this.wsFallback)return await this.wsFallback.connect();return this.logger("info","StreamClient.connect: this.wsConnection.connect()"),await this.wsConnection.connect(this.options.enableWSFallback?this.defaultWSTimeoutWithFallback:this.defaultWSTimeout)}catch(e){if(this.options.enableWSFallback&&function(e){if("boolean"==typeof e.isWSFailure)return e.isWSFailure;try{return JSON.parse(e.message).isWSFailure}catch(e){return!1}}(e)&&function(e){let t="undefined"!=typeof navigator?navigator:void 0;return t?"boolean"!=typeof t.onLine||t.onLine:(e("warn","isOnline failed to access window.navigator and assume browser is online"),!0)}(this.logger))return this.logger("warn","client:connect() - WS failed, fallback to longpoll"),this.dispatchEvent({type:"transport.changed",mode:"longpoll"}),this.wsConnection._destroyCurrentWSConnection(),this.wsConnection.disconnect().then(),this.wsFallback=new ue(this),await this.wsFallback.connect();throw e}},this._sayHi=()=>{let e=lF(),t={headers:n8.from({"x-client-request-id":e})};this.doAxiosRequest("get",this.baseURL+"/hi",null,t).catch(t=>{this.options.enableInsights&&cX("http_hi_failed",{api_key:this.key,err:t,client_request_id:e})})},this.getUserAgent=()=>this.userAgent||`stream-video-javascript-client-${this.node?"node":"browser"}-0.6.0`,this.setUserAgent=e=>{this.userAgent=e},this._isUsingServerAuth=()=>!!this.secret,this._enrichAxiosOptions=(e={params:{},headers:{},config:{}})=>{let t=e.publicEndpoint&&!this.user?void 0:this._getToken(),i=null;return null!==this.nextRequestAbortController&&(i=this.nextRequestAbortController.signal,this.nextRequestAbortController=null),e.headers?.["x-client-request-id"]||(e.headers={...e.headers,"x-client-request-id":lF()}),{params:{user_id:this.userID,connection_id:this._getConnectionID(),api_key:this.key,...e.params},headers:{...t?{Authorization:t}:void 0,"stream-auth-type":e.publicEndpoint&&!this.user?"anonymous":this.getAuthType(),"X-Stream-Client":this.getUserAgent(),...e.headers},...i?{signal:i}:{},...e.config,...this.options.axiosRequestConfig}},this._getToken=()=>this.tokenManager?this.tokenManager.getToken():null,this._buildWSPayload=e=>JSON.stringify({user_id:this.userID,user_details:this._user,client_request_id:e}),this.createAbortControllerForNextRequest=()=>this.nextRequestAbortController=new AbortController,this.createToken=(e,t,i,n)=>{if(null==this.secret)throw Error("tokens can only be created server-side using the API Secret");let r={};return t&&(r.exp=t),i&&(r.iat=i),n&&(r.call_cids=n),c5(this.secret,e,r,{})},this.key=e,this.secret=t?.secret;let i=t||{browser:!1};this.browser=i.browser||!1,this.node=!this.browser,this.browser&&(this.locationHint=un(t?.locationHintUrl,t?.locationHintTimeout)),this.options={timeout:5e3,withCredentials:!1,warmUp:!1,...i},this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new(i$()).Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.setBaseURL(this.options.baseURL||"https://video.stream-io-api.com/video"),"undefined"!=typeof process&&process.env.STREAM_LOCAL_TEST_RUN&&this.setBaseURL("http://localhost:3030/video"),"undefined"!=typeof process&&process.env.STREAM_LOCAL_TEST_HOST&&this.setBaseURL(`http://${process.env.STREAM_LOCAL_TEST_HOST}/video`),this.axiosInstance=nJ.create({...this.options,baseURL:this.baseURL}),this.wsConnection=null,this.wsPromise=null,this.setUserPromise=null,this.anonymous=!1,this.persistUserOnConnectionFailure=this.options?.persistUserOnConnectionFailure,this.tokenManager=new c8(this.secret),this.consecutiveFailures=0,this.insightMetrics=new cY,this.defaultWSTimeoutWithFallback=6e3,this.defaultWSTimeout=15e3,this.logger=lD(i.logger)?i.logger:()=>null}}class ua{constructor(e,t){this.logLevel="warn",this.eventHandlersToUnregister=[],this.disconnectUser=async e=>{if(!this.streamClient.user&&!this.connectionPromise)return;let t=()=>this.streamClient.disconnectUser(e);this.disconnectionPromise=this.connectionPromise?this.connectionPromise.then(()=>t()):t(),this.disconnectionPromise.finally(()=>this.disconnectionPromise=void 0),await this.disconnectionPromise,this.eventHandlersToUnregister.forEach(e=>e()),this.eventHandlersToUnregister=[],this.writeableStateStore.setConnectedUser(void 0)},this.on=(e,t)=>this.streamClient.on(e,t),this.off=(e,t)=>this.streamClient.off(e,t),this.call=(e,t)=>new cJ({streamClient:this.streamClient,id:t,type:e,clientStore:this.writeableStateStore}),this.createGuestUser=async e=>this.streamClient.doAxiosRequest("post","/guest",e,{publicEndpoint:!0}),this.queryCalls=async(e={})=>{let t=await this.streamClient.post("/calls",e),i=t.calls.map(t=>{let i=new cJ({streamClient:this.streamClient,id:t.call.id,type:t.call.type,members:t.members,ownCapabilities:t.own_capabilities,watching:e.watch,clientStore:this.writeableStateStore});return i.state.updateFromCallResponse(t.call),i.applyDeviceConfig(),e.watch&&this.writeableStateStore.registerCall(i),i});return{...t,calls:i}},this.edges=async()=>this.streamClient.get("/edges"),this.addDevice=async(e,t,i,n,r)=>await this.streamClient.post("/devices",{id:e,push_provider:t,voip_token:r,...null!=n?{user_id:n}:{},...null!=i?{push_provider_name:i}:{}}),this.getDevices=async e=>await this.streamClient.get("/devices",e?{user_id:e}:{}),this.removeDevice=async(e,t)=>await this.streamClient.delete("/devices",{id:e,...t?{user_id:t}:{}}),this.onRingingCall=async e=>{let t=this.readOnlyStateStore.calls.find(t=>t.cid===e&&t.ringing);if(!t){let[i,n]=e.split(":");t=new cJ({streamClient:this.streamClient,type:i,id:n,clientStore:this.writeableStateStore,ringing:!0}),await t.get()}return t},this.connectAnonymousUser=async(e,t)=>{let i=()=>this.streamClient.connectAnonymousUser(e,t);return this.connectionPromise=this.disconnectionPromise?this.disconnectionPromise.then(()=>i()):i(),this.connectionPromise.finally(()=>this.connectionPromise=void 0),this.connectionPromise};let i=oU,n="warn";if("string"==typeof e?(n=t?.logLevel||n,i=t?.logger||i):(n=e.options?.logLevel||n,i=e.options?.logger||i),oq(i,n),this.logger=oF(["client"]),"string"==typeof e)this.streamClient=new ur(e,{persistUserOnConnectionFailure:!0,...t,logLevel:n,logger:this.logger});else{this.streamClient=new ur(e.apiKey,{persistUserOnConnectionFailure:!0,...e.options,logLevel:n,logger:this.logger});let t=oG();t&&this.streamClient.setUserAgent(this.streamClient.getUserAgent()+`-video-${I[t.type].toLowerCase()}-sdk-${t.major}.${t.minor}.${t.patch}`)}if(this.writeableStateStore=new lx,this.readOnlyStateStore=new lk(this.writeableStateStore),"string"!=typeof e){let t=e.user,i=e.token||e.tokenProvider;t&&this.connectUser(t,i)}}get state(){return this.readOnlyStateStore}async connectUser(e,t){if("anonymous"===e.type)return e.id="!anon",this.connectAnonymousUser(e,t);let i=()=>this.streamClient.connectUser(e,t);"guest"===e.type&&(i=async()=>this.streamClient.connectGuestUser(e)),this.connectionPromise=this.disconnectionPromise?this.disconnectionPromise.then(()=>i()):i(),this.connectionPromise?.finally(()=>this.connectionPromise=void 0);let n=await this.connectionPromise;return n?.me&&this.writeableStateStore.setConnectedUser(n.me),this.eventHandlersToUnregister.push(this.on("connection.changed",e=>{if(e.online){let e=this.writeableStateStore.calls.filter(e=>e.watching).map(e=>e.cid);this.logger("info",`Rewatching calls after connection changed ${e.join(", ")}`),e.length>0&&this.queryCalls({watch:!0,filter_conditions:{cid:{$in:e}},sort:[{field:"cid",direction:1}]}).catch(e=>{this.logger("error","Failed to re-watch calls",e)})}})),this.eventHandlersToUnregister.push(this.on("call.created",t=>{let{call:i,members:n}=t;if(e.id===i.created_by.id){this.logger("warn","Received `call.created` sent by the current user");return}this.logger("info",`New call created and registered: ${i.cid}`);let r=new cJ({streamClient:this.streamClient,type:i.type,id:i.id,members:n,clientStore:this.writeableStateStore});r.state.updateFromCallResponse(i),this.writeableStateStore.registerCall(r)})),this.eventHandlersToUnregister.push(this.on("call.ring",async t=>{let{call:i,members:n}=t;if(e.id===i.created_by.id){this.logger("debug","Received `call.ring` sent by the current user so ignoring the event");return}let r=this.writeableStateStore.findCall(i.type,i.id);await r?.leave();let a=new cJ({streamClient:this.streamClient,type:i.type,id:i.id,members:n,clientStore:this.writeableStateStore,ringing:!0});a.state.updateFromCallResponse(i),await a.get(),this.writeableStateStore.registerCall(a)})),n}async addVoipDevice(e,t,i,n){return await this.addDevice(e,t,i,n,!0)}}var us=i(97247),uo=i(28964);let ul={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class uc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||ul,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,n){return n&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new uc(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new uc(this.logger,e)}}var uu=new uc;class ud{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);let i=this.observers[e].get(t)||0;this.observers[e].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(e=>{let[t,n]=e;for(let e=0;e<n;e++)t(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(t=>{let[n,r]=t;for(let t=0;t<r;t++)n.apply(n,[e,...i])})}}function uh(){let e,t;let i=new Promise((i,n)=>{e=i,t=n});return i.resolve=e,i.reject=t,i}function up(e){return null==e?"":""+e}let uf=/###/g;function um(e,t,i){function n(e){return e&&e.indexOf("###")>-1?e.replace(uf,"."):e}function r(){return!e||"string"==typeof e}let a="string"!=typeof t?t:t.split("."),s=0;for(;s<a.length-1;){if(r())return{};let t=n(a[s]);!e[t]&&i&&(e[t]=new i),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++s}return r()?{}:{obj:e,k:n(a[s])}}function ug(e,t,i){let{obj:n,k:r}=um(e,t,Object);if(void 0!==n||1===t.length){n[r]=i;return}let a=t[t.length-1],s=t.slice(0,t.length-1),o=um(e,s,Object);for(;void 0===o.obj&&s.length;)a=`${s[s.length-1]}.${a}`,(o=um(e,s=s.slice(0,s.length-1),Object))&&o.obj&&void 0!==o.obj[`${o.k}.${a}`]&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=i}function uy(e,t){let{obj:i,k:n}=um(e,t);if(i)return i[n]}function uv(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var ub={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function uw(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,e=>ub[e]):e}class ux{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let t=this.regExpMap.get(e);if(void 0!==t)return t;let i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}let uk=[" ",",","?","!",";"],uS=new ux(20);function u_(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];let n=t.split(i),r=e;for(let e=0;e<n.length;){let t;if(!r||"object"!=typeof r)return;let a="";for(let s=e;s<n.length;++s)if(s!==e&&(a+=i),a+=n[s],void 0!==(t=r[a])){if(["string","number","boolean"].indexOf(typeof t)>-1&&s<n.length-1)continue;e+=s-e+1;break}r=t}return r}function uR(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class uE extends ud{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){let n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,s=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;e.indexOf(".")>-1?n=e.split("."):(n=[e,t],i&&(Array.isArray(i)?n.push(...i):"string"==typeof i&&a?n.push(...i.split(a)):n.push(i)));let o=uy(this.data,n);return(!o&&!t&&!i&&e.indexOf(".")>-1&&(e=n[0],t=n[1],i=n.slice(2).join(".")),o||!s||"string"!=typeof i)?o:u_(this.data&&this.data[e]&&this.data[e][t],i,a)}addResource(e,t,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,s=[e,t];i&&(s=s.concat(a?i.split(a):i)),e.indexOf(".")>-1&&(s=e.split("."),n=t,t=s[1]),this.addNamespaces(t),ug(this.data,s,n),r.silent||this.emit("added",e,t,i,n)}addResources(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(let n in i)("string"==typeof i[n]||"[object Array]"===Object.prototype.toString.apply(i[n]))&&this.addResource(e,t,n,i[n],{silent:!0});n.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,n,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),n=i,i=t,t=s[1]),this.addNamespaces(t);let o=uy(this.data,s)||{};a.skipCopy||(i=JSON.parse(JSON.stringify(i))),n?function e(t,i,n){for(let r in i)"__proto__"!==r&&"constructor"!==r&&(r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof i[r]||i[r]instanceof String?n&&(t[r]=i[r]):e(t[r],i[r],n):t[r]=i[r]);return t}(o,i,r):o={...o,...i},ug(this.data,s,o),a.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return(t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI)?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var uT={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,i,n,r){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,i,n,r))}),t}};let uC={};class uP extends ud{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),function(e,t,i){e.forEach(e=>{t[e]&&(i[e]=t[e])})}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=uu.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;let i=this.resolve(e,t);return i&&void 0!==i.res}extractFromKey(e,t){let i=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===i&&(i=":");let n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS||[],a=i&&e.indexOf(i)>-1,s=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,i){t=t||"",i=i||"";let n=uk.filter(e=>0>t.indexOf(e)&&0>i.indexOf(e));if(0===n.length)return!0;let r=uS.getRegExp(`(${n.map(e=>"?"===e?"\\?":e).join("|")})`),a=!r.test(e);if(!a){let t=e.indexOf(i);t>0&&!r.test(e.substring(0,t))&&(a=!0)}return a}(e,i,n);if(a&&!s){let t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:r};let a=e.split(i);(i!==n||i===n&&this.options.ns.indexOf(a[0])>-1)&&(r=a.shift()),e=a.join(n)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}translate(e,t,i){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);let n=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(e[e.length-1],t),o=s[s.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(c){let e=t.nsSeparator||this.options.nsSeparator;return n?{res:`${o}${e}${a}`,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:`${o}${e}${a}`}return n?{res:a,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:a}let u=this.resolve(e,t),d=u&&u.res,h=u&&u.usedKey||a,p=u&&u.exactUsedKey||a,f=Object.prototype.toString.apply(d),m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,y="string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d;if(g&&d&&y&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(f)&&!("string"==typeof m&&"[object Array]"===f)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...t,ns:s}):`key '${a} (${this.language})' returned an object instead of string.`;return n?(u.res=e,u.usedParams=this.getUsedParamsDetails(t),u):e}if(r){let e="[object Array]"===f,i=e?[]:{},n=e?p:h;for(let e in d)if(Object.prototype.hasOwnProperty.call(d,e)){let a=`${n}${r}${e}`;i[e]=this.translate(a,{...t,joinArrays:!1,ns:s}),i[e]===a&&(i[e]=d[e])}d=i}}else if(g&&"string"==typeof m&&"[object Array]"===f)(d=d.join(m))&&(d=this.extendTranslation(d,e,t,i));else{let n=!1,s=!1,c=void 0!==t.count&&"string"!=typeof t.count,h=uP.hasDefaultValue(t),p=c?this.pluralResolver.getSuffix(l,t.count,t):"",f=t.ordinal&&c?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",m=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),g=m&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${p}`]||t[`defaultValue${f}`]||t.defaultValue;!this.isValidLookup(d)&&h&&(n=!0,d=g),this.isValidLookup(d)||(s=!0,d=a);let y=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&s?void 0:d,v=h&&g!==d&&this.options.updateMissing;if(s||n||v){if(this.logger.log(v?"updateKey":"missingKey",l,o,a,v?g:d),r){let e=this.resolve(a,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[],i=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&i&&i[0])for(let t=0;t<i.length;t++)e.push(i[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);let n=(e,i,n)=>{let r=h&&n!==d?n:y;this.options.missingKeyHandler?this.options.missingKeyHandler(e,o,i,r,v,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,o,i,r,v,t),this.emit("missingKey",e,o,i,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach(e=>{let i=this.pluralResolver.getSuffixes(e,t);m&&t[`defaultValue${this.options.pluralSeparator}zero`]&&0>i.indexOf(`${this.options.pluralSeparator}zero`)&&i.push(`${this.options.pluralSeparator}zero`),i.forEach(i=>{n([e],a+i,t[`defaultValue${i}`]||g)})}):n(e,a,g))}d=this.extendTranslation(d,e,t,u,i),s&&d===a&&this.options.appendNamespaceToMissingKey&&(d=`${o}:${a}`),(s||n)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${o}:${a}`:a,n?d:void 0):this.options.parseMissingKeyHandler(d))}return n?(u.res=d,u.usedParams=this.getUsedParamsDetails(t),u):d}extendTranslation(e,t,i,n,r){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!i.skipInterpolation){let s;i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});let o="string"==typeof e&&(i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(o){let t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let l=i.replace&&"string"!=typeof i.replace?i.replace:i;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,i.lng||this.language,i),o){let t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(i.nest=!1)}!i.lng&&"v1"!==this.options.compatibilityAPI&&n&&n.res&&(i.lng=n.usedLng),!1!==i.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,n=Array(e),s=0;s<e;s++)n[s]=arguments[s];return r&&r[0]===n[0]&&!i.context?(a.logger.warn(`It seems you are nesting recursively key: ${n[0]} in key: ${t[0]}`),null):a.translate(...n,t)},i)),i.interpolation&&this.interpolator.reset()}let s=i.postProcess||this.options.postProcess,o="string"==typeof s?[s]:s;return null!=e&&o&&o.length&&!1!==i.applyPostProcessor&&(e=uT.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let t,i,n,r,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;let o=this.extractFromKey(e,s),l=o.key;i=l;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));let u=void 0!==s.count&&"string"!=typeof s.count,d=u&&!s.ordinal&&0===s.count&&this.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);c.forEach(e=>{this.isValidLookup(t)||(a=e,!uC[`${p[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(uC[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${i}" for languages "${p.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(i=>{let a;if(this.isValidLookup(t))return;r=i;let o=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(o,l,i,e,s);else{let e;u&&(e=this.pluralResolver.getSuffix(i,s.count,s));let t=`${this.options.pluralSeparator}zero`,n=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(o.push(l+e),s.ordinal&&0===e.indexOf(n)&&o.push(l+e.replace(n,this.options.pluralSeparator)),d&&o.push(l+t)),h){let i=`${l}${this.options.contextSeparator}${s.context}`;o.push(i),u&&(o.push(i+e),s.ordinal&&0===e.indexOf(n)&&o.push(i+e.replace(n,this.options.pluralSeparator)),d&&o.push(i+t))}}for(;a=o.pop();)this.isValidLookup(t)||(n=a,t=this.getResource(i,e,a,s))}))})}),{res:t,usedKey:i,exactUsedKey:n,usedLng:r,usedNS:a}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,i,n):this.resourceStore.getResource(e,t,i,n)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replace&&"string"!=typeof e.replace,i=t?e.replace:e;if(t&&void 0!==e.count&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!t)for(let e of(i={...i},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete i[e];return i}static hasDefaultValue(e){let t="defaultValue";for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&void 0!==e[i])return!0;return!1}}function uA(e){return e.charAt(0).toUpperCase()+e.slice(1)}class uI{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=uu.create("languageUtils")}getScriptPartFromCode(e){if(!(e=uR(e))||0>e.indexOf("-"))return null;let t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(!(e=uR(e))||0>e.indexOf("-"))return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){let t=["hans","hant","latn","cyrl","cans","mong","arab"],i=e.split("-");return this.options.lowerCaseLng?i=i.map(e=>e.toLowerCase()):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=uA(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=uA(i[1].toLowerCase())),t.indexOf(i[2].toLowerCase())>-1&&(i[2]=uA(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){let t;return e?(e.forEach(e=>{if(t)return;let i=this.formatLanguageCode(e);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;let i=this.getLanguagePartFromCode(e);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(e=>{if(e===i||!(0>e.indexOf("-")&&0>i.indexOf("-"))&&(e.indexOf("-")>0&&0>i.indexOf("-")&&e.substring(0,e.indexOf("-"))===i||0===e.indexOf(i)&&i.length>1))return e})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){let i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),n=[],r=e=>{e&&(this.isSupportedCode(e)?n.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):"string"==typeof e&&r(this.formatLanguageCode(e)),i.forEach(e=>{0>n.indexOf(e)&&r(this.formatLanguageCode(e))}),n}}let uO=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],uj={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},uN=["v1","v2","v3"],uL=["v4"],uD={zero:0,one:1,two:2,few:3,many:4,other:5};class uU{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=uu.create("pluralResolver"),(!this.options.compatibilityJSON||uL.includes(this.options.compatibilityJSON))&&("undefined"==typeof Intl||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){let e={};return uO.forEach(t=>{t.lngs.forEach(i=>{e[i]={numbers:t.nr,plurals:uj[t.fc]}})}),e}()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(uR("dev"===e?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,t);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,i).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,t);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((e,t)=>uD[e]-uD[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):i.numbers.map(i=>this.getSuffix(e,i,t)):[]}getSuffix(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getRule(e,i);return n?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:this.getSuffixRetroCompatible(n,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){let i=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),n=e.numbers[i];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===n?n="plural":1===n&&(n=""));let r=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return"v1"===this.options.compatibilityJSON?1===n?"":"number"==typeof n?`_plural_${n.toString()}`:r():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?r():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!uN.includes(this.options.compatibilityJSON)}}function uq(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4)||void 0===arguments[4]||arguments[4],a=function(e,t,i){let n=uy(e,i);return void 0!==n?n:uy(t,i)}(e,t,i);return!a&&r&&"string"==typeof i&&void 0===(a=u_(e,i,n))&&(a=u_(t,i,n)),a}class uM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=uu.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let t=e.interpolation;this.escape=void 0!==t.escape?t.escape:uw,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?uv(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?uv(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?uv(t.nestingPrefix):t.nestingPrefixEscaped||uv("$t("),this.nestingSuffix=t.nestingSuffix?uv(t.nestingSuffix):t.nestingSuffixEscaped||uv(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,i,n){let r,a,s;let o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}let c=e=>{if(0>e.indexOf(this.formatSeparator)){let r=uq(t,o,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(r,void 0,i,{...n,...t,interpolationkey:e}):r}let r=e.split(this.formatSeparator),a=r.shift().trim(),s=r.join(this.formatSeparator).trim();return this.format(uq(t,o,a,this.options.keySeparator,this.options.ignoreJSONStructure),s,i,{...n,...t,interpolationkey:a})};this.resetRegExp();let u=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,d=n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>l(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?l(this.escape(e)):l(e)}].forEach(t=>{for(s=0;r=t.regex.exec(e);){let i=r[1].trim();if(void 0===(a=c(i))){if("function"==typeof u){let t=u(e,r,n);a="string"==typeof t?t:""}else if(n&&Object.prototype.hasOwnProperty.call(n,i))a="";else if(d){a=r[0];continue}else this.logger.warn(`missed to pass in variable ${i} for interpolating ${e}`),a=""}else"string"==typeof a||this.useRawValueToEscape||(a=up(a));let o=t.safeValue(a);if(e=e.replace(r[0],o),d?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,++s>=this.maxReplaces)break}}),e}nest(e,t){let i,n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,t){let i=this.nestingOptionsSeparator;if(0>e.indexOf(i))return e;let n=e.split(RegExp(`${i}[ ]*{`)),a=`{${n[1]}`;e=n[0];let s=(a=this.interpolate(a,r)).match(/'/g),o=a.match(/"/g);(s&&s.length%2==0&&!o||o.length%2!=0)&&(a=a.replace(/'/g,'"'));try{r=JSON.parse(a),t&&(r={...t,...r})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${i}${a}`}return delete r.defaultValue,e}for(;i=this.nestingRegexp.exec(e);){let o=[];(r=(r={...a}).replace&&"string"!=typeof r.replace?r.replace:r).applyPostProcessor=!1,delete r.defaultValue;let l=!1;if(-1!==i[0].indexOf(this.formatSeparator)&&!/{.*}/.test(i[1])){let e=i[1].split(this.formatSeparator).map(e=>e.trim());i[1]=e.shift(),o=e,l=!0}if((n=t(s.call(this,i[1].trim(),r),r))&&i[0]===e&&"string"!=typeof n)return n;"string"!=typeof n&&(n=up(n)),n||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),n=""),l&&(n=o.reduce((e,t)=>this.format(e,t,a.lng,{...a,interpolationkey:i[1].trim()}),n.trim())),e=e.replace(i[0],n),this.regexp.lastIndex=0}return e}}function uF(e){let t={};return function(i,n,r){let a=n+JSON.stringify(r),s=t[a];return s||(s=e(uR(n),r),t[a]=s),s(i)}}class u${constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=uu.create("formatter"),this.options=e,this.formats={number:uF((e,t)=>{let i=new Intl.NumberFormat(e,{...t});return e=>i.format(e)}),currency:uF((e,t)=>{let i=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>i.format(e)}),datetime:uF((e,t)=>{let i=new Intl.DateTimeFormat(e,{...t});return e=>i.format(e)}),relativetime:uF((e,t)=>{let i=new Intl.RelativeTimeFormat(e,{...t});return e=>i.format(e,t.range||"day")}),list:uF((e,t)=>{let i=new Intl.ListFormat(e,{...t});return e=>i.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},i=t.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=uF(t)}format(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.split(this.formatSeparator).reduce((e,t)=>{let{formatName:r,formatOptions:a}=function(e){let t=e.toLowerCase().trim(),i={};if(e.indexOf("(")>-1){let n=e.split("(");t=n[0].toLowerCase().trim();let r=n[1].substring(0,n[1].length-1);"currency"===t&&0>r.indexOf(":")?i.currency||(i.currency=r.trim()):"relativetime"===t&&0>r.indexOf(":")?i.range||(i.range=r.trim()):r.split(";").forEach(e=>{if(!e)return;let[t,...n]=e.split(":"),r=n.join(":").trim().replace(/^'+|'+$/g,"");i[t.trim()]||(i[t.trim()]=r),"false"===r&&(i[t.trim()]=!1),"true"===r&&(i[t.trim()]=!0),isNaN(r)||(i[t.trim()]=parseInt(r,10))})}return{formatName:t,formatOptions:i}}(t);if(this.formats[r]){let t=e;try{let s=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},o=s.locale||s.lng||n.locale||n.lng||i;t=this.formats[r](e,o,{...a,...n,...s})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${r}`),e},e)}}class uB extends ud{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=n,this.logger=uu.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,n.backend,n)}queueLoad(e,t,i,n){let r={},a={},s={},o={};return e.forEach(e=>{let n=!0;t.forEach(t=>{let s=`${e}|${t}`;!i.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===a[s]&&(a[s]=!0):(this.state[s]=1,n=!1,void 0===a[s]&&(a[s]=!0),void 0===r[s]&&(r[s]=!0),void 0===o[t]&&(o[t]=!0)))}),n||(s[e]=!0)}),(Object.keys(r).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(r),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(o)}}loaded(e,t,i){let n=e.split("|"),r=n[0],a=n[1];t&&this.emit("failedLoading",r,a,t),i&&this.store.addResourceBundle(r,a,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2;let s={};this.queue.forEach(i=>{(function(e,t,i,n){let{obj:r,k:a}=um(e,t,Object);r[a]=r[a]||[],r[a].push(i)})(i.loaded,[r],a),void 0!==i.pending[e]&&(delete i.pending[e],i.pendingCount--),t&&i.errors.push(t),0!==i.pendingCount||i.done||(Object.keys(i.loaded).forEach(e=>{s[e]||(s[e]={});let t=i.loaded[e];t.length&&t.forEach(t=>{void 0===s[e][t]&&(s[e][t]=!0)})}),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(e=>!e.done)}read(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:n,wait:r,callback:a});return}this.readingCalls++;let s=(s,o)=>{if(this.readingCalls--,this.waitingReads.length>0){let e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}if(s&&o&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,n+1,2*r,a)},r);return}a(s,o)},o=this.backend[i].bind(this.backend);if(2===o.length){try{let i=o(e,t);i&&"function"==typeof i.then?i.then(e=>s(null,e)).catch(s):s(null,i)}catch(e){s(e)}return}return o(e,t,s)}prepareLoading(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);let r=this.queueLoad(e,t,i,n);if(!r.toLoad.length)return r.pending.length||n(),null;r.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),n=i[0],r=i[1];this.read(n,r,"read",void 0,void 0,(i,a)=>{i&&this.logger.warn(`${t}loading namespace ${r} for language ${n} failed`,i),!i&&a&&this.logger.log(`${t}loaded namespace ${r} for language ${n}`,a),this.loaded(e,i,a)})}saveMissing(e,t,i,n,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(null!=i&&""!==i){if(this.backend&&this.backend.create){let o={...a,isUpdate:r},l=this.backend.create.bind(this.backend);if(l.length<6)try{let r;(r=5===l.length?l(e,t,i,n,o):l(e,t,i,n))&&"function"==typeof r.then?r.then(e=>s(null,e)).catch(s):s(null,r)}catch(e){s(e)}else l(e,t,i,n,s,o)}e&&e[0]&&this.store.addResource(e[0],t,i,n)}}}function uK(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){let i=e[3]||e[2];Object.keys(i).forEach(e=>{t[e]=i[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function uz(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&0>e.supportedLngs.indexOf("cimode")&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function uV(){}class uW extends ud{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=uz(e),this.services={},this.logger=uu,this.modules={external:[]},function(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))})}(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(i=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:0>t.ns.indexOf("translation")&&(t.defaultNS=t.ns[0]));let n=uK();function r(e){return e?"function"==typeof e?new e:e:null}if(this.options={...n,...this.options,...uz(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...n.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){let t;this.modules.logger?uu.init(r(this.modules.logger),this.options):uu.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=u$);let i=new uI(this.options);this.store=new uE(this.options.resources,this.options);let a=this.services;a.logger=uu,a.resourceStore=this.store,a.languageUtils=i,a.pluralResolver=new uU(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),t&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(a.formatter=r(t),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new uM(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new uB(r(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];e.emit(t,...n)}),this.modules.languageDetector&&(a.languageDetector=r(this.modules.languageDetector),a.languageDetector.init&&a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=r(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new uP(this.services,this.options),this.translator.on("*",function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];e.emit(t,...n)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,i||(i=uV),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});let a=uh(),s=()=>{let e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(t),i(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),a}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uV,i=t,n="string"==typeof e?e:this.language;if("function"==typeof e&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return i();let e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&0>e.indexOf(t)&&e.push(t)})};n?t(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload&&this.options.preload.forEach(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),i(e)})}else i(null)}reloadResources(e,t,i){let n=uh();return e||(e=this.languages),t||(t=this.options.ns),i||(i=uV),this.services.backendConnector.reload(e,t,e=>{n.resolve(),i(e)}),n}use(e){if(!e)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&uT.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){let t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;let n=uh();this.emit("languageChanging",e);let r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},a=(e,a)=>{a?(r(a),this.translator.changeLanguage(a),this.isLanguageChangingTo=void 0,this.emit("languageChanged",a),this.logger.log("languageChanged",a)):this.isLanguageChangingTo=void 0,n.resolve(function(){return i.t(...arguments)}),t&&t(e,function(){return i.t(...arguments)})},s=t=>{e||t||!this.services.languageDetector||(t=[]);let i="string"==typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);i&&(this.language||r(i),this.translator.language||this.translator.changeLanguage(i),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(i)),this.loadResources(i,e=>{a(e,i)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),n}getFixedT(e,t,i){var n=this;let r=function(e,t){let a,s;if("object"!=typeof t){for(var o=arguments.length,l=Array(o>2?o-2:0),c=2;c<o;c++)l[c-2]=arguments[c];a=n.options.overloadTranslationOptionHandler([e,t].concat(l))}else a={...t};a.lng=a.lng||r.lng,a.lngs=a.lngs||r.lngs,a.ns=a.ns||r.ns,a.keyPrefix=a.keyPrefix||i||r.keyPrefix;let u=n.options.keySeparator||".";return s=a.keyPrefix&&Array.isArray(e)?e.map(e=>`${a.keyPrefix}${u}${e}`):a.keyPrefix?`${a.keyPrefix}${u}${e}`:e,n.t(s,a)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=i,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let i=t.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;let a=(e,t)=>{let i=this.services.backendConnector.state[`${e}|${t}`];return -1===i||2===i};if(t.precheck){let e=t.precheck(this,a);if(void 0!==e)return e}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(i,e)&&(!n||a(r,e)))}loadNamespaces(e,t){let i=uh();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach(e=>{0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}),this.loadResources(e=>{i.resolve(),t&&t(e)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){let i=uh();"string"==typeof e&&(e=[e]);let n=this.options.preload||[],r=e.filter(e=>0>n.indexOf(e));return r.length?(this.options.preload=n.concat(r),this.loadResources(e=>{i.resolve(),t&&t(e)}),i):(t&&t(),Promise.resolve())}dir(e){return(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf((this.services&&this.services.languageUtils||new uI(uK())).getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}static createInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new uW(e,t)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uV,i=e.forkResourceStore;i&&delete e.forkResourceStore;let n={...this.options,...e,isClone:!0},r=new uW(n);return(void 0!==e.debug||void 0!==e.prefix)&&(r.logger=r.logger.clone(e)),["store","services","language"].forEach(e=>{r[e]=this[e]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},i&&(r.store=new uE(this.store.data,n),r.services.resourceStore=r.store),r.translator=new uP(r.services,n),r.translator.on("*",function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];r.emit(e,...i)}),r.init(n,t),r.translator.options=n,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}let uH=uW.createInstance();uH.createInstance=uW.createInstance,uH.createInstance,uH.dir,uH.init,uH.loadResources,uH.reloadResources,uH.use,uH.changeLanguage,uH.getFixedT,uH.t,uH.exists,uH.setDefaultNamespace,uH.hasLoadedNamespace,uH.loadNamespaces,uH.loadLanguages;let uG=(0,uo.createContext)(void 0),uJ=()=>(0,uo.useContext)(uG),uY="stream-video",uX={debug:!1,currentLanguage:"en",fallbackLanguage:!1},uQ=Object.entries({}).reduce((e,[t,i])=>(e[t]={[uY]:i},e),{}),uZ=e=>e;class u0{constructor(e={}){this.t=uZ,this.init=async()=>{try{this.t=await this.i18nInstance.init()}catch(e){console.error(`Failed to initialize translations: ${JSON.stringify(e)}`)}return this},this.changeLanguage=async(e,t)=>{if(!this._checkIsInitialized())return;let i="undefined"!=typeof window&&window.navigator?window.navigator.language:void 0;await this.i18nInstance.changeLanguage(e||i),t?.(this.currentLanguage)},this.registerTranslationsForLanguage=({lng:e,translations:t})=>{this._checkIsInitialized()&&this.i18nInstance.addResourceBundle(e,uY,t,!0,!0)},this._checkIsInitialized=()=>(this.i18nInstance.isInitialized||console.warn("I18n instance is not initialized. Call yourStreamI18nInstance.init()."),this.i18nInstance.isInitialized);let{debug:t=uX.debug,currentLanguage:i=uX.currentLanguage,fallbackLanguage:n=uX.fallbackLanguage,translationsOverrides:r}=e;this.i18nInstance=uH.createInstance({debug:t,defaultNS:uY,fallbackLng:n,interpolation:{escapeValue:!1},keySeparator:!1,lng:i,nsSeparator:!1,parseMissingKeyHandler:e=>e,resources:uQ}),r&&this.i18nInstance.on("initialized",()=>{Object.entries(r).forEach(([e,t])=>{this.registerTranslationsForLanguage({lng:e,translations:t})})})}get currentLanguage(){return this._checkIsInitialized(),this.i18nInstance.language}get isInitialized(){return this.i18nInstance.isInitialized}}let u1=(0,uo.createContext)({t:uZ}),u2=({children:e,...t})=>{let{i18n:i,t:n}=u3(t);return(0,us.jsx)(u1.Provider,{value:{t:n,i18n:i},children:e})},u3=({i18nInstance:e,language:t,fallbackLanguage:i,translationsOverrides:n})=>{let[r]=(0,uo.useState)(()=>e||new u0({currentLanguage:t,fallbackLanguage:i,translationsOverrides:n})),[a,s]=(0,uo.useState)(()=>uZ);return(0,uo.useEffect)(()=>{let{isInitialized:e}=r;if(!e){r.init().then(e=>s(()=>e.i18nInstance.t));return}t&&r?.currentLanguage!==t&&r.changeLanguage(t).catch(e=>{console.log("Error while changing language",e)})},[r,e,t,n]),{i18n:r,t:a}},u4=()=>(0,uo.useContext)(u1),u5=(0,uo.createContext)(void 0),u6=({children:e,client:t,i18nInstance:i,language:n,translationsOverrides:r})=>(0,us.jsx)(u5.Provider,{value:t,children:(0,us.jsx)(u2,{i18nInstance:i,language:n,translationsOverrides:r,children:e})}),u8=()=>(0,uo.useContext)(u5),u9=e=>{let[t,i]=(0,uo.useState)(()=>o7.getCurrentValue(e));return(0,uo.useEffect)(()=>{let t=e.subscribe(i);return()=>{t.unsubscribe()}},[e]),t},u7=()=>{let e=uJ();return e?e.state:(console.warn('You are using useCallState() outside a Call context. Please wrap your component in <StreamCall /> and provide a "call" instance.'),new lw)},de=()=>{let{ownCapabilities$:e}=u7();return u9(e)};var dt=Object.freeze({__proto__:null,useAnonymousParticipantCount:()=>{let{anonymousParticipantCount$:e}=u7();return u9(e)},useCallBlockedUserIds:()=>{let{blockedUserIds$:e}=u7();return u9(e)},useCallCallingState:()=>{let{callingState$:e}=u7();return u9(e)},useCallCreatedAt:()=>{let{createdAt$:e}=u7();return u9(e)},useCallCreatedBy:()=>{let{createdBy$:e}=u7();return u9(e)},useCallCustomData:()=>{let{custom$:e}=u7();return u9(e)},useCallEgress:()=>{let{egress$:e}=u7();return u9(e)},useCallEndedAt:()=>{let{endedAt$:e}=u7();return u9(e)},useCallEndedBy:()=>{let{endedBy$:e}=u7();return u9(e)},useCallIngress:()=>{let{ingress$:e}=u7();return u9(e)},useCallMembers:()=>{let{members$:e}=u7();return u9(e)},useCallSession:()=>{let{session$:e}=u7();return u9(e)},useCallSettings:()=>{let{settings$:e}=u7();return u9(e)},useCallStartedAt:()=>{let{startedAt$:e}=u7();return u9(e)},useCallStartsAt:()=>{let{startsAt$:e}=u7();return u9(e)},useCallState:u7,useCallStatsReport:()=>{let{callStatsReport$:e}=u7();return u9(e)},useCallThumbnail:()=>{let{thumbnails$:e}=u7();return u9(e)},useCallUpdatedAt:()=>{let{updatedAt$:e}=u7();return u9(e)},useCameraState:()=>{let{camera:e}=uJ(),t=(0,uo.useMemo)(()=>e.listDevices(),[e]),{state:i}=e,n=u9(i.status$),r=u9(i.direction$),a=u9(i.mediaStream$),s=u9(i.selectedDevice$);return{camera:e,status:n,isEnabled:"enabled"===n,direction:r,mediaStream:a,devices:u9(t),hasBrowserPermission:u9(i.hasBrowserPermission$),selectedDevice:s,isMute:"enabled"!==n}},useDominantSpeaker:()=>{let{dominantSpeaker$:e}=u7();return u9(e)},useHasOngoingScreenShare:()=>{let{hasOngoingScreenShare$:e}=u7();return u9(e)},useHasPermissions:(...e)=>{let t=de();return e.every(e=>t?.includes(e))},useIsCallHLSBroadcastingInProgress:()=>{let{egress$:e}=u7(),t=u9(e);return!!t&&t.broadcasting},useIsCallLive:()=>{let{backstage$:e}=u7();return!u9(e)},useIsCallRecordingInProgress:()=>{let{recording$:e}=u7();return u9(e)},useIsCallTranscribingInProgress:()=>{let{transcribing$:e}=u7();return u9(e)},useLocalParticipant:()=>{let{localParticipant$:e}=u7();return u9(e)},useMicrophoneState:()=>{let{microphone:e}=uJ(),t=(0,uo.useMemo)(()=>e.listDevices(),[e]),{state:i}=e,n=u9(i.status$),r=u9(i.mediaStream$),a=u9(i.selectedDevice$),s=u9(t);return{microphone:e,status:n,isEnabled:"enabled"===n,mediaStream:r,devices:s,selectedDevice:a,hasBrowserPermission:u9(i.hasBrowserPermission$),isSpeakingWhileMuted:u9(i.speakingWhileMuted$),isMute:"enabled"!==n}},useOwnCapabilities:de,useParticipantCount:()=>{let{participantCount$:e}=u7();return u9(e)},useParticipants:({sortBy:e}={})=>{let{participants$:t}=u7(),i=u9(t);return(0,uo.useMemo)(()=>e?[...i].sort(e):i,[i,e])},useRemoteParticipants:()=>{let{remoteParticipants$:e}=u7();return u9(e)},useScreenShareState:()=>{let{screenShare:e}=uJ(),t=u9(e.state.status$),i=u9(e.state.mediaStream$);return{screenShare:e,mediaStream:i,status:t,isMute:"enabled"!==t}},useSpeakerState:()=>{let{speaker:e}=uJ(),t=u9((0,uo.useMemo)(()=>e.listDevices(),[e])),i=u9(e.state.selectedDevice$);return{speaker:e,devices:t,selectedDevice:i,isDeviceSelectionSupported:e.state.isDeviceSelectionSupported}}});let di=()=>{let e=u8();if(!e)throw Error("StreamVideoClient isn't initialized or this hook is called outside of <StreamVideo> context.");return e.readOnlyStateStore},dn=()=>{let{connectedUser$:e}=di();return u9(e)},dr=()=>dt,da=({canRequestOnly:e,hasPermissionsOnly:t,requiredGrants:i,requireAll:n=!0,children:r})=>{let a=uJ(),{useCallSettings:s,useOwnCapabilities:o}=dr(),l=o(),c=s(),u=i[n?"every":"some"](e=>l?.includes(e));if(t)return u?(0,us.jsx)(us.Fragment,{children:r}):null;let d=i.some(e=>a?.permissionsContext.canRequest(e,c));return e?d?(0,us.jsx)(us.Fragment,{children:r}):null:u||d?(0,us.jsx)(us.Fragment,{children:r}):null};var ds=i(61929),dl=i(39030),dc=i(39065),du=i(84846);function dd(e){return e+.5|0}let dh=(e,t,i)=>Math.max(Math.min(e,i),t);function dp(e){return dh(dd(2.55*e),0,255)}function df(e){return dh(dd(255*e),0,255)}function dm(e){return dh(dd(e/2.55)/100,0,1)}function dg(e){return dh(dd(100*e),0,100)}let dy={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},dv=[..."0123456789ABCDEF"],db=e=>dv[15&e],dw=e=>dv[(240&e)>>4]+dv[15&e],dx=e=>(240&e)>>4==(15&e),dk=e=>dx(e.r)&&dx(e.g)&&dx(e.b)&&dx(e.a),dS=(e,t)=>e<255?t(e):"",d_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function dR(e,t,i){let n=t*Math.min(i,1-i),r=(t,r=(t+e/30)%12)=>i-n*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function dE(e,t,i){let n=(n,r=(n+e/60)%6)=>i-i*t*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function dT(e,t,i){let n;let r=dR(e,1,.5);for(t+i>1&&(n=1/(t+i),t*=n,i*=n),n=0;n<3;n++)r[n]*=1-t-i,r[n]+=t;return r}function dC(e){let t,i,n;let r=e.r/255,a=e.g/255,s=e.b/255,o=Math.max(r,a,s),l=Math.min(r,a,s),c=(o+l)/2;return o!==l&&(n=o-l,i=c>.5?n/(2-o-l):n/(o+l),t=60*(t=r===o?(a-s)/n+(a<s?6:0):a===o?(s-r)/n+2:(r-a)/n+4)+.5),[0|t,i||0,c]}function dP(e,t,i,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,n)).map(df)}function dA(e){return(e%360+360)%360}let dI={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},dO={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"},dj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,dN=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,dL=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function dD(e,t,i){if(e){let n=dC(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*i,0===t?360:1)),n=dP(dR,n,void 0,void 0),e.r=n[0],e.g=n[1],e.b=n[2]}}function dU(e,t){return e?Object.assign(t||{},e):e}function dq(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=df(e[3]))):(t=dU(e,{r:0,g:0,b:0,a:1})).a=df(t.a),t}class dM{constructor(e){let t;if(e instanceof dM)return e;let i=typeof e;"object"===i?t=dq(e):"string"===i&&(t=function(e){var t,i=e.length;return"#"===e[0]&&(4===i||5===i?t={r:255&17*dy[e[1]],g:255&17*dy[e[2]],b:255&17*dy[e[3]],a:5===i?17*dy[e[4]]:255}:(7===i||9===i)&&(t={r:dy[e[1]]<<4|dy[e[2]],g:dy[e[3]]<<4|dy[e[4]],b:dy[e[5]]<<4|dy[e[6]],a:9===i?dy[e[7]]<<4|dy[e[8]]:255})),t}(e)||function(e){l||((l=function(){let e,t,i,n,r;let a={},s=Object.keys(dO),o=Object.keys(dI);for(e=0;e<s.length;e++){for(t=0,n=r=s[e];t<o.length;t++)i=o[t],r=r.replace(i,dI[i]);i=parseInt(dO[n],16),a[r]=[i>>16&255,i>>8&255,255&i]}return a}()).transparent=[0,0,0,0]);let t=l[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(e)||function(e){return"r"===e.charAt(0)?function(e){let t,i,n;let r=dj.exec(e),a=255;if(r){if(r[7]!==t){let e=+r[7];a=r[8]?dp(e):dh(255*e,0,255)}return t=+r[1],i=+r[3],n=+r[5],{r:t=255&(r[2]?dp(t):dh(t,0,255)),g:i=255&(r[4]?dp(i):dh(i,0,255)),b:n=255&(r[6]?dp(n):dh(n,0,255)),a:a}}}(e):function(e){let t;let i=d_.exec(e),n=255;if(!i)return;i[5]!==t&&(n=i[6]?dp(+i[5]):df(+i[5]));let r=dA(+i[2]),a=+i[3]/100,s=+i[4]/100;return{r:(t="hwb"===i[1]?dP(dT,r,a,s):"hsv"===i[1]?dP(dE,r,a,s):dP(dR,r,a,s))[0],g:t[1],b:t[2],a:n}}(e)}(e)),this._rgb=t,this._valid=!!t}get valid(){return this._valid}get rgb(){var e=dU(this._rgb);return e&&(e.a=dm(e.a)),e}set rgb(e){this._rgb=dq(e)}rgbString(){var e;return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${dm(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0}hexString(){var e,t;return this._valid?(t=dk(e=this._rgb)?db:dw,e?"#"+t(e.r)+t(e.g)+t(e.b)+dS(e.a,t):void 0):void 0}hslString(){return this._valid?function(e){if(!e)return;let t=dC(e),i=t[0],n=dg(t[1]),r=dg(t[2]);return e.a<255?`hsla(${i}, ${n}%, ${r}%, ${dm(e.a)})`:`hsl(${i}, ${n}%, ${r}%)`}(this._rgb):void 0}mix(e,t){if(e){let i;let n=this.rgb,r=e.rgb,a=t===i?.5:t,s=2*a-1,o=n.a-r.a,l=((s*o==-1?s:(s+o)/(1+s*o))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=a*n.a+(1-a)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,i){let n=dL(dm(e.r)),r=dL(dm(e.g)),a=dL(dm(e.b));return{r:df(dN(n+i*(dL(dm(t.r))-n))),g:df(dN(r+i*(dL(dm(t.g))-r))),b:df(dN(a+i*(dL(dm(t.b))-a))),a:e.a+i*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new dM(this.rgb)}alpha(e){return this._rgb.a=df(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=dd(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return dD(this._rgb,2,e),this}darken(e){return dD(this._rgb,2,-e),this}saturate(e){return dD(this._rgb,1,e),this}desaturate(e){return dD(this._rgb,1,-e),this}rotate(e){var t,i;return(i=dC(t=this._rgb))[0]=dA(i[0]+e),i=dP(dR,i,void 0,void 0),t.r=i[0],t.g=i[1],t.b=i[2],this}}function dF(){}let d$=(()=>{let e=0;return()=>e++})();function dB(e){return null==e}function dK(e){if(Array.isArray&&Array.isArray(e))return!0;let t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function dz(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function dV(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function dW(e,t){return dV(e)?e:t}function dH(e,t){return void 0===e?t:e}let dG=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t,dJ=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function dY(e,t,i){if(e&&"function"==typeof e.call)return e.apply(i,t)}function dX(e,t,i,n){let r,a,s;if(dK(e)){if(a=e.length,n)for(r=a-1;r>=0;r--)t.call(i,e[r],r);else for(r=0;r<a;r++)t.call(i,e[r],r)}else if(dz(e))for(r=0,a=(s=Object.keys(e)).length;r<a;r++)t.call(i,e[s[r]],s[r])}function dQ(e,t){let i,n,r,a;if(!e||!t||e.length!==t.length)return!1;for(i=0,n=e.length;i<n;++i)if(r=e[i],a=t[i],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function dZ(e){if(dK(e))return e.map(dZ);if(dz(e)){let t=Object.create(null),i=Object.keys(e),n=i.length,r=0;for(;r<n;++r)t[i[r]]=dZ(e[i[r]]);return t}return e}function d0(e){return -1===["__proto__","prototype","constructor"].indexOf(e)}function d1(e,t,i,n){if(!d0(e))return;let r=t[e],a=i[e];dz(r)&&dz(a)?d2(r,a,n):t[e]=dZ(a)}function d2(e,t,i){let n;let r=dK(t)?t:[t],a=r.length;if(!dz(e))return e;let s=(i=i||{}).merger||d1;for(let t=0;t<a;++t){if(!dz(n=r[t]))continue;let a=Object.keys(n);for(let t=0,r=a.length;t<r;++t)s(a[t],e,n,i)}return e}function d3(e,t){return d2(e,t,{merger:d4})}function d4(e,t,i){if(!d0(e))return;let n=t[e],r=i[e];dz(n)&&dz(r)?d3(n,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=dZ(r))}let d5={"":e=>e,x:e=>e.x,y:e=>e.y};function d6(e,t){return(d5[t]||(d5[t]=function(e){let t=function(e){let t=e.split("."),i=[],n="";for(let e of t)(n+=e).endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}(e);return e=>{for(let i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(e)}function d8(e){return e.charAt(0).toUpperCase()+e.slice(1)}let d9=e=>void 0!==e,d7=e=>"function"==typeof e,he=(e,t)=>{if(e.size!==t.size)return!1;for(let i of e)if(!t.has(i))return!1;return!0},ht=Math.PI,hi=2*ht,hn=hi+ht,hr=Number.POSITIVE_INFINITY,ha=ht/180,hs=ht/2,ho=ht/4,hl=2*ht/3,hc=Math.log10,hu=Math.sign;function hd(e,t,i){return Math.abs(e-t)<i}function hh(e){let t=Math.round(e),i=Math.pow(10,Math.floor(hc(e=hd(e,t,e/1e3)?t:e))),n=e/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function hp(e){return!isNaN(parseFloat(e))&&isFinite(e)}function hf(e,t,i){let n,r,a;for(n=0,r=e.length;n<r;n++)isNaN(a=e[n][i])||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function hm(e){return ht/180*e}function hg(e){if(!dV(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function hy(e,t){let i=t.x-e.x,n=t.y-e.y,r=Math.sqrt(i*i+n*n),a=Math.atan2(n,i);return a<-.5*ht&&(a+=hi),{angle:a,distance:r}}function hv(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function hb(e,t){return(e-t+hn)%hi-ht}function hw(e){return(e%hi+hi)%hi}function hx(e,t,i,n){let r=hw(e),a=hw(t),s=hw(i),o=hw(a-r),l=hw(s-r),c=hw(r-a),u=hw(r-s);return r===a||r===s||n&&a===s||o>l&&c<u}function hk(e,t,i){return Math.max(t,Math.min(i,e))}function hS(e,t,i,n=1e-6){return e>=Math.min(t,i)-n&&e<=Math.max(t,i)+n}function h_(e,t,i){let n;i=i||(i=>e[i]<t);let r=e.length-1,a=0;for(;r-a>1;)i(n=a+r>>1)?a=n:r=n;return{lo:a,hi:r}}let hR=(e,t,i,n)=>h_(e,i,n?n=>{let r=e[n][t];return r<i||r===i&&e[n+1][t]===i}:n=>e[n][t]<i),hE=(e,t,i)=>h_(e,i,n=>e[n][t]>=i),hT=["push","pop","shift","splice","unshift"];function hC(e,t){let i=e._chartjs;if(!i)return;let n=i.listeners,r=n.indexOf(t);-1!==r&&n.splice(r,1),n.length>0||(hT.forEach(t=>{delete e[t]}),delete e._chartjs)}function hP(e){let t=new Set(e);return t.size===e.length?e:Array.from(t)}let hA="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function hI(e,t){let i=[],n=!1;return function(...r){i=r,n||(n=!0,hA.call(window,()=>{n=!1,e.apply(t,i)}))}}let hO=e=>"start"===e?"left":"end"===e?"right":"center",hj=(e,t,i)=>"start"===e?t:"end"===e?i:(t+i)/2;function hN(e,t,i){let n=t.length,r=0,a=n;if(e._sorted){let{iScale:s,_parsed:o}=e,l=s.axis,{min:c,max:u,minDefined:d,maxDefined:h}=s.getUserBounds();d&&(r=hk(Math.min(hR(o,l,c).lo,i?n:hR(t,l,s.getPixelForValue(c)).lo),0,n-1)),a=h?hk(Math.max(hR(o,s.axis,u,!0).hi+1,i?0:hR(t,l,s.getPixelForValue(u),!0).hi+1),r,n)-r:n-r}return{start:r,count:a}}function hL(e){let{xScale:t,yScale:i,_scaleRanges:n}=e,r={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!n)return e._scaleRanges=r,!0;let a=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,r),a}let hD=e=>0===e||1===e,hU=(e,t,i)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*hi/i)),hq=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*hi/i)+1,hM={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*hs)+1,easeOutSine:e=>Math.sin(e*hs),easeInOutSine:e=>-.5*(Math.cos(ht*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>hD(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(-Math.pow(2,-10*(2*e-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>hD(e)?e:hU(e,.075,.3),easeOutElastic:e=>hD(e)?e:hq(e,.075,.3),easeInOutElastic:e=>hD(e)?e:e<.5?.5*hU(2*e,.1125,.45):.5+.5*hq(2*e-1,.1125,.45),easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>(e-=1)*e*(2.70158*e+1.70158)+1,easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*(((t*=1.525)+1)*e-t)*.5:.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-hM.easeOutBounce(1-e),easeOutBounce:e=>e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,easeInOutBounce:e=>e<.5?.5*hM.easeInBounce(2*e):.5*hM.easeOutBounce(2*e-1)+.5};function hF(e){if(e&&"object"==typeof e){let t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function h$(e){return hF(e)?e:new dM(e)}function hB(e){return hF(e)?e:new dM(e).saturate(.5).darken(.1).hexString()}let hK=["x","y","borderWidth","radius","tension"],hz=["color","borderColor","backgroundColor"],hV=new Map;function hW(e,t,i){return(function(e,t){let i=e+JSON.stringify(t=t||{}),n=hV.get(i);return n||(n=new Intl.NumberFormat(e,t),hV.set(i,n)),n})(t,i).format(e)}let hH={values:e=>dK(e)?e:""+e,numeric(e,t,i){let n;if(0===e)return"0";let r=this.chart.options.locale,a=e;if(i.length>1){let t;let r=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(r<1e-4||r>1e15)&&(n="scientific"),Math.abs(t=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),a=t}let s=hc(Math.abs(a)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:n,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),hW(e,r,l)},logarithmic(e,t,i){return 0===e?"0":[1,2,3,5,10,15].includes(i[t].significand||e/Math.pow(10,Math.floor(hc(e))))||t>.8*i.length?hH.numeric.call(this,e,t,i):""}};var hG={formatters:hH};let hJ=Object.create(null),hY=Object.create(null);function hX(e,t){if(!t)return e;let i=t.split(".");for(let t=0,n=i.length;t<n;++t){let n=i[t];e=e[n]||(e[n]=Object.create(null))}return e}function hQ(e,t,i){return"string"==typeof t?d2(hX(e,t),i):d2(hX(e,""),t)}class hZ{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>hB(t.backgroundColor),this.hoverBorderColor=(e,t)=>hB(t.borderColor),this.hoverColor=(e,t)=>hB(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return hQ(this,e,t)}get(e){return hX(this,e)}describe(e,t){return hQ(hY,e,t)}override(e,t){return hQ(hJ,e,t)}route(e,t,i,n){let r=hX(this,e),a=hX(this,i),s="_"+t;Object.defineProperties(r,{[s]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){let e=this[s],t=a[n];return dz(e)?Object.assign({},t,e):dH(e,t)},set(e){this[s]=e}}})}apply(e){e.forEach(e=>e(this))}}var h0=new hZ({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:hz},numbers:{type:"number",properties:hK}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:hG.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function h1(e,t,i,n,r){let a=t[r];return a||(a=t[r]=e.measureText(r).width,i.push(r)),a>n&&(n=a),n}function h2(e,t,i){let n=e.currentDevicePixelRatio,r=0!==i?Math.max(i/2,.5):0;return Math.round((t-r)*n)/n+r}function h3(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function h4(e,t,i,n){(function(e,t,i,n,r){let a,s,o,l,c,u,d,h;let p=t.pointStyle,f=t.rotation,m=t.radius,g=(f||0)*ha;if(p&&"object"==typeof p&&("[object HTMLImageElement]"===(a=p.toString())||"[object HTMLCanvasElement]"===a)){e.save(),e.translate(i,n),e.rotate(g),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!isNaN(m)&&!(m<=0)){switch(e.beginPath(),p){default:r?e.ellipse(i,n,r/2,m,0,0,hi):e.arc(i,n,m,0,hi),e.closePath();break;case"triangle":u=r?r/2:m,e.moveTo(i+Math.sin(g)*u,n-Math.cos(g)*m),g+=hl,e.lineTo(i+Math.sin(g)*u,n-Math.cos(g)*m),g+=hl,e.lineTo(i+Math.sin(g)*u,n-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,s=Math.cos(g+ho)*(l=m-c),d=Math.cos(g+ho)*(r?r/2-c:l),o=Math.sin(g+ho)*l,h=Math.sin(g+ho)*(r?r/2-c:l),e.arc(i-d,n-o,c,g-ht,g-hs),e.arc(i+h,n-s,c,g-hs,g),e.arc(i+d,n+o,c,g,g+hs),e.arc(i-h,n+s,c,g+hs,g+ht),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,u=r?r/2:l,e.rect(i-u,n-l,2*u,2*l);break}g+=ho;case"rectRot":d=Math.cos(g)*(r?r/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(r?r/2:m),e.moveTo(i-d,n-o),e.lineTo(i+h,n-s),e.lineTo(i+d,n+o),e.lineTo(i-h,n+s),e.closePath();break;case"crossRot":g+=ho;case"cross":d=Math.cos(g)*(r?r/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(r?r/2:m),e.moveTo(i-d,n-o),e.lineTo(i+d,n+o),e.moveTo(i+h,n-s),e.lineTo(i-h,n+s);break;case"star":d=Math.cos(g)*(r?r/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(r?r/2:m),e.moveTo(i-d,n-o),e.lineTo(i+d,n+o),e.moveTo(i+h,n-s),e.lineTo(i-h,n+s),g+=ho,d=Math.cos(g)*(r?r/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(r?r/2:m),e.moveTo(i-d,n-o),e.lineTo(i+d,n+o),e.moveTo(i+h,n-s),e.lineTo(i-h,n+s);break;case"line":s=r?r/2:Math.cos(g)*m,o=Math.sin(g)*m,e.moveTo(i-s,n-o),e.lineTo(i+s,n+o);break;case"dash":e.moveTo(i,n),e.lineTo(i+Math.cos(g)*(r?r/2:m),n+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}})(e,t,i,n,null)}function h5(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function h6(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function h8(e){e.restore()}function h9(e,t,i,n,r){if(!t)return e.lineTo(i.x,i.y);if("middle"===r){let n=(t.x+i.x)/2;e.lineTo(n,t.y),e.lineTo(n,i.y)}else"after"===r!=!!n?e.lineTo(t.x,i.y):e.lineTo(i.x,t.y);e.lineTo(i.x,i.y)}function h7(e,t,i,n){if(!t)return e.lineTo(i.x,i.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function pe(e,t,i,n,r,a={}){let s,o;let l=dK(t)?t:[t],c=a.strokeWidth>0&&""!==a.strokeColor;for(e.save(),e.font=r.string,a.translation&&e.translate(a.translation[0],a.translation[1]),dB(a.rotation)||e.rotate(a.rotation),a.color&&(e.fillStyle=a.color),a.textAlign&&(e.textAlign=a.textAlign),a.textBaseline&&(e.textBaseline=a.textBaseline),s=0;s<l.length;++s)o=l[s],a.backdrop&&function(e,t){let i=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=i}(e,a.backdrop),c&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),dB(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(o,i,n,a.maxWidth)),e.fillText(o,i,n,a.maxWidth),function(e,t,i,n,r){if(r.strikethrough||r.underline){let a=e.measureText(n),s=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,l=i-a.actualBoundingBoxAscent,c=i+a.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(s,u),e.lineTo(o,u),e.stroke()}}(e,i,n,o,a),n+=Number(r.lineHeight);e.restore()}function pt(e,t){let{x:i,y:n,w:r,h:a,radius:s}=t;e.arc(i+s.topLeft,n+s.topLeft,s.topLeft,1.5*ht,ht,!0),e.lineTo(i,n+a-s.bottomLeft),e.arc(i+s.bottomLeft,n+a-s.bottomLeft,s.bottomLeft,ht,hs,!0),e.lineTo(i+r-s.bottomRight,n+a),e.arc(i+r-s.bottomRight,n+a-s.bottomRight,s.bottomRight,hs,0,!0),e.lineTo(i+r,n+s.topRight),e.arc(i+r-s.topRight,n+s.topRight,s.topRight,0,-hs,!0),e.lineTo(i+s.topLeft,n)}let pi=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,pn=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/,pr=e=>+e||0;function pa(e,t){let i={},n=dz(t),r=n?Object.keys(t):t,a=dz(e)?n?i=>dH(e[i],e[t[i]]):t=>e[t]:()=>e;for(let e of r)i[e]=pr(a(e));return i}function ps(e){return pa(e,{top:"y",right:"x",bottom:"y",left:"x"})}function po(e){return pa(e,["topLeft","topRight","bottomLeft","bottomRight"])}function pl(e){let t=ps(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function pc(e,t){e=e||{},t=t||h0.font;let i=dH(e.size,t.size);"string"==typeof i&&(i=parseInt(i,10));let n=dH(e.style,t.style);n&&!(""+n).match(pn)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let r={family:dH(e.family,t.family),lineHeight:function(e,t){let i=(""+e).match(pi);if(!i||"normal"===i[1])return 1.2*t;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100}return t*e}(dH(e.lineHeight,t.lineHeight),i),size:i,style:n,weight:dH(e.weight,t.weight),string:""};return r.string=!r||dB(r.size)||dB(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family,r}function pu(e,t,i,n){let r,a,s,o=!0;for(r=0,a=e.length;r<a;++r)if(void 0!==(s=e[r])&&(void 0!==t&&"function"==typeof s&&(s=s(t),o=!1),void 0!==i&&dK(s)&&(s=s[i%s.length],o=!1),void 0!==s))return n&&!o&&(n.cacheable=!1),s}function pd(e,t){return Object.assign(Object.create(e),t)}function ph(e,t=[""],i,n,r=()=>e[0]){let a=i||e;return void 0===n&&(n=px("_fallback",e)),new Proxy({[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:n,_getTarget:r,override:i=>ph([i,...e],t,a,n)},{deleteProperty:(t,i)=>(delete t[i],delete t._keys,delete e[0][i],!0),get:(i,n)=>py(i,n,()=>(function(e,t,i,n){let r;for(let a of t)if(void 0!==(r=px(pm(a,e),i)))return pg(e,r)?pb(i,n,e,r):r})(n,t,e,i)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>pk(e).includes(t),ownKeys:e=>pk(e),set(e,t,i){let n=e._storage||(e._storage=r());return e[t]=n[t]=i,delete e._keys,!0}})}function pp(e,t,i,n){return new Proxy({_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:pf(e,n),setContext:t=>pp(e,t,i,n),override:r=>pp(e.override(r),t,i,n)},{deleteProperty:(t,i)=>(delete t[i],delete e[i],!0),get:(e,t,i)=>py(e,t,()=>(function(e,t,i){let{_proxy:n,_context:r,_subProxy:a,_descriptors:s}=e,o=n[t];return d7(o)&&s.isScriptable(t)&&(o=function(e,t,i,n){let{_proxy:r,_context:a,_subProxy:s,_stack:o}=i;if(o.has(e))throw Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(a,s||n);return o.delete(e),pg(e,l)&&(l=pb(r._scopes,r,e,l)),l}(t,o,e,i)),dK(o)&&o.length&&(o=function(e,t,i,n){let{_proxy:r,_context:a,_subProxy:s,_descriptors:o}=i;if(void 0!==a.index&&n(e))return t[a.index%t.length];if(dz(t[0])){let i=t,n=r._scopes.filter(e=>e!==i);for(let l of(t=[],i)){let i=pb(n,r,e,l);t.push(pp(i,a,s&&s[e],o))}}return t}(t,o,e,s.isIndexable)),pg(t,o)&&(o=pp(o,r,a&&a[t],s)),o})(e,t,i)),getOwnPropertyDescriptor:(t,i)=>t._descriptors.allKeys?Reflect.has(e,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,i),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,i)=>Reflect.has(e,i),ownKeys:()=>Reflect.ownKeys(e),set:(t,i,n)=>(e[i]=n,delete t[i],!0)})}function pf(e,t={scriptable:!0,indexable:!0}){let{_scriptable:i=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:i,indexable:n,isScriptable:d7(i)?i:()=>i,isIndexable:d7(n)?n:()=>n}}let pm=(e,t)=>e?e+d8(t):t,pg=(e,t)=>dz(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function py(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];let n=i();return e[t]=n,n}let pv=(e,t)=>!0===e?t:"string"==typeof e?d6(t,e):void 0;function pb(e,t,i,n){var r;let a=t._rootScopes,s=d7(r=t._fallback)?r(i,n):r,o=[...e,...a],l=new Set;l.add(n);let c=pw(l,o,i,s||i,n);return null!==c&&(void 0===s||s===i||null!==(c=pw(l,o,s,c,n)))&&ph(Array.from(l),[""],a,s,()=>(function(e,t,i){let n=e._getTarget();t in n||(n[t]={});let r=n[t];return dK(r)&&dz(i)?i:r||{}})(t,i,n))}function pw(e,t,i,n,r){for(;i;)i=function(e,t,i,n,r){for(let s of t){let t=pv(i,s);if(t){var a;e.add(t);let s=d7(a=t._fallback)?a(i,r):a;if(void 0!==s&&s!==i&&s!==n)return s}else if(!1===t&&void 0!==n&&i!==n)return null}return!1}(e,t,i,n,r);return i}function px(e,t){for(let i of t){if(!i)continue;let t=i[e];if(void 0!==t)return t}}function pk(e){let t=e._keys;return t||(t=e._keys=function(e){let t=new Set;for(let i of e)for(let e of Object.keys(i).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function pS(e,t,i,n){let r,a,s;let{iScale:o}=e,{key:l="r"}=this._parsing,c=Array(n);for(r=0;r<n;++r)s=t[a=r+i],c[r]={r:o.parse(d6(s,l),a)};return c}let p_=Number.EPSILON||1e-14,pR=(e,t)=>t<e.length&&!e[t].skip&&e[t],pE=e=>"x"===e?"y":"x";function pT(e,t,i){return Math.max(Math.min(e,i),t)}function pC(){return"undefined"!=typeof window&&"undefined"!=typeof document}function pP(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function pA(e,t,i){let n;return"string"==typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[i])):n=e,n}let pI=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),pO=["top","right","bottom","left"];function pj(e,t,i){let n={};i=i?"-"+i:"";for(let r=0;r<4;r++){let a=pO[r];n[a]=parseFloat(e[t+"-"+a+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}let pN=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function pL(e,t){if("native"in e)return e;let{canvas:i,currentDevicePixelRatio:n}=t,r=pI(i),a="border-box"===r.boxSizing,s=pj(r,"padding"),o=pj(r,"border","width"),{x:l,y:c,box:u}=function(e,t){let i,n;let r=e.touches,a=r&&r.length?r[0]:e,{offsetX:s,offsetY:o}=a,l=!1;if(pN(s,o,e.target))i=s,n=o;else{let e=t.getBoundingClientRect();i=a.clientX-e.left,n=a.clientY-e.top,l=!0}return{x:i,y:n,box:l}}(e,i),d=s.left+(u&&o.left),h=s.top+(u&&o.top),{width:p,height:f}=t;return a&&(p-=s.width+o.width,f-=s.height+o.height),{x:Math.round((l-d)/p*i.width/n),y:Math.round((c-h)/f*i.height/n)}}let pD=e=>Math.round(10*e)/10;function pU(e,t,i){let n=t||1,r=Math.floor(e.height*n),a=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);let s=e.canvas;return s.style&&(i||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==n||s.height!==r||s.width!==a)&&(e.currentDevicePixelRatio=n,s.height=r,s.width=a,e.ctx.setTransform(n,0,0,n,0,0),!0)}let pq=function(){let e=!1;try{let t={get passive(){return e=!0,!1}};pC()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(e){}return e}();function pM(e,t){let i=pI(e).getPropertyValue(t),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function pF(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)}}function p$(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:"middle"===n?i<.5?e.y:t.y:"after"===n?i<1?e.y:t.y:i>0?t.y:e.y}}function pB(e,t,i,n){let r={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},s=pF(e,r,i),o=pF(r,a,i),l=pF(a,t,i),c=pF(s,o,i),u=pF(o,l,i);return pF(c,u,i)}function pK(e,t,i){var n;return e?(n=i,{x:e=>t+t+n-e,setWidth(e){n=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function pz(e){return"angle"===e?{between:hx,compare:hb,normalize:hw}:{between:hS,compare:(e,t)=>e-t,normalize:e=>e}}function pV({start:e,end:t,count:i,loop:n,style:r}){return{start:e%i,end:t%i,loop:n&&(t-e+1)%i==0,style:r}}function pW(e,t,i){let n,r,a;if(!i)return[e];let{property:s,start:o,end:l}=i,c=t.length,{compare:u,between:d,normalize:h}=pz(s),{start:p,end:f,loop:m,style:g}=function(e,t,i){let n;let{property:r,start:a,end:s}=i,{between:o,normalize:l}=pz(r),c=t.length,{start:u,end:d,loop:h}=e;if(h){for(u+=c,d+=c,n=0;n<c&&o(l(t[u%c][r]),a,s);++n)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:h,style:e.style}}(e,t,i),y=[],v=!1,b=null,w=()=>d(o,a,n)&&0!==u(o,a),x=()=>0===u(l,n)||d(l,a,n),k=()=>v||w(),S=()=>!v||x();for(let e=p,i=p;e<=f;++e)(r=t[e%c]).skip||(n=h(r[s]))===a||(v=d(n,o,l),null===b&&k()&&(b=0===u(n,o)?e:i),null!==b&&S()&&(y.push(pV({start:b,end:e,loop:m,count:c,style:g})),b=null),i=e,a=n);return null!==b&&y.push(pV({start:b,end:f,loop:m,count:c,style:g})),y}function pH(e,t){let i=[],n=e.segments;for(let r=0;r<n.length;r++){let a=pW(n[r],e.points,t);a.length&&i.push(...a)}return i}function pG(e,t,i,n){return n&&n.setContext&&i?function(e,t,i,n){let r=e._chart.getContext(),a=pJ(e.options),{_datasetIndex:s,options:{spanGaps:o}}=e,l=i.length,c=[],u=a,d=t[0].start,h=d;function p(e,t,n,r){let a=o?-1:1;if(e!==t){for(e+=l;i[e%l].skip;)e-=a;for(;i[t%l].skip;)t+=a;e%l!=t%l&&(c.push({start:e%l,end:t%l,loop:n,style:r}),u=r,d=t%l)}}for(let e of t){let t;let a=i[(d=o?d:e.start)%l];for(h=d+1;h<=e.end;h++){let o=i[h%l];(function(e,t){if(!t)return!1;let i=[],n=function(e,t){return hF(t)?(i.includes(t)||i.push(t),i.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)})(t=pJ(n.setContext(pd(r,{type:"segment",p0:a,p1:o,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),u)&&p(d,h-1,e.loop,u),a=o,u=t}d<h-1&&p(d,h-1,e.loop,u)}return c}(e,t,i,n):t}function pJ(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}class pY{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,n){let r=t.listeners[n],a=t.duration;r.forEach(n=>n({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(i-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=hA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,n)=>{let r;if(!i.running||!i.items.length)return;let a=i.items,s=a.length-1,o=!1;for(;s>=0;--s)(r=a[s])._active?(r._total>i.duration&&(i.duration=r._total),r.tick(e),o=!0):(a[s]=a[a.length-1],a.pop());o&&(n.draw(),this._notify(n,i,e,"progress")),a.length||(i.running=!1,this._notify(n,i,e,"complete"),i.initial=!1),t+=a.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){let t=this._charts,i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!!t&&!!t.running&&!!t.items.length}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let i=t.items,n=i.length-1;for(;n>=0;--n)i[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var pX=new pY;let pQ="transparent",pZ={boolean:(e,t,i)=>i>.5?t:e,color(e,t,i){let n=h$(e||pQ),r=n.valid&&h$(t||pQ);return r&&r.valid?r.mix(n,i).hexString():t},number:(e,t,i)=>e+(t-e)*i};class p0{constructor(e,t,i,n){let r=t[i];n=pu([e.to,n,r,e.from]);let a=pu([e.from,r,n]);this._active=!0,this._fn=e.fn||pZ[e.type||typeof a],this._easing=hM[e.easing]||hM.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=a,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);let n=this._target[this._prop],r=i-this._start,a=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=pu([e.to,t,n,e.from]),this._from=pu([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t;let i=e-this._start,n=this._duration,r=this._prop,a=this._from,s=this._loop,o=this._to;if(this._active=a!==o&&(s||i<n),!this._active){this._target[r]=o,this._notify(!0);return}if(i<0){this._target[r]=a;return}t=i/n%2,t=s&&t>1?2-t:t,t=this._easing(Math.min(1,Math.max(0,t))),this._target[r]=this._fn(a,o,t)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){let t=e?"res":"rej",i=this._promises||[];for(let e=0;e<i.length;e++)i[e][t]()}}class p1{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!dz(e))return;let t=Object.keys(h0.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{let r=e[n];if(!dz(r))return;let a={};for(let e of t)a[e]=r[e];(dK(r.properties)&&r.properties||[n]).forEach(e=>{e!==n&&i.has(e)||i.set(e,a)})})}_animateOptions(e,t){let i=t.options,n=function(e,t){if(!t)return;let i=e.options;if(!i){e.options=t;return}return i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}(e,i);if(!n)return[];let r=this._createAnimations(n,i);return i.$shared&&(function(e,t){let i=[],n=Object.keys(t);for(let t=0;t<n.length;t++){let r=e[n[t]];r&&r.active()&&i.push(r.wait())}return Promise.all(i)})(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,t){let i;let n=this._properties,r=[],a=e.$animations||(e.$animations={}),s=Object.keys(t),o=Date.now();for(i=s.length-1;i>=0;--i){let l=s[i];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}let c=t[l],u=a[l],d=n.get(l);if(u){if(d&&u.active()){u.update(d,c,o);continue}u.cancel()}if(!d||!d.duration){e[l]=c;continue}a[l]=u=new p0(d,e,l,c),r.push(u)}return r}update(e,t){if(0===this._properties.size){Object.assign(e,t);return}let i=this._createAnimations(e,t);if(i.length)return pX.add(this._chart,i),!0}}function p2(e,t){let i=e&&e.options||{},n=i.reverse,r=void 0===i.min?t:0,a=void 0===i.max?t:0;return{start:n?a:r,end:n?r:a}}function p3(e,t){let i,n;let r=[],a=e._getSortedDatasetMetas(t);for(i=0,n=a.length;i<n;++i)r.push(a[i].index);return r}function p4(e,t,i,n={}){let r,a,s,o;let l=e.keys,c="single"===n.mode;if(null!==t){for(r=0,a=l.length;r<a;++r){if((s=+l[r])===i){if(n.all)continue;break}dV(o=e.values[s])&&(c||0===t||hu(t)===hu(o))&&(t+=o)}return t}}function p5(e,t){let i=e&&e.options.stacked;return i||void 0===i&&void 0!==t.stack}function p6(e,t,i,n){for(let r of t.getMatchingVisibleMetas(n).reverse()){let t=e[r.index];if(i&&t>0||!i&&t<0)return r.index}return null}function p8(e,t){let i;let{chart:n,_cachedMeta:r}=e,a=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:l}=r,c=s.axis,u=o.axis,d=`${s.id}.${o.id}.${r.stack||r.type}`,h=t.length;for(let e=0;e<h;++e){let n=t[e],{[c]:s,[u]:h}=n;(i=(n._stacks||(n._stacks={}))[u]=function(e,t,i){let n=e[t]||(e[t]={});return n[i]||(n[i]={})}(a,d,s))[l]=h,i._top=p6(i,o,!0,r.type),i._bottom=p6(i,o,!1,r.type),(i._visualValues||(i._visualValues={}))[l]=h}}function p9(e,t){let i=e.scales;return Object.keys(i).filter(e=>i[e].axis===t).shift()}function p7(e,t){let i=e.controller.index,n=e.vScale&&e.vScale.axis;if(n)for(let r of t=t||e._parsed){let e=r._stacks;if(!e||void 0===e[n]||void 0===e[n][i])return;delete e[n][i],void 0!==e[n]._visualValues&&void 0!==e[n]._visualValues[i]&&delete e[n]._visualValues[i]}}let fe=e=>"reset"===e||"none"===e,ft=(e,t)=>t?e:Object.assign({},e),fi=(e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:p3(i,!0),values:null};class fn{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=p5(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&p7(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,t=this._cachedMeta,i=this.getDataset(),n=(e,t,i,n)=>"x"===e?t:"r"===e?n:i,r=t.xAxisID=dH(i.xAxisID,p9(e,"x")),a=t.yAxisID=dH(i.yAxisID,p9(e,"y")),s=t.rAxisID=dH(i.rAxisID,p9(e,"r")),o=t.indexAxis,l=t.iAxisID=n(o,r,a,s),c=t.vAxisID=n(o,a,r,s);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&hC(this._data,this),e._stacked&&p7(e)}_dataCheck(){let e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(dz(t))this._data=function(e){let t,i,n;let r=Object.keys(e),a=Array(r.length);for(t=0,i=r.length;t<i;++t)n=r[t],a[t]={x:n,y:e[n]};return a}(t);else if(i!==t){if(i){hC(i,this);let e=this._cachedMeta;p7(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),hT.forEach(t=>{let i="_onData"+d8(t),n=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){let r=n.apply(this,t);return e._chartjs.listeners.forEach(e=>{"function"==typeof e[i]&&e[i](...t)}),r}})})}(t,this),this._syncList=[],this._data=t}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let t=this._cachedMeta,i=this.getDataset(),n=!1;this._dataCheck();let r=t._stacked;t._stacked=p5(t.vScale,t),t.stack!==i.stack&&(n=!0,p7(t),t.stack=i.stack),this._resyncElements(e),(n||r!==t._stacked)&&p8(this,t._parsed)}configure(){let e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){let i,n,r;let{_cachedMeta:a,_data:s}=this,{iScale:o,_stacked:l}=a,c=o.axis,u=0===e&&t===s.length||a._sorted,d=e>0&&a._parsed[e-1];if(!1===this._parsing)a._parsed=s,a._sorted=!0,r=s;else{r=dK(s[e])?this.parseArrayData(a,s,e,t):dz(s[e])?this.parseObjectData(a,s,e,t):this.parsePrimitiveData(a,s,e,t);let o=()=>null===n[c]||d&&n[c]<d[c];for(i=0;i<t;++i)a._parsed[i+e]=n=r[i],u&&(o()&&(u=!1),d=n);a._sorted=u}l&&p8(this,r)}parsePrimitiveData(e,t,i,n){let r,a;let{iScale:s,vScale:o}=e,l=s.axis,c=o.axis,u=s.getLabels(),d=s===o,h=Array(n);for(r=0;r<n;++r)a=r+i,h[r]={[l]:d||s.parse(u[a],a),[c]:o.parse(t[a],a)};return h}parseArrayData(e,t,i,n){let r,a,s;let{xScale:o,yScale:l}=e,c=Array(n);for(r=0;r<n;++r)s=t[a=r+i],c[r]={x:o.parse(s[0],a),y:l.parse(s[1],a)};return c}parseObjectData(e,t,i,n){let r,a,s;let{xScale:o,yScale:l}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=Array(n);for(r=0;r<n;++r)s=t[a=r+i],d[r]={x:o.parse(d6(s,c),a),y:l.parse(d6(s,u),a)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){let n=this.chart,r=this._cachedMeta,a=t[e.axis];return p4({keys:p3(n,!0),values:t._stacks[e.axis]._visualValues},a,r.index,{mode:i})}updateRangeFromParsed(e,t,i,n){let r=i[t.axis],a=null===r?NaN:r,s=n&&i._stacks[t.axis];n&&s&&(n.values=s,a=p4(n,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){let i,n;let r=this._cachedMeta,a=r._parsed,s=r._sorted&&e===r.iScale,o=a.length,l=this._getOtherScale(e),c=fi(t,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=function(e){let{min:t,max:i,minDefined:n,maxDefined:r}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?i:Number.POSITIVE_INFINITY}}(l);function p(){let t=(n=a[i])[l.axis];return!dV(n[e.axis])||d>t||h<t}for(i=0;i<o&&(p()||(this.updateRangeFromParsed(u,e,n,c),!s));++i);if(s){for(i=o-1;i>=0;--i)if(!p()){this.updateRangeFromParsed(u,e,n,c);break}}return u}getAllParsedValues(e){let t,i,n;let r=this._cachedMeta._parsed,a=[];for(t=0,i=r.length;t<i;++t)dV(n=r[t][e.axis])&&a.push(n);return a}getMaxOverflow(){return!1}getLabelAndValue(e){let t=this._cachedMeta,i=t.iScale,n=t.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:n?""+n.getLabelForValue(r[n.axis]):""}}_update(e){var t;let i,n,r,a;let s=this._cachedMeta;this.update(e||"default"),s._clip=(dz(t=dH(this.options.clip,function(e,t,i){if(!1===i)return!1;let n=p2(e,i),r=p2(t,i);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}(s.xScale,s.yScale,this.getMaxOverflow())))?(i=t.top,n=t.right,r=t.bottom,a=t.left):i=n=r=a=t,{top:i,right:n,bottom:r,left:a,disabled:!1===t})}update(e){}draw(){let e;let t=this._ctx,i=this.chart,n=this._cachedMeta,r=n.data||[],a=i.chartArea,s=[],o=this._drawStart||0,l=this._drawCount||r.length-o,c=this.options.drawActiveElementsOnTop;for(n.dataset&&n.dataset.draw(t,a,o,l),e=o;e<o+l;++e){let i=r[e];i.hidden||(i.active&&c?s.push(i):i.draw(t,a))}for(e=0;e<s.length;++e)s[e].draw(t,a)}getStyle(e,t){let i=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){var n;let r;let a=this.getDataset();if(e>=0&&e<this._cachedMeta.data.length){let t=this._cachedMeta.data[e];(r=t.$context||(t.$context=pd(this.getContext(),{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"}))).parsed=this.getParsed(e),r.raw=a.data[e],r.index=r.dataIndex=e}else(r=this.$context||(this.$context=pd(this.chart.getContext(),{active:!1,dataset:void 0,datasetIndex:n=this.index,index:n,mode:"default",type:"dataset"}))).dataset=a,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){let n="active"===t,r=this._cachedDataOpts,a=e+"-"+t,s=r[a],o=this.enableOptionSharing&&d9(i);if(s)return ft(s,o);let l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=n?[`${e}Hover`,"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),h=Object.keys(h0.elements[e]),p=l.resolveNamedOptions(d,h,()=>this.getContext(i,n,t),u);return p.$shared&&(p.$shared=o,r[a]=Object.freeze(ft(p,o))),p}_resolveAnimations(e,t,i){let n;let r=this.chart,a=this._cachedDataOpts,s=`animation-${t}`,o=a[s];if(o)return o;if(!1!==r.options.animation){let r=this.chart.config,a=r.datasetAnimationScopeKeys(this._type,t),s=r.getOptionScopes(this.getDataset(),a);n=r.createResolver(s,this.getContext(e,i,t))}let l=new p1(r,n&&n.animations);return n&&n._cacheable&&(a[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||fe(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){let i=this.resolveDataElementOptions(e,t),n=this._sharedOptions,r=this.getSharedOptions(i),a=this.includeOptions(t,r)||r!==n;return this.updateSharedOptions(r,t,i),{sharedOptions:r,includeOptions:a}}updateElement(e,t,i,n){fe(n)?Object.assign(e,i):this._resolveAnimations(t,n).update(e,i)}updateSharedOptions(e,t,i){e&&!fe(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,n){e.active=n;let r=this.getStyle(t,n);this._resolveAnimations(t,i,n).update(e,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let t=this._data,i=this._cachedMeta.data;for(let[e,t,i]of this._syncList)this[e](t,i);this._syncList=[];let n=i.length,r=t.length,a=Math.min(r,n);a&&this.parse(0,a),r>n?this._insertElements(n,r-n,e):r<n&&this._removeElements(r,n-r)}_insertElements(e,t,i=!0){let n;let r=this._cachedMeta,a=r.data,s=e+t,o=e=>{for(e.length+=t,n=e.length-1;n>=s;n--)e[n]=e[n-t]};for(o(a),n=e;n<s;++n)a[n]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(e,t),i&&this.updateElements(a,e,t,"reset")}updateElements(e,t,i,n){}_removeElements(e,t){let i=this._cachedMeta;if(this._parsing){let n=i._parsed.splice(e,t);i._stacked&&p7(i,n)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[t,i,n]=e;this[t](i,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);let i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function fr(e,t,i,n){return dK(e)?function(e,t,i,n){let r=i.parse(e[0],n),a=i.parse(e[1],n),s=Math.min(r,a),o=Math.max(r,a),l=s,c=o;Math.abs(s)>Math.abs(o)&&(l=o,c=s),t[i.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:a,min:s,max:o}}(e,t,i,n):t[i.axis]=i.parse(e,n),t}function fa(e,t,i,n){let r,a,s,o;let l=e.iScale,c=e.vScale,u=l.getLabels(),d=l===c,h=[];for(r=i,a=i+n;r<a;++r)o=t[r],(s={})[l.axis]=d||l.parse(u[r],r),h.push(fr(o,s,c,r));return h}function fs(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function fo(e,t,i,n){var r;return e=n?fl(e=(r=e)===t?i:r===i?t:r,i,t):fl(e,t,i)}function fl(e,t,i){return"start"===e?t:"end"===e?i:e}class fc extends fn{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,i,n){return fa(e,t,i,n)}parseArrayData(e,t,i,n){return fa(e,t,i,n)}parseObjectData(e,t,i,n){let r,a,s,o;let{iScale:l,vScale:c}=e,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,h="x"===l.axis?u:d,p="x"===c.axis?u:d,f=[];for(r=i,a=i+n;r<a;++r)o=t[r],(s={})[l.axis]=l.parse(d6(o,h),r),f.push(fr(d6(o,p),s,c,r));return f}updateRangeFromParsed(e,t,i,n){super.updateRangeFromParsed(e,t,i,n);let r=i._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let{iScale:t,vScale:i}=this._cachedMeta,n=this.getParsed(e),r=n._custom,a=fs(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(n[i.axis]);return{label:""+t.getLabelForValue(n[t.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){let t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,n){let r="reset"===n,{index:a,_cachedMeta:{vScale:s}}=this,o=s.getBasePixel(),l=s.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,n);for(let h=t;h<t+i;h++){let t=this.getParsed(h),i=r||dB(t[s.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,c),f=(t._stacks||{})[s.axis],m={horizontal:l,base:i.base,enableBorderRadius:!f||fs(t._custom)||a===f._top||a===f._bottom,x:l?i.head:p.center,y:l?p.center:i.head,height:l?p.size:Math.abs(i.size),width:l?Math.abs(i.size):p.size};d&&(m.options=u||this.resolveDataElementOptions(h,e[h].active?"active":n));let g=m.options||e[h].options;(function(e,t,i,n){let r,a,s,o,l,c=t.borderSkipped,u={};if(!c){e.borderSkipped=u;return}if(!0===c){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:d,end:h,reverse:p,top:f,bottom:m}=(e.horizontal?(r=e.base>e.x,a="left",s="right"):(r=e.base<e.y,a="bottom",s="top"),r?(o="end",l="start"):(o="start",l="end"),{start:a,end:s,reverse:r,top:o,bottom:l});"middle"===c&&i&&(e.enableBorderRadius=!0,(i._top||0)===n?c=f:(i._bottom||0)===n?c=m:(u[fo(m,d,h,p)]=!0,c=f)),u[fo(c,d,h,p)]=!0,e.borderSkipped=u})(m,g,f,a),function(e,{inflateAmount:t},i){e.inflateAmount="auto"===t?1===i?.33:0:t}(m,g,c.ratio),this.updateElement(e[h],h,m,n)}}_getStacks(e,t){let{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),r=i.options.stacked,a=[],s=e=>{let i=e.controller.getParsed(t),n=i&&i[e.vScale.axis];if(dB(n)||isNaN(n))return!0};for(let i of n)if(!(void 0!==t&&s(i))&&((!1===r||-1===a.indexOf(i.stack)||void 0===r&&void 0===i.stack)&&a.push(i.stack),i.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){let n=this._getStacks(e,i),r=void 0!==t?n.indexOf(t):-1;return -1===r?n.length-1:r}_getRuler(){let e,t;let i=this.options,n=this._cachedMeta,r=n.iScale,a=[];for(e=0,t=n.data.length;e<t;++e)a.push(r.getPixelForValue(this.getParsed(e)[r.axis],e));let s=i.barThickness;return{min:s||function(e){let t,i,n,r;let a=e.iScale,s=function(e,t){if(!e._cache.$bar){let i=e.getMatchingVisibleMetas(t),n=[];for(let t=0,r=i.length;t<r;t++)n=n.concat(i[t].controller.getAllParsedValues(e));e._cache.$bar=hP(n.sort((e,t)=>e-t))}return e._cache.$bar}(a,e.type),o=a._length,l=()=>{32767!==n&&-32768!==n&&(d9(r)&&(o=Math.min(o,Math.abs(n-r)||o)),r=n)};for(t=0,i=s.length;t<i;++t)n=a.getPixelForValue(s[t]),l();for(t=0,r=void 0,i=a.ticks.length;t<i;++t)n=a.getPixelForTick(t),l();return o}(n),pixels:a,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:i.grouped,ratio:s?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(e){let t,i;let{_cachedMeta:{vScale:n,_stacked:r,index:a},options:{base:s,minBarLength:o}}=this,l=s||0,c=this.getParsed(e),u=c._custom,d=fs(u),h=c[n.axis],p=0,f=r?this.applyStack(n,c,r):h;f!==h&&(p=f-h,f=h),d&&(h=u.barStart,f=u.barEnd-u.barStart,0!==h&&hu(h)!==hu(u.barEnd)&&(p=0),p+=h);let m=dB(s)||d?p:s,g=n.getPixelForValue(m);if(Math.abs(i=(t=this.chart.getDataVisibility(e)?n.getPixelForValue(p+f):g)-g)<o){var y;i=(0!==(y=i)?hu(y):(n.isHorizontal()?1:-1)*(n.min>=l?1:-1))*o,h===l&&(g-=i/2);let e=n.getPixelForDecimal(0),s=n.getPixelForDecimal(1);t=(g=Math.max(Math.min(g,Math.max(e,s)),Math.min(e,s)))+i,r&&!d&&(c._stacks[n.axis]._visualValues[a]=n.getValueForPixel(t)-n.getValueForPixel(g))}if(g===n.getPixelForValue(l)){let e=hu(i)*n.getLineWidthForValue(l)/2;g+=e,i-=e}return{size:i,base:g,head:t,center:t+i/2}}_calculateBarIndexPixels(e,t){let i,n;let r=t.scale,a=this.options,s=a.skipNull,o=dH(a.maxBarThickness,1/0);if(t.grouped){let r=s?this._getStackCount(e):t.stackCount,l="flex"===a.barThickness?function(e,t,i,n){let r=t.pixels,a=r[e],s=e>0?r[e-1]:null,o=e<r.length-1?r[e+1]:null,l=i.categoryPercentage;null===s&&(s=a-(null===o?t.end-t.start:o-a)),null===o&&(o=a+a-s);let c=a-(a-Math.min(s,o))/2*l;return{chunk:Math.abs(o-s)/2*l/n,ratio:i.barPercentage,start:c}}(e,t,a,r):function(e,t,i,n){let r,a;let s=i.barThickness;return dB(s)?(r=t.min*i.categoryPercentage,a=i.barPercentage):(r=s*n,a=1),{chunk:r/n,ratio:a,start:t.pixels[e]-r/2}}(e,t,a,r),c=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);i=l.start+l.chunk*c+l.chunk/2,n=Math.min(o,l.chunk*l.ratio)}else i=r.getPixelForValue(this.getParsed(e)[r.axis],e),n=Math.min(o,t.min*t.ratio);return{base:i-n/2,head:i+n/2,center:i,size:n}}draw(){let e=this._cachedMeta,t=e.vScale,i=e.data,n=i.length,r=0;for(;r<n;++r)null!==this.getParsed(r)[t.axis]&&i[r].draw(this._ctx)}}class fu extends fn{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,n){let r=super.parsePrimitiveData(e,t,i,n);for(let e=0;e<r.length;e++)r[e]._custom=this.resolveDataElementOptions(e+i).radius;return r}parseArrayData(e,t,i,n){let r=super.parseArrayData(e,t,i,n);for(let e=0;e<r.length;e++){let n=t[i+e];r[e]._custom=dH(n[2],this.resolveDataElementOptions(e+i).radius)}return r}parseObjectData(e,t,i,n){let r=super.parseObjectData(e,t,i,n);for(let e=0;e<r.length;e++){let n=t[i+e];r[e]._custom=dH(n&&n.r&&+n.r,this.resolveDataElementOptions(e+i).radius)}return r}getMaxOverflow(){let e=this._cachedMeta.data,t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){let t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=t,a=this.getParsed(e),s=n.getLabelForValue(a.x),o=r.getLabelForValue(a.y),l=a._custom;return{label:i[e]||"",value:"("+s+", "+o+(l?", "+l:"")+")"}}update(e){let t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,n){let r="reset"===n,{iScale:a,vScale:s}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,n),c=a.axis,u=s.axis;for(let d=t;d<t+i;d++){let t=e[d],i=!r&&this.getParsed(d),h={},p=h[c]=r?a.getPixelForDecimal(.5):a.getPixelForValue(i[c]),f=h[u]=r?s.getBasePixel():s.getPixelForValue(i[u]);h.skip=isNaN(p)||isNaN(f),l&&(h.options=o||this.resolveDataElementOptions(d,t.active?"active":n),r&&(h.options.radius=0)),this.updateElement(t,d,h,n)}}resolveDataElementOptions(e,t){let i=this.getParsed(e),n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));let r=n.radius;return"active"!==t&&(n.radius=0),n.radius+=dH(i&&i._custom,r),n}}class fd extends fn{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:i,color:n}}=e.legend.options;return t.labels.map((t,r)=>{let a=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){let i=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=i;else{let r,a,s=e=>+i[e];if(dz(i[e])){let{key:e="value"}=this._parsing;s=t=>+d6(i[t],e)}for(r=e,a=e+t;r<a;++r)n._parsed[r]=s(r)}}_getRotation(){return hm(this.options.rotation-90)}_getCircumference(){return hm(this.options.circumference)}_getRotationExtents(){let e=hi,t=-hi;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let n=this.chart.getDatasetMeta(i).controller,r=n._getRotation(),a=n._getCircumference();e=Math.min(e,r),t=Math.max(t,r+a)}return{rotation:e,circumference:t-e}}update(e){let{chartArea:t}=this.chart,i=this._cachedMeta,n=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,a=Math.max((Math.min(t.width,t.height)-r)/2,0),s=Math.min(dG(this.options.cutout,a),1),o=this._getRingWeight(this.index),{circumference:l,rotation:c}=this._getRotationExtents(),{ratioX:u,ratioY:d,offsetX:h,offsetY:p}=function(e,t,i){let n=1,r=1,a=0,s=0;if(t<hi){let o=e+t,l=Math.cos(e),c=Math.sin(e),u=Math.cos(o),d=Math.sin(o),h=(t,n,r)=>hx(t,e,o,!0)?1:Math.max(n,n*i,r,r*i),p=(t,n,r)=>hx(t,e,o,!0)?-1:Math.min(n,n*i,r,r*i),f=h(0,l,u),m=h(hs,c,d),g=p(ht,l,u),y=p(ht+hs,c,d);n=(f-g)/2,r=(m-y)/2,a=-(f+g)/2,s=-(m+y)/2}return{ratioX:n,ratioY:r,offsetX:a,offsetY:s}}(c,l,s),f=(t.width-r)/u,m=(t.height-r)/d,g=dJ(this.options.radius,Math.max(Math.min(f,m)/2,0)),y=Math.max(g*s,0),v=(g-y)/this._getVisibleDatasetWeightTotal();this.offsetX=h*g,this.offsetY=p*g,i.total=this.calculateTotal(),this.outerRadius=g-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*o,0),this.updateElements(n,0,n.length,e)}_circumference(e,t){let i=this.options,n=this._cachedMeta,r=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||null===n._parsed[e]||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*r/hi)}updateElements(e,t,i,n){let r;let a="reset"===n,s=this.chart,o=s.chartArea,l=s.options.animation,c=(o.left+o.right)/2,u=(o.top+o.bottom)/2,d=a&&l.animateScale,h=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(t,n),g=this._getRotation();for(r=0;r<t;++r)g+=this._circumference(r,a);for(r=t;r<t+i;++r){let t=this._circumference(r,a),i=e[r],s={x:c+this.offsetX,y:u+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:p,innerRadius:h};m&&(s.options=f||this.resolveDataElementOptions(r,i.active?"active":n)),g+=t,this.updateElement(i,r,s,n)}}calculateTotal(){let e;let t=this._cachedMeta,i=t.data,n=0;for(e=0;e<i.length;e++){let r=t._parsed[e];null!==r&&!isNaN(r)&&this.chart.getDataVisibility(e)&&!i[e].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(e){let t=this._cachedMeta.total;return t>0&&!isNaN(e)?Math.abs(e)/t*hi:0}getLabelAndValue(e){let t=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=hW(t._parsed[e],i.options.locale);return{label:n[e]||"",value:r}}getMaxBorderWidth(e){let t,i,n,r,a,s=0,o=this.chart;if(!e){for(t=0,i=o.data.datasets.length;t<i;++t)if(o.isDatasetVisible(t)){e=(n=o.getDatasetMeta(t)).data,r=n.controller;break}}if(!e)return 0;for(t=0,i=e.length;t<i;++t)"inner"!==(a=r.resolveDataElementOptions(t)).borderAlign&&(s=Math.max(s,a.borderWidth||0,a.hoverBorderWidth||0));return s}getMaxOffset(e){let t=0;for(let i=0,n=e.length;i<n;++i){let e=this.resolveDataElementOptions(i);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(dH(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class fh extends fn{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let t=this._cachedMeta,{dataset:i,data:n=[],_dataset:r}=t,a=this.chart._animationsDisabled,{start:s,count:o}=hN(t,n,a);this._drawStart=s,this._drawCount=o,hL(t)&&(s=0,o=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=n;let l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:l},e),this.updateElements(n,s,o,e)}updateElements(e,t,i,n){let r="reset"===n,{iScale:a,vScale:s,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,n),d=a.axis,h=s.axis,{spanGaps:p,segment:f}=this.options,m=hp(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||"none"===n,y=t+i,v=e.length,b=t>0&&this.getParsed(t-1);for(let i=0;i<v;++i){let p=e[i],v=g?p:{};if(i<t||i>=y){v.skip=!0;continue}let w=this.getParsed(i),x=dB(w[h]),k=v[d]=a.getPixelForValue(w[d],i),S=v[h]=r||x?s.getBasePixel():s.getPixelForValue(o?this.applyStack(s,w,o):w[h],i);v.skip=isNaN(k)||isNaN(S)||x,v.stop=i>0&&Math.abs(w[d]-b[d])>m,f&&(v.parsed=w,v.raw=l.data[i]),u&&(v.options=c||this.resolveDataElementOptions(i,p.active?"active":n)),g||this.updateElement(p,i,v,n),b=w}}getMaxOverflow(){let e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,n=e.data||[];return n.length?Math.max(i,n[0].size(this.resolveDataElementOptions(0)),n[n.length-1].size(this.resolveDataElementOptions(n.length-1)))/2:i}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class fp extends fn{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:i,color:n}}=e.legend.options;return t.labels.map((t,r)=>{let a=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let t=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=hW(t._parsed[e].r,i.options.locale);return{label:n[e]||"",value:r}}parseObjectData(e,t,i,n){return pS.bind(this)(e,t,i,n)}update(e){let t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){let e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,i)=>{let n=this.getParsed(i).r;!isNaN(n)&&this.chart.getDataVisibility(i)&&(n<t.min&&(t.min=n),n>t.max&&(t.max=n))}),t}_updateRadius(){let e=this.chart,t=e.chartArea,i=e.options,n=Math.max(Math.min(t.right-t.left,t.bottom-t.top)/2,0),r=Math.max(i.cutoutPercentage?n/100*i.cutoutPercentage:1,0),a=(n-r)/e.getVisibleDatasetCount();this.outerRadius=n-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,i,n){let r;let a="reset"===n,s=this.chart,o=s.options.animation,l=this._cachedMeta.rScale,c=l.xCenter,u=l.yCenter,d=l.getIndexAngle(0)-.5*ht,h=d,p=360/this.countVisibleElements();for(r=0;r<t;++r)h+=this._computeAngle(r,n,p);for(r=t;r<t+i;r++){let t=e[r],i=h,f=h+this._computeAngle(r,n,p),m=s.getDataVisibility(r)?l.getDistanceFromCenterForValue(this.getParsed(r).r):0;h=f,a&&(o.animateScale&&(m=0),o.animateRotate&&(i=f=d));let g={x:c,y:u,innerRadius:0,outerRadius:m,startAngle:i,endAngle:f,options:this.resolveDataElementOptions(r,t.active?"active":n)};this.updateElement(t,r,g,n)}}countVisibleElements(){let e=this._cachedMeta,t=0;return e.data.forEach((e,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?hm(this.resolveDataElementOptions(e,t).angle||i):0}}class ff extends fd{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class fm extends fn{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,n){return pS.bind(this)(e,t,i,n)}update(e){let t=this._cachedMeta,i=t.dataset,n=t.data||[],r=t.iScale.getLabels();if(i.points=n,"resize"!==e){let t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);let a={_loop:!0,_fullLoop:r.length===n.length,options:t};this.updateElement(i,void 0,a,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,i,n){let r=this._cachedMeta.rScale,a="reset"===n;for(let s=t;s<t+i;s++){let t=e[s],i=this.resolveDataElementOptions(s,t.active?"active":n),o=r.getPointPositionForValue(s,this.getParsed(s).r),l=a?r.xCenter:o.x,c=a?r.yCenter:o.y,u={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:i};this.updateElement(t,s,u,n)}}}class fg extends fn{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=t,a=this.getParsed(e),s=n.getLabelForValue(a.x),o=r.getLabelForValue(a.y);return{label:i[e]||"",value:"("+s+", "+o+")"}}update(e){let t=this._cachedMeta,{data:i=[]}=t,n=this.chart._animationsDisabled,{start:r,count:a}=hN(t,i,n);if(this._drawStart=r,this._drawCount=a,hL(t)&&(r=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:r,_dataset:a}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=i;let s=this.resolveDatasetElementOptions(e);s.segment=this.options.segment,this.updateElement(r,void 0,{animated:!n,options:s},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,r,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,n){let r="reset"===n,{iScale:a,vScale:s,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,n),u=this.getSharedOptions(c),d=this.includeOptions(n,u),h=a.axis,p=s.axis,{spanGaps:f,segment:m}=this.options,g=hp(f)?f:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||"none"===n,v=t>0&&this.getParsed(t-1);for(let c=t;c<t+i;++c){let t=e[c],i=this.getParsed(c),f=y?t:{},b=dB(i[p]),w=f[h]=a.getPixelForValue(i[h],c),x=f[p]=r||b?s.getBasePixel():s.getPixelForValue(o?this.applyStack(s,i,o):i[p],c);f.skip=isNaN(w)||isNaN(x)||b,f.stop=c>0&&Math.abs(i[h]-v[h])>g,m&&(f.parsed=i,f.raw=l.data[c]),d&&(f.options=u||this.resolveDataElementOptions(c,t.active?"active":n)),y||this.updateElement(t,c,f,n),v=i}this.updateSharedOptions(u,n,c)}getMaxOverflow(){let e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}let i=e.dataset,n=i.options&&i.options.borderWidth||0;return t.length?Math.max(n,t[0].size(this.resolveDataElementOptions(0)),t[t.length-1].size(this.resolveDataElementOptions(t.length-1)))/2:n}}function fy(){throw Error("This method is not implemented: Check that a complete date adapter is provided.")}class fv{static override(e){Object.assign(fv.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return fy()}parse(){return fy()}format(){return fy()}add(){return fy()}diff(){return fy()}startOf(){return fy()}endOf(){return fy()}}var fb={_date:fv};function fw(e,t,i,n,r){let a=e.getSortedVisibleDatasetMetas(),s=i[t];for(let e=0,i=a.length;e<i;++e){let{index:i,data:o}=a[e],{lo:l,hi:c}=function(e,t,i,n){let{controller:r,data:a,_sorted:s}=e,o=r._cachedMeta.iScale;if(o&&t===o.axis&&"r"!==t&&s&&a.length){let e=o._reversePixels?hE:hR;if(!n)return e(a,t,i);if(r._sharedOptions){let n=a[0],r="function"==typeof n.getRange&&n.getRange(t);if(r){let n=e(a,t,i-r),s=e(a,t,i+r);return{lo:n.lo,hi:s.hi}}}}return{lo:0,hi:a.length-1}}(a[e],t,s,r);for(let e=l;e<=c;++e){let t=o[e];t.skip||n(t,i,e)}}}function fx(e,t,i,n,r){let a=[];return(r||e.isPointInArea(t))&&fw(e,i,t,function(i,s,o){(r||h5(i,e.chartArea,0))&&i.inRange(t.x,t.y,n)&&a.push({element:i,datasetIndex:s,index:o})},!0),a}function fk(e,t,i,n,r,a){let s;return a||e.isPointInArea(t)?"r"!==i||n?function(e,t,i,n,r,a){let s=[],o=function(e){let t=-1!==e.indexOf("x"),i=-1!==e.indexOf("y");return function(e,n){return Math.sqrt(Math.pow(t?Math.abs(e.x-n.x):0,2)+Math.pow(i?Math.abs(e.y-n.y):0,2))}}(i),l=Number.POSITIVE_INFINITY;return fw(e,i,t,function(i,c,u){let d=i.inRange(t.x,t.y,r);if(n&&!d)return;let h=i.getCenterPoint(r);if(!(a||e.isPointInArea(h))&&!d)return;let p=o(t,h);p<l?(s=[{element:i,datasetIndex:c,index:u}],l=p):p===l&&s.push({element:i,datasetIndex:c,index:u})}),s}(e,t,i,n,r,a):(s=[],fw(e,i,t,function(e,i,n){let{startAngle:a,endAngle:o}=e.getProps(["startAngle","endAngle"],r),{angle:l}=hy(e,{x:t.x,y:t.y});hx(l,a,o)&&s.push({element:e,datasetIndex:i,index:n})}),s):[]}function fS(e,t,i,n,r){let a=[],s="x"===i?"inXRange":"inYRange",o=!1;return(fw(e,i,t,(e,n,l)=>{e[s](t[i],r)&&(a.push({element:e,datasetIndex:n,index:l}),o=o||e.inRange(t.x,t.y,r))}),n&&!o)?[]:a}var f_={modes:{index(e,t,i,n){let r=pL(t,e),a=i.axis||"x",s=i.includeInvisible||!1,o=i.intersect?fx(e,r,a,n,s):fk(e,r,a,!1,n,s),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{let t=o[0].index,i=e.data[t];i&&!i.skip&&l.push({element:i,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,i,n){let r=pL(t,e),a=i.axis||"xy",s=i.includeInvisible||!1,o=i.intersect?fx(e,r,a,n,s):fk(e,r,a,!1,n,s);if(o.length>0){let t=o[0].datasetIndex,i=e.getDatasetMeta(t).data;o=[];for(let e=0;e<i.length;++e)o.push({element:i[e],datasetIndex:t,index:e})}return o},point(e,t,i,n){let r=pL(t,e);return fx(e,r,i.axis||"xy",n,i.includeInvisible||!1)},nearest(e,t,i,n){let r=pL(t,e),a=i.axis||"xy",s=i.includeInvisible||!1;return fk(e,r,a,i.intersect,n,s)},x(e,t,i,n){let r=pL(t,e);return fS(e,r,"x",i.intersect,n)},y(e,t,i,n){let r=pL(t,e);return fS(e,r,"y",i.intersect,n)}}};let fR=["left","top","right","bottom"];function fE(e,t){return e.filter(e=>e.pos===t)}function fT(e,t){return e.filter(e=>-1===fR.indexOf(e.pos)&&e.box.axis===t)}function fC(e,t){return e.sort((e,i)=>{let n=t?i:e,r=t?e:i;return n.weight===r.weight?n.index-r.index:n.weight-r.weight})}function fP(e,t,i,n){return Math.max(e[i],t[i])+Math.max(e[n],t[n])}function fA(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function fI(e,t,i,n){let r,a,s,o,l,c;let u=[];for(r=0,a=e.length,l=0;r<a;++r){(o=(s=e[r]).box).update(s.width||t.w,s.height||t.h,function(e,t){let i=t.maxPadding;return function(e){let n={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{n[e]=Math.max(t[e],i[e])}),n}(e?["left","right"]:["top","bottom"])}(s.horizontal,t));let{same:a,other:d}=function(e,t,i,n){let{pos:r,box:a}=i,s=e.maxPadding;if(!dz(r)){i.size&&(e[r]-=i.size);let t=n[i.stack]||{size:0,count:1};t.size=Math.max(t.size,i.horizontal?a.height:a.width),i.size=t.size/t.count,e[r]+=i.size}a.getPadding&&fA(s,a.getPadding());let o=Math.max(0,t.outerWidth-fP(s,e,"left","right")),l=Math.max(0,t.outerHeight-fP(s,e,"top","bottom")),c=o!==e.w,u=l!==e.h;return e.w=o,e.h=l,i.horizontal?{same:c,other:u}:{same:u,other:c}}(t,i,s,n);l|=a&&u.length,c=c||d,o.fullSize||u.push(s)}return l&&fI(u,t,i,n)||c}function fO(e,t,i,n,r){e.top=i,e.left=t,e.right=t+n,e.bottom=i+r,e.width=n,e.height=r}function fj(e,t,i,n){let r=i.padding,{x:a,y:s}=t;for(let o of e){let e=o.box,l=n[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){let n=t.w*c,a=l.size||e.height;d9(l.start)&&(s=l.start),e.fullSize?fO(e,r.left,s,i.outerWidth-r.right-r.left,a):fO(e,t.left+l.placed,s,n,a),l.start=s,l.placed+=n,s=e.bottom}else{let n=t.h*c,s=l.size||e.width;d9(l.start)&&(a=l.start),e.fullSize?fO(e,a,r.top,s,i.outerHeight-r.bottom-r.top):fO(e,a,t.top+l.placed,s,n),l.start=a,l.placed+=n,a=e.right}}t.x=a,t.y=s}var fN={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){let i=e.boxes?e.boxes.indexOf(t):-1;-1!==i&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,n){if(!e)return;let r=pl(e.options.layout.padding),a=Math.max(t-r.width,0),s=Math.max(i-r.height,0),o=function(e){let t=function(e){let t,i,n,r,a,s;let o=[];for(t=0,i=(e||[]).length;t<i;++t)n=e[t],({position:r,options:{stack:a,stackWeight:s=1}}=n),o.push({index:t,box:n,pos:r,horizontal:n.isHorizontal(),weight:n.weight,stack:a&&r+a,stackWeight:s});return o}(e),i=fC(t.filter(e=>e.box.fullSize),!0),n=fC(fE(t,"left"),!0),r=fC(fE(t,"right")),a=fC(fE(t,"top"),!0),s=fC(fE(t,"bottom")),o=fT(t,"x"),l=fT(t,"y");return{fullSize:i,leftAndTop:n.concat(a),rightAndBottom:r.concat(l).concat(s).concat(o),chartArea:fE(t,"chartArea"),vertical:n.concat(r).concat(l),horizontal:a.concat(s).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;dX(e.boxes,e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()});let u=Object.freeze({outerWidth:t,outerHeight:i,padding:r,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/(l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1),hBoxMaxHeight:s/2}),d=Object.assign({},r);fA(d,pl(n));let h=Object.assign({maxPadding:d,w:a,h:s,x:r.left,y:r.top},r),p=function(e,t){let i,n,r;let a=function(e){let t={};for(let i of e){let{stack:e,pos:n,stackWeight:r}=i;if(!e||!fR.includes(n))continue;let a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}(e),{vBoxMaxWidth:s,hBoxMaxHeight:o}=t;for(i=0,n=e.length;i<n;++i){let{fullSize:n}=(r=e[i]).box,l=a[r.stack],c=l&&r.stackWeight/l.weight;r.horizontal?(r.width=c?c*s:n&&t.availableWidth,r.height=o):(r.width=s,r.height=c?c*o:n&&t.availableHeight)}return a}(l.concat(c),u);fI(o.fullSize,h,u,p),fI(l,h,u,p),fI(c,h,u,p)&&fI(l,h,u,p),function(e){let t=e.maxPadding;function i(i){let n=Math.max(t[i]-e[i],0);return e[i]+=n,n}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}(h),fj(o.leftAndTop,h,u,p),h.x+=h.w,h.y+=h.h,fj(o.rightAndBottom,h,u,p),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},dX(o.chartArea,t=>{let i=t.box;Object.assign(i,e.chartArea),i.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class fL{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,n){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):i)}}isAttached(e){return!0}updateConfig(e){}}class fD extends fL{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}let fU="$chartjs",fq={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fM=e=>null===e||""===e,fF=!!pq&&{passive:!0};function f$(e,t){for(let i of e)if(i===t||i.contains(t))return!0}function fB(e,t,i){let n=e.canvas,r=new MutationObserver(e=>{let t=!1;for(let i of e)t=(t=t||f$(i.addedNodes,n))&&!f$(i.removedNodes,n);t&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}function fK(e,t,i){let n=e.canvas,r=new MutationObserver(e=>{let t=!1;for(let i of e)t=(t=t||f$(i.removedNodes,n))&&!f$(i.addedNodes,n);t&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}let fz=new Map,fV=0;function fW(){let e=window.devicePixelRatio;e!==fV&&(fV=e,fz.forEach((t,i)=>{i.currentDevicePixelRatio!==e&&t()}))}function fH(e,t,i){let n=e.canvas,r=n&&pP(n);if(!r)return;let a=hI((e,t)=>{let n=r.clientWidth;i(e,t),n<r.clientWidth&&i()},window),s=new ResizeObserver(e=>{let t=e[0],i=t.contentRect.width,n=t.contentRect.height;(0!==i||0!==n)&&a(i,n)});return s.observe(r),fz.size||window.addEventListener("resize",fW),fz.set(e,a),s}function fG(e,t,i){i&&i.disconnect(),"resize"===t&&(fz.delete(e),fz.size||window.removeEventListener("resize",fW))}function fJ(e,t,i){let n=e.canvas,r=hI(t=>{null!==e.ctx&&i(function(e,t){let i=fq[e.type]||e.type,{x:n,y:r}=pL(e,t);return{type:i,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==r?r:null}}(t,e))},e);return n&&n.addEventListener(t,r,fF),r}class fY extends fL{acquireContext(e,t){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(function(e,t){let i=e.style,n=e.getAttribute("height"),r=e.getAttribute("width");if(e[fU]={initial:{height:n,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",fM(r)){let t=pM(e,"width");void 0!==t&&(e.width=t)}if(fM(n)){if(""===e.style.height)e.height=e.width/(t||2);else{let t=pM(e,"height");void 0!==t&&(e.height=t)}}}(e,t),i):null}releaseContext(e){let t=e.canvas;if(!t[fU])return!1;let i=t[fU].initial;["height","width"].forEach(e=>{let n=i[e];dB(n)?t.removeAttribute(e):t.setAttribute(e,n)});let n=i.style||{};return Object.keys(n).forEach(e=>{t.style[e]=n[e]}),t.width=t.width,delete t[fU],!0}addEventListener(e,t,i){this.removeEventListener(e,t);let n=e.$proxies||(e.$proxies={}),r={attach:fB,detach:fK,resize:fH}[t]||fJ;n[t]=r(e,t,i)}removeEventListener(e,t){let i=e.$proxies||(e.$proxies={}),n=i[t];n&&((({attach:fG,detach:fG,resize:fG})[t]||function(e,t,i){e&&e.canvas&&e.canvas.removeEventListener(t,i,fF)})(e,t,n),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,n){return function(e,t,i,n){let r=pI(e),a=pj(r,"margin"),s=pA(r.maxWidth,e,"clientWidth")||hr,o=pA(r.maxHeight,e,"clientHeight")||hr,l=function(e,t,i){let n,r;if(void 0===t||void 0===i){let a=pP(e);if(a){let e=a.getBoundingClientRect(),s=pI(a),o=pj(s,"border","width"),l=pj(s,"padding");t=e.width-l.width-o.width,i=e.height-l.height-o.height,n=pA(s.maxWidth,a,"clientWidth"),r=pA(s.maxHeight,a,"clientHeight")}else t=e.clientWidth,i=e.clientHeight}return{width:t,height:i,maxWidth:n||hr,maxHeight:r||hr}}(e,t,i),{width:c,height:u}=l;if("content-box"===r.boxSizing){let e=pj(r,"border","width"),t=pj(r,"padding");c-=t.width+e.width,u-=t.height+e.height}return c=Math.max(0,c-a.width),u=Math.max(0,n?c/n:u-a.height),c=pD(Math.min(c,s,l.maxWidth)),u=pD(Math.min(u,o,l.maxHeight)),c&&!u&&(u=pD(c/2)),(void 0!==t||void 0!==i)&&n&&l.height&&u>l.height&&(c=pD(Math.floor((u=l.height)*n))),{width:c,height:u}}(e,t,i,n)}isAttached(e){let t=pP(e);return!!(t&&t.isConnected)}}class fX{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return hp(this.x)&&hp(this.y)}getProps(e,t){let i=this.$animations;if(!t||!i)return this;let n={};return e.forEach(e=>{n[e]=i[e]&&i[e].active()?i[e]._to:this[e]}),n}}function fQ(e,t,i,n,r){let a,s,o;let l=dH(n,0),c=Math.min(dH(r,e.length),e.length),u=0;for(i=Math.ceil(i),r&&(i=(a=r-n)/Math.floor(a/i)),o=l;o<0;)o=Math.round(l+ ++u*i);for(s=Math.max(l,0);s<c;s++)s===o&&(t.push(e[s]),o=Math.round(l+ ++u*i))}let fZ=e=>"left"===e?"right":"right"===e?"left":e,f0=(e,t,i)=>"top"===t||"left"===t?e[t]+i:e[t]-i,f1=(e,t)=>Math.min(t||e,e);function f2(e,t){let i=[],n=e.length/t,r=e.length,a=0;for(;a<r;a+=n)i.push(e[Math.floor(a)]);return i}function f3(e){return e.drawTicks?e.tickLength:0}function f4(e,t){if(!e.display)return 0;let i=pc(e.font,t),n=pl(e.padding);return(dK(e.text)?e.text.length:1)*i.lineHeight+n.height}class f5 extends fX{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:n}=this;return e=dW(e,Number.POSITIVE_INFINITY),t=dW(t,Number.NEGATIVE_INFINITY),i=dW(i,Number.POSITIVE_INFINITY),n=dW(n,Number.NEGATIVE_INFINITY),{min:dW(e,i),max:dW(t,n),minDefined:dV(e),maxDefined:dV(t)}}getMinMax(e){let t,{min:i,max:n,minDefined:r,maxDefined:a}=this.getUserBounds();if(r&&a)return{min:i,max:n};let s=this.getMatchingVisibleMetas();for(let o=0,l=s.length;o<l;++o)t=s[o].controller.getMinMax(this,e),r||(i=Math.min(i,t.min)),a||(n=Math.max(n,t.max));return i=a&&i>n?n:i,n=r&&i>n?i:n,{min:dW(i,dW(n,i)),max:dW(n,dW(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){dY(this.options.beforeUpdate,[this])}update(e,t,i){let{beginAtZero:n,grace:r,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,i){let{min:n,max:r}=e,a=dJ(t,(r-n)/2),s=(e,t)=>i&&0===e?0:e+t;return{min:s(n,-Math.abs(a)),max:s(r,a)}}(this,r,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let o=s<this.ticks.length;this._convertTicksToLabels(o?f2(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function(e,t){let i=e.options.ticks,n=function(e){let t=e.options.offset,i=e._tickSize();return Math.floor(Math.min(e._length/i+(t?0:1),e._maxLength/i))}(e),r=Math.min(i.maxTicksLimit||n,n),a=i.major.enabled?function(e){let t,i;let n=[];for(t=0,i=e.length;t<i;t++)e[t].major&&n.push(t);return n}(t):[],s=a.length,o=a[0],l=a[s-1],c=[];if(s>r)return function(e,t,i,n){let r,a=0,s=i[0];for(r=0,n=Math.ceil(n);r<e.length;r++)r===s&&(t.push(e[r]),s=i[++a*n])}(t,c,a,s/r),c;let u=function(e,t,i){let n=function(e){let t,i;let n=e.length;if(n<2)return!1;for(i=e[0],t=1;t<n;++t)if(e[t]-e[t-1]!==i)return!1;return i}(e),r=t.length/i;if(!n)return Math.max(r,1);let a=function(e){let t;let i=[],n=Math.sqrt(e);for(t=1;t<n;t++)e%t==0&&(i.push(t),i.push(e/t));return n===(0|n)&&i.push(n),i.sort((e,t)=>e-t).pop(),i}(n);for(let e=0,t=a.length-1;e<t;e++){let t=a[e];if(t>r)return t}return Math.max(r,1)}(a,t,r);if(s>0){let e,i;let n=s>1?Math.round((l-o)/(s-1)):null;for(fQ(t,c,u,dB(n)?0:o-n,o),e=0,i=s-1;e<i;e++)fQ(t,c,u,a[e],a[e+1]);return fQ(t,c,u,l,dB(n)?t.length:l+n),c}return fQ(t,c,u),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,i=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,i=!i),this._startPixel=e,this._endPixel=t,this._reversePixels=i,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){dY(this.options.afterUpdate,[this])}beforeSetDimensions(){dY(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){dY(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),dY(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){dY(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t,i,n;let r=this.options.ticks;for(t=0,i=e.length;t<i;t++)(n=e[t]).label=dY(r.callback,[n.value,t,e],this)}afterTickToLabelConversion(){dY(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){dY(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e,t,i;let n=this.options,r=n.ticks,a=f1(this.ticks.length,n.ticks.maxTicksLimit),s=r.minRotation||0,o=r.maxRotation,l=s;if(!this._isVisible()||!r.display||s>=o||a<=1||!this.isHorizontal()){this.labelRotation=s;return}let c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,h=hk(this.chart.width-u,0,this.maxWidth);u+6>(e=n.offset?this.maxWidth/a:h/(a-1))&&(e=h/(a-(n.offset?.5:1)),t=this.maxHeight-f3(n.grid)-r.padding-f4(n.title,this.chart.options.font),i=Math.sqrt(u*u+d*d),l=Math.max(s,Math.min(o,l=180/ht*Math.min(Math.asin(hk((c.highest.height+6)/e,-1,1)),Math.asin(hk(t/i,-1,1))-Math.asin(hk(d/i,-1,1)))))),this.labelRotation=l}afterCalculateLabelRotation(){dY(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){dY(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:i,title:n,grid:r}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){let a=f4(n,t.options.font);if(s?(e.width=this.maxWidth,e.height=f3(r)+a):(e.height=this.maxHeight,e.width=f3(r)+a),i.display&&this.ticks.length){let{first:t,last:n,widest:r,highest:a}=this._getLabelSizes(),o=2*i.padding,l=hm(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(s){let t=i.mirror?0:u*r.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{let t=i.mirror?0:c*r.width+u*a.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,n,u,c)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,n){let{ticks:{align:r,padding:a},position:s}=this.options,o=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){let s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1),u=0,d=0;o?l?(u=n*e.width,d=i*t.height):(u=i*e.height,d=n*t.width):"start"===r?d=t.width:"end"===r?u=e.width:"inner"!==r&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-s+a)*this.width/(this.width-s),0),this.paddingRight=Math.max((d-c+a)*this.width/(this.width-c),0)}else{let i=t.height/2,n=e.height/2;"start"===r?(i=0,n=e.height):"end"===r&&(i=t.height,n=0),this.paddingTop=i+a,this.paddingBottom=n+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){dY(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,i=e.length;t<i;t++)dB(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,i=this.ticks;t<i.length&&(i=f2(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){let n,r,a,s,o,l,c,u,d,h,p;let{ctx:f,_longestTextCache:m}=this,g=[],y=[],v=Math.floor(t/f1(t,i)),b=0,w=0;for(n=0;n<t;n+=v){if(s=e[n].label,o=this._resolveTickFontOptions(n),f.font=l=o.string,c=m[l]=m[l]||{data:{},gc:[]},u=o.lineHeight,d=h=0,dB(s)||dK(s)){if(dK(s))for(r=0,a=s.length;r<a;++r)dB(p=s[r])||dK(p)||(d=h1(f,c.data,c.gc,d,p),h+=u)}else d=h1(f,c.data,c.gc,d,s),h=u;g.push(d),y.push(h),b=Math.max(d,b),w=Math.max(h,w)}dX(m,e=>{let i;let n=e.gc,r=n.length/2;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}});let x=g.indexOf(b),k=y.indexOf(w),S=e=>({width:g[e]||0,height:y[e]||0});return{first:S(0),last:S(t-1),widest:S(x),highest:S(k),widths:g,heights:y}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return hk(this._alignToPixels?h2(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let i=t[e];return i.$context||(i.$context=pd(this.getContext(),{tick:i,index:e,type:"tick"}))}return this.$context||(this.$context=pd(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){let e=this.options.ticks,t=hm(this.labelRotation),i=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,s=r?r.widest.width+a:0,o=r?r.highest.height+a:0;return this.isHorizontal()?o*i>s*n?s/i:o/n:o*n<s*i?o/i:s/n}_isVisible(){let e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t,i,n,r,a,s,o,l,c,u,d,h;let p=this.axis,f=this.chart,m=this.options,{grid:g,position:y,border:v}=m,b=g.offset,w=this.isHorizontal(),x=this.ticks.length+(b?1:0),k=f3(g),S=[],_=v.setContext(this.getContext()),R=_.display?_.width:0,E=R/2,T=function(e){return h2(f,e,R)};if("top"===y)t=T(this.bottom),s=this.bottom-k,l=t-E,u=T(e.top)+E,h=e.bottom;else if("bottom"===y)t=T(this.top),u=e.top,h=T(e.bottom)-E,s=t+E,l=this.top+k;else if("left"===y)t=T(this.right),a=this.right-k,o=t-E,c=T(e.left)+E,d=e.right;else if("right"===y)t=T(this.left),c=e.left,d=T(e.right)-E,a=t+E,o=this.left+k;else if("x"===p){if("center"===y)t=T((e.top+e.bottom)/2+.5);else if(dz(y)){let e=Object.keys(y)[0],i=y[e];t=T(this.chart.scales[e].getPixelForValue(i))}u=e.top,h=e.bottom,l=(s=t+E)+k}else if("y"===p){if("center"===y)t=T((e.left+e.right)/2);else if(dz(y)){let e=Object.keys(y)[0],i=y[e];t=T(this.chart.scales[e].getPixelForValue(i))}o=(a=t-E)-k,c=e.left,d=e.right}let C=dH(m.ticks.maxTicksLimit,x),P=Math.max(1,Math.ceil(x/C));for(i=0;i<x;i+=P){let e=this.getContext(i),t=g.setContext(e),p=v.setContext(e),m=t.lineWidth,y=t.color,x=p.dash||[],k=p.dashOffset,_=t.tickWidth,R=t.tickColor,E=t.tickBorderDash||[],T=t.tickBorderDashOffset;void 0!==(n=function(e,t,i){let n;let r=e.ticks.length,a=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,l=e.getPixelForTick(a);if(!i||(n=1===r?Math.max(l-s,o-l):0===t?(e.getPixelForTick(1)-l)/2:(l-e.getPixelForTick(a-1))/2,!((l+=a<t?n:-n)<s-1e-6)&&!(l>o+1e-6)))return l}(this,i,b))&&(r=h2(f,n,m),w?a=o=c=d=r:s=l=u=h=r,S.push({tx1:a,ty1:s,tx2:o,ty2:l,x1:c,y1:u,x2:d,y2:h,width:m,color:y,borderDash:x,borderDashOffset:k,tickWidth:_,tickColor:R,tickBorderDash:E,tickBorderDashOffset:T}))}return this._ticksLength=x,this._borderValue=t,S}_computeLabelItems(e){let t,i,n,r,a,s,o,l,c,u,d;let h=this.axis,p=this.options,{position:f,ticks:m}=p,g=this.isHorizontal(),y=this.ticks,{align:v,crossAlign:b,padding:w,mirror:x}=m,k=f3(p.grid),S=k+w,_=x?-w:S,R=-hm(this.labelRotation),E=[],T="middle";if("top"===f)a=this.bottom-_,s=this._getXAxisLabelAlignment();else if("bottom"===f)a=this.top+_,s=this._getXAxisLabelAlignment();else if("left"===f){let e=this._getYAxisLabelAlignment(k);s=e.textAlign,r=e.x}else if("right"===f){let e=this._getYAxisLabelAlignment(k);s=e.textAlign,r=e.x}else if("x"===h){if("center"===f)a=(e.top+e.bottom)/2+S;else if(dz(f)){let e=Object.keys(f)[0],t=f[e];a=this.chart.scales[e].getPixelForValue(t)+S}s=this._getXAxisLabelAlignment()}else if("y"===h){if("center"===f)r=(e.left+e.right)/2-S;else if(dz(f)){let e=Object.keys(f)[0],t=f[e];r=this.chart.scales[e].getPixelForValue(t)}s=this._getYAxisLabelAlignment(k).textAlign}"y"===h&&("start"===v?T="top":"end"===v&&(T="bottom"));let C=this._getLabelSizes();for(t=0,i=y.length;t<i;++t){let e;n=y[t].label;let h=m.setContext(this.getContext(t));o=this.getPixelForTick(t)+m.labelOffset,c=(l=this._resolveTickFontOptions(t)).lineHeight;let p=(u=dK(n)?n.length:1)/2,v=h.color,w=h.textStrokeColor,k=h.textStrokeWidth,S=s;if(g?(r=o,"inner"===s&&(S=t===i-1?this.options.reverse?"left":"right":0===t?this.options.reverse?"right":"left":"center"),d="top"===f?"near"===b||0!==R?-u*c+c/2:"center"===b?-C.highest.height/2-p*c+c:-C.highest.height+c/2:"near"===b||0!==R?c/2:"center"===b?C.highest.height/2-p*c:C.highest.height-u*c,x&&(d*=-1),0===R||h.showLabelBackdrop||(r+=c/2*Math.sin(R))):(a=o,d=(1-u)*c/2),h.showLabelBackdrop){let n=pl(h.backdropPadding),r=C.heights[t],a=C.widths[t],o=d-n.top,l=0-n.left;switch(T){case"middle":o-=r/2;break;case"bottom":o-=r}switch(s){case"center":l-=a/2;break;case"right":l-=a;break;case"inner":t===i-1?l-=a:t>0&&(l-=a/2)}e={left:l,top:o,width:a+n.width,height:r+n.height,color:h.backdropColor}}E.push({label:n,font:l,textOffset:d,options:{rotation:R,color:v,strokeColor:w,strokeWidth:k,textAlign:S,textBaseline:T,translation:[r,a],backdrop:e}})}return E}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-hm(this.labelRotation))return"top"===e?"left":"right";let i="center";return"start"===t.align?i="left":"end"===t.align?i="right":"inner"===t.align&&(i="inner"),i}_getYAxisLabelAlignment(e){let t,i;let{position:n,ticks:{crossAlign:r,mirror:a,padding:s}}=this.options,o=this._getLabelSizes(),l=e+s,c=o.widest.width;return"left"===n?a?(i=this.right+s,"near"===r?t="left":"center"===r?(t="center",i+=c/2):(t="right",i+=c)):(i=this.right-l,"near"===r?t="right":"center"===r?(t="center",i-=c/2):(t="left",i=this.left)):"right"===n?a?(i=this.left+s,"near"===r?t="right":"center"===r?(t="center",i-=c/2):(t="left",i-=c)):(i=this.left+l,"near"===r?t="left":"center"===r?(t="center",i+=c/2):(t="right",i=this.right)):t="right",{textAlign:t,x:i}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:i,top:n,width:r,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,n,r,a),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let i=this.ticks.findIndex(t=>t.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){let t,i;let n=this.options.grid,r=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),s=(e,t,i)=>{i.width&&i.color&&(r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.setLineDash(i.borderDash||[]),r.lineDashOffset=i.borderDashOffset,r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.stroke(),r.restore())};if(n.display)for(t=0,i=a.length;t<i;++t){let e=a[t];n.drawOnChartArea&&s({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),n.drawTicks&&s({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){let e,t,i,n;let{chart:r,ctx:a,options:{border:s,grid:o}}=this,l=s.setContext(this.getContext()),c=s.display?l.width:0;if(!c)return;let u=o.setContext(this.getContext(0)).lineWidth,d=this._borderValue;this.isHorizontal()?(e=h2(r,this.left,c)-c/2,t=h2(r,this.right,u)+u/2,i=n=d):(i=h2(r,this.top,c)-c/2,n=h2(r,this.bottom,u)+u/2,e=t=d),a.save(),a.lineWidth=l.width,a.strokeStyle=l.color,a.beginPath(),a.moveTo(e,i),a.lineTo(t,n),a.stroke(),a.restore()}drawLabels(e){if(!this.options.ticks.display)return;let t=this.ctx,i=this._computeLabelArea();for(let n of(i&&h6(t,i),this.getLabelItems(e))){let e=n.options,i=n.font;pe(t,n.label,0,n.textOffset,i,e)}i&&function(e){e.restore()}(t)}drawTitle(){let e;let{ctx:t,options:{position:i,title:n,reverse:r}}=this;if(!n.display)return;let a=pc(n.font),s=pl(n.padding),o=n.align,l=a.lineHeight/2;"bottom"===i||"center"===i||dz(i)?(l+=s.bottom,dK(n.text)&&(l+=a.lineHeight*(n.text.length-1))):l+=s.top;let{titleX:c,titleY:u,maxWidth:d,rotation:h}=function(e,t,i,n){let r,a,s;let{top:o,left:l,bottom:c,right:u,chart:d}=e,{chartArea:h,scales:p}=d,f=0,m=c-o,g=u-l;if(e.isHorizontal()){if(a=hj(n,l,u),dz(i)){let e=Object.keys(i)[0],n=i[e];s=p[e].getPixelForValue(n)+m-t}else s="center"===i?(h.bottom+h.top)/2+m-t:f0(e,i,t);r=u-l}else{if(dz(i)){let e=Object.keys(i)[0],n=i[e];a=p[e].getPixelForValue(n)-g+t}else a="center"===i?(h.left+h.right)/2-g+t:f0(e,i,t);s=hj(n,c,o),f="left"===i?-hs:hs}return{titleX:a,titleY:s,maxWidth:r,rotation:f}}(this,l,i,o);pe(t,n.text,0,0,a,{color:n.color,maxWidth:d,rotation:h,textAlign:(e=hO(o),(r&&"right"!==i||!r&&"right"===i)&&(e=fZ(e)),e),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,i=dH(e.grid&&e.grid.z,-1),n=dH(e.border&&e.border.z,0);return this._isVisible()&&this.draw===f5.prototype.draw?[{z:i,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){let t,i;let n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",a=[];for(t=0,i=n.length;t<i;++t){let i=n[t];i[r]!==this.id||e&&i.type!==e||a.push(i)}return a}_resolveTickFontOptions(e){return pc(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class f6{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t;let i=Object.getPrototypeOf(e);"id"in i&&"defaults"in i&&(t=this.register(i));let n=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw Error("class does not have id: "+e);return r in n||(n[r]=e,function(e,t,i){let n=d2(Object.create(null),[i?h0.get(i):{},h0.get(t),e.defaults]);h0.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(i=>{let n=i.split("."),r=n.pop(),a=[e].concat(n).join("."),s=t[i].split("."),o=s.pop(),l=s.join(".");h0.route(a,r,l,o)})}(t,e.defaultRoutes),e.descriptors&&h0.describe(t,e.descriptors)}(e,a,t),this.override&&h0.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){let t=this.items,i=e.id,n=this.scope;i in t&&delete t[i],n&&i in h0[n]&&(delete h0[n][i],this.override&&delete hJ[i])}}class f8{constructor(){this.controllers=new f6(fn,"datasets",!0),this.elements=new f6(fX,"elements"),this.plugins=new f6(Object,"plugins"),this.scales=new f6(f5,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(t=>{let n=i||this._getRegistryForType(t);i||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):dX(t,t=>{let n=i||this._getRegistryForType(t);this._exec(e,n,t)})})}_exec(e,t,i){let n=d8(e);dY(i["before"+n],[],i),t[e](i),dY(i["after"+n],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){let n=t.get(e);if(void 0===n)throw Error('"'+e+'" is not a registered '+i+".");return n}}var f9=new f8;class f7{constructor(){this._init=[]}notify(e,t,i,n){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let r=n?this._descriptors(e).filter(n):this._descriptors(e),a=this._notify(r,e,t,i);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,i,n){for(let r of(n=n||{},e)){let e=r.plugin;if(!1===dY(e[i],[t,n,r.options],e)&&n.cancelable)return!1}return!0}invalidate(){dB(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let i=e&&e.config,n=dH(i.options&&i.options.plugins,{}),r=function(e){let t={},i=[],n=Object.keys(f9.plugins.items);for(let e=0;e<n.length;e++)i.push(f9.getPlugin(n[e]));let r=e.plugins||[];for(let e=0;e<r.length;e++){let n=r[e];-1===i.indexOf(n)&&(i.push(n),t[n.id]=!0)}return{plugins:i,localIds:t}}(i);return!1!==n||t?function(e,{plugins:t,localIds:i},n,r){let a=[],s=e.getContext();for(let l of t){var o;let t=l.id,c=(o=n[t],r||!1!==o?!0===o?{}:o:null);null!==c&&a.push({plugin:l,options:function(e,{plugin:t,local:i},n,r){let a=e.pluginScopeKeys(t),s=e.getOptionScopes(n,a);return i&&t.defaults&&s.push(t.defaults),e.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}(e.config,{plugin:l,local:i[t]},c,s)})}return a}(e,r,n,t):[]}_notifyStateChanges(e){let t=this._oldCache||[],i=this._cache,n=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(n(t,i),e,"stop"),this._notify(n(i,t),e,"start")}}function me(e,t){let i=h0.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function mt(e){if("x"===e||"y"===e||"r"===e)return e}function mi(e,...t){if(mt(e))return e;for(let n of t){var i;let t=n.axis||("top"===(i=n.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||e.length>1&&mt(e[0].toLowerCase());if(t)return t}throw Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function mn(e,t,i){if(i[t+"AxisID"]===e)return{axis:t}}function mr(e){let t=e.options||(e.options={});t.plugins=dH(t.plugins,{}),t.scales=function(e,t){let i=hJ[e.type]||{scales:{}},n=t.scales||{},r=me(e.type,t),a=Object.create(null);return Object.keys(n).forEach(t=>{let s=n[t];if(!dz(s))return console.error(`Invalid scale configuration for scale: ${t}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);let o=mi(t,s,function(e,t){if(t.data&&t.data.datasets){let i=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(i.length)return mn(e,"x",i[0])||mn(e,"y",i[0])}return{}}(t,e),h0.scales[s.type]),l=o===r?"_index_":"_value_",c=i.scales||{};a[t]=d3(Object.create(null),[{axis:o},s,c[o],c[l]])}),e.data.datasets.forEach(i=>{let r=i.type||e.type,s=i.indexAxis||me(r,t),o=(hJ[r]||{}).scales||{};Object.keys(o).forEach(e=>{let t;let r=(t=e,"_index_"===e?t=s:"_value_"===e&&(t="x"===s?"y":"x"),t),l=i[r+"AxisID"]||r;a[l]=a[l]||Object.create(null),d3(a[l],[{axis:r},n[l],o[e]])})}),Object.keys(a).forEach(e=>{let t=a[e];d3(t,[h0.scales[t.type],h0.scale])}),a}(e,t)}function ma(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}let ms=new Map,mo=new Set;function ml(e,t){let i=ms.get(e);return i||(i=t(),ms.set(e,i),mo.add(i)),i}let mc=(e,t,i)=>{let n=d6(t,i);void 0!==n&&e.add(n)};class mu{constructor(e){this._config=function(e){return(e=e||{}).data=ma(e.data),mr(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ma(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),mr(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ml(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return ml(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return ml(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,i=this.type;return ml(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let i=this._scopeCache,n=i.get(e);return(!n||t)&&(n=new Map,i.set(e,n)),n}getOptionScopes(e,t,i){let{options:n,type:r}=this,a=this._cachedScopes(e,i),s=a.get(t);if(s)return s;let o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>mc(o,e,t))),t.forEach(e=>mc(o,n,e)),t.forEach(e=>mc(o,hJ[r]||{},e)),t.forEach(e=>mc(o,h0,e)),t.forEach(e=>mc(o,hY,e))});let l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),mo.has(t)&&a.set(t,l),l}chartOptionScopes(){let{options:e,type:t}=this;return[e,hJ[t]||{},h0.datasets[t]||{},{type:t},h0,hY]}resolveNamedOptions(e,t,i,n=[""]){let r={$shared:!0},{resolver:a,subPrefixes:s}=md(this._resolverCache,e,n),o=a;if(function(e,t){let{isScriptable:i,isIndexable:n}=pf(e);for(let r of t){let t=i(r),a=n(r),s=(a||t)&&e[r];if(t&&(d7(s)||mh(s))||a&&dK(s))return!0}return!1}(a,t)){r.$shared=!1,i=d7(i)?i():i;let t=this.createResolver(e,i,s);o=pp(a,i,t)}for(let e of t)r[e]=o[e];return r}createResolver(e,t,i=[""],n){let{resolver:r}=md(this._resolverCache,e,i);return dz(t)?pp(r,t,void 0,n):r}}function md(e,t,i){let n=e.get(t);n||(n=new Map,e.set(t,n));let r=i.join(),a=n.get(r);return a||(a={resolver:ph(t,i),subPrefixes:i.filter(e=>!e.toLowerCase().includes("hover"))},n.set(r,a)),a}let mh=e=>dz(e)&&Object.getOwnPropertyNames(e).some(t=>d7(e[t])),mp=["top","bottom","left","right","chartArea"];function mf(e,t){return"top"===e||"bottom"===e||-1===mp.indexOf(e)&&"x"===t}function mm(e,t){return function(i,n){return i[e]===n[e]?i[t]-n[t]:i[e]-n[e]}}function mg(e){let t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),dY(i&&i.onComplete,[e],t)}function my(e){let t=e.chart,i=t.options.animation;dY(i&&i.onProgress,[e],t)}function mv(e){return pC()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}let mb={},mw=e=>{let t=mv(e);return Object.values(mb).filter(e=>e.canvas===t).pop()};function mx(e,t,i){return e.options.clip?e[i]:t[i]}class mk{static defaults=h0;static instances=mb;static overrides=hJ;static registry=f9;static version="4.4.2";static getChart=mw;static register(...e){f9.add(...e),mS()}static unregister(...e){f9.remove(...e),mS()}constructor(e,t){let i=this.config=new mu(t),n=mv(e),r=mw(n);if(r)throw Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");let a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||(!pC()||"undefined"!=typeof OffscreenCanvas&&n instanceof OffscreenCanvas?fD:fY)),this.platform.updateConfig(i);let s=this.platform.acquireContext(n,a.aspectRatio),o=s&&s.canvas,l=o&&o.height,c=o&&o.width;if(this.id=d$(),this.ctx=s,this.canvas=o,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new f7,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let i;return function(...n){return t?(clearTimeout(i),i=setTimeout(e,t,n)):e.apply(this,n),t}}(e=>this.update(e),a.resizeDelay||0),this._dataChanges=[],mb[this.id]=this,!s||!o){console.error("Failed to create chart: can't acquire context from the given item");return}pX.listen(this,"complete",mg),pX.listen(this,"progress",my),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:n,_aspectRatio:r}=this;return dB(e)?t&&r?r:n?i/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return f9}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():pU(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return h3(this.canvas,this.ctx),this}stop(){return pX.stop(this),this}resize(e,t){pX.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){let i=this.options,n=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(n,e,t,r),s=i.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,pU(this,s,!0)&&(this.notifyPlugins("resize",{size:a}),dY(i.onResize,[this,a],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){dX(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){let e=this.options,t=e.scales,i=this.scales,n=Object.keys(i).reduce((e,t)=>(e[t]=!1,e),{}),r=[];t&&(r=r.concat(Object.keys(t).map(e=>{let i=t[e],n=mi(e,i),r="r"===n,a="x"===n;return{options:i,dposition:r?"chartArea":a?"bottom":"left",dtype:r?"radialLinear":a?"category":"linear"}}))),dX(r,t=>{let r=t.options,a=r.id,s=mi(a,r),o=dH(r.type,t.dtype);(void 0===r.position||mf(r.position,s)!==mf(t.dposition))&&(r.position=t.dposition),n[a]=!0;let l=null;a in i&&i[a].type===o?l=i[a]:i[(l=new(f9.getScale(o))({id:a,type:o,ctx:this.ctx,chart:this})).id]=l,l.init(r,e)}),dX(n,(e,t)=>{e||delete i[t]}),dX(i,e=>{fN.configure(this,e,e.options),fN.addBox(this,e)})}_updateMetasets(){let e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((e,t)=>e.index-t.index),i>t){for(let e=t;e<i;++e)this._destroyDatasetMeta(e);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(mm("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,i)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){let e,t;let i=[],n=this.data.datasets;for(this._removeUnreferencedMetasets(),e=0,t=n.length;e<t;e++){let t=n[e],r=this.getDatasetMeta(e),a=t.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(e),r=this.getDatasetMeta(e)),r.type=a,r.indexAxis=t.indexAxis||me(a,this.options),r.order=t.order||0,r.index=e,r.label=""+t.label,r.visible=this.isDatasetVisible(e),r.controller)r.controller.updateIndex(e),r.controller.linkScales();else{let t=f9.getController(a),{datasetElementType:n,dataElementType:s}=h0.datasets[a];Object.assign(t,{dataElementType:f9.getElement(s),datasetElementType:n&&f9.getElement(n)}),r.controller=new t(this,e),i.push(r.controller)}}return this._updateMetasets(),i}_resetElements(){dX(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let t=this.config;t.update();let i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;let r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let e=0,t=this.data.datasets.length;e<t;e++){let{controller:t}=this.getDatasetMeta(e),i=!n&&-1===r.indexOf(t);t.buildOrUpdateElements(i),a=Math.max(+t.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),n||dX(r,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(mm("z","_idx"));let{_active:s,_lastEvent:o}=this;o?this._eventHandler(o,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){dX(this.scales,e=>{fN.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options;he(new Set(Object.keys(this._listeners)),new Set(e.events))&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this;for(let{method:t,start:i,count:n}of this._getUniformDataChanges()||[])!function(e,t,i){for(let n of Object.keys(e)){let r=+n;if(r>=t){let a=e[n];delete e[n],(i>0||r>t)&&(e[r+i]=a)}}}(e,i,"_removeElements"===t?-n:n)}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let t=this.data.datasets.length,i=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),n=i(0);for(let e=1;e<t;e++)if(!he(n,i(e)))return;return Array.from(n).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;fN.update(this,this.width,this.height,e);let t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],dX(this.boxes,e=>{i&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,d7(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){let i=this.getDatasetMeta(e),n={meta:i,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(i.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(pX.has(this)?this.attached&&!pX.running(this)&&pX.start(this):(this.draw(),mg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let t,i;let n=this._sortedMetasets,r=[];for(t=0,i=n.length;t<i;++t){let i=n[t];(!e||i.visible)&&r.push(i)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;let e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let t=this.ctx,i=e._clip,n=!i.disabled,r=function(e,t){let{xScale:i,yScale:n}=e;return i&&n?{left:mx(i,t,"left"),right:mx(i,t,"right"),top:mx(n,t,"top"),bottom:mx(n,t,"bottom")}:t}(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(n&&h6(t,{left:!1===i.left?0:r.left-i.left,right:!1===i.right?this.width:r.right+i.right,top:!1===i.top?0:r.top-i.top,bottom:!1===i.bottom?this.height:r.bottom+i.bottom}),e.controller.draw(),n&&function(e){e.restore()}(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return h5(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,n){let r=f_.modes[t];return"function"==typeof r?r(this,e,i,n):[]}getDatasetMeta(e){let t=this.data.datasets[e],i=this._metasets,n=i.filter(e=>e&&e._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=pd(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let t=this.data.datasets[e];if(!t)return!1;let i=this.getDatasetMeta(e);return"boolean"==typeof i.hidden?!i.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){let n=i?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,n);d9(t)?(r.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(r,{visible:i}),this.update(t=>t.datasetIndex===e?n:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){let t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),pX.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),h3(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete mb[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,t=this.platform,i=(i,n)=>{t.addEventListener(this,i,n),e[i]=n},n=(e,t,i)=>{e.offsetX=t,e.offsetY=i,this._eventHandler(e)};dX(this.options.events,e=>i(e,n))}bindResponsiveEvents(){let e;this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,i=this.platform,n=(e,n)=>{i.addEventListener(this,e,n),t[e]=n},r=(e,n)=>{t[e]&&(i.removeEventListener(this,e,n),delete t[e])},a=(e,t)=>{this.canvas&&this.resize(e,t)},s=()=>{r("attach",s),this.attached=!0,this.resize(),n("resize",a),n("detach",e)};e=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),n("attach",s)},i.isAttached(this.canvas)?s():e()}unbindEvents(){dX(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},dX(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){let n,r,a;let s=i?"set":"remove";for("dataset"===t&&this.getDatasetMeta(e[0].datasetIndex).controller["_"+s+"DatasetHoverStyle"](),r=0,a=e.length;r<a;++r){let t=(n=e[r])&&this.getDatasetMeta(n.datasetIndex).controller;t&&t[s+"HoverStyle"](n.element,n.datasetIndex,n.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let t=this._active||[],i=e.map(({datasetIndex:e,index:t})=>{let i=this.getDatasetMeta(e);if(!i)throw Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[t],index:t}});dQ(i,t)||(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,i){let n=this.options.hover,r=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),a=r(t,e),s=i?e:r(e,t);a.length&&this.updateHoverStyle(a,n.mode,!1),s.length&&n.mode&&this.updateHoverStyle(s,n.mode,!0)}_eventHandler(e,t){let i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",i,n))return;let r=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(r||i.changed)&&this.render(),this}_handleEvent(e,t,i){var n;let{_active:r=[],options:a}=this,s=this._getActiveElements(e,r,i,t),o="mouseup"===e.type||"click"===e.type||"contextmenu"===e.type,l=(n=this._lastEvent,i&&"mouseout"!==e.type?o?n:e:null);i&&(this._lastEvent=null,dY(a.onHover,[e,s,this],this),o&&dY(a.onClick,[e,s,this],this));let c=!dQ(s,r);return(c||t)&&(this._active=s,this._updateHoverStyles(s,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,i,n){if("mouseout"===e.type)return[];if(!i)return t;let r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,n)}}function mS(){return dX(mk.instances,e=>e._plugins.invalidate())}function m_(e,t,i,n){return{x:i+e*Math.cos(t),y:n+e*Math.sin(t)}}function mR(e,t,i,n,r,a){let{x:s,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+n+i-c,0),h=u>0?u+n+i+c:0,p=0,f=r-l;if(n){let e=d>0?d-n:0,t=((u>0?u-n:0)+e)/2;p=(f-(0!==t?f*t/(t+n):f))/2}let m=Math.max(.001,f*d-i/ht)/d,g=(f-m)/2,y=l+g+p,v=r-g-p,{outerStart:b,outerEnd:w,innerStart:x,innerEnd:k}=function(e,t,i,n){let r=pa(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),a=(i-t)/2,s=Math.min(a,n*t/2),o=e=>{let t=(i-Math.min(a,e))*n/2;return hk(e,0,Math.min(a,t))};return{outerStart:o(r.outerStart),outerEnd:o(r.outerEnd),innerStart:hk(r.innerStart,0,s),innerEnd:hk(r.innerEnd,0,s)}}(t,h,d,v-y),S=d-b,_=d-w,R=y+b/S,E=v-w/_,T=h+x,C=h+k,P=y+x/T,A=v-k/C;if(e.beginPath(),a){let t=(R+E)/2;if(e.arc(s,o,d,R,t),e.arc(s,o,d,t,E),w>0){let t=m_(_,E,s,o);e.arc(t.x,t.y,w,E,v+hs)}let i=m_(C,v,s,o);if(e.lineTo(i.x,i.y),k>0){let t=m_(C,A,s,o);e.arc(t.x,t.y,k,v+hs,A+Math.PI)}let n=(v-k/h+(y+x/h))/2;if(e.arc(s,o,h,v-k/h,n,!0),e.arc(s,o,h,n,y+x/h,!0),x>0){let t=m_(T,P,s,o);e.arc(t.x,t.y,x,P+Math.PI,y-hs)}let r=m_(S,y,s,o);if(e.lineTo(r.x,r.y),b>0){let t=m_(S,R,s,o);e.arc(t.x,t.y,b,y-hs,R)}}else{e.moveTo(s,o);let t=Math.cos(R)*d+s,i=Math.sin(R)*d+o;e.lineTo(t,i);let n=Math.cos(E)*d+s,r=Math.sin(E)*d+o;e.lineTo(n,r)}e.closePath()}class mE extends fX{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){let{angle:n,distance:r}=hy(this.getProps(["x","y"],i),{x:e,y:t}),{startAngle:a,endAngle:s,innerRadius:o,outerRadius:l,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),u=(this.options.spacing+this.options.borderWidth)/2,d=dH(c,s-a)>=hi||hx(n,a,s),h=hS(r,o+u,l+u);return d&&h}getCenterPoint(e){let{x:t,y:i,startAngle:n,endAngle:r,innerRadius:a,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(n+r)/2,u=(a+s+l+o)/2;return{x:t+Math.cos(c)*u,y:i+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:i}=this,n=(t.offset||0)/4,r=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=i>hi?Math.floor(i/hi):0,0===i||this.innerRadius<0||this.outerRadius<0)return;e.save();let s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*n,Math.sin(s)*n);let o=n*(1-Math.sin(Math.min(ht,i||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,i,n,r){let{fullCircles:a,startAngle:s,circumference:o}=t,l=t.endAngle;if(a){mR(e,t,i,n,l,r);for(let t=0;t<a;++t)e.fill();isNaN(o)||(l=s+(o%hi||hi))}mR(e,t,i,n,l,r),e.fill()}(e,this,o,r,a),function(e,t,i,n,r){let{fullCircles:a,startAngle:s,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=h,p?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let f=t.endAngle;if(a){mR(e,t,i,n,f,r);for(let t=0;t<a;++t)e.stroke();isNaN(o)||(f=s+(o%hi||hi))}p&&function(e,t,i){let{startAngle:n,pixelMargin:r,x:a,y:s,outerRadius:o,innerRadius:l}=t,c=r/o;e.beginPath(),e.arc(a,s,o,n-c,i+c),l>r?(c=r/l,e.arc(a,s,l,i+c,n-c,!0)):e.arc(a,s,r,i+hs,n-hs),e.closePath(),e.clip()}(e,t,f),a||(mR(e,t,i,n,f,r),e.stroke())}(e,this,o,r,a),e.restore()}}function mT(e,t,i=t){e.lineCap=dH(i.borderCapStyle,t.borderCapStyle),e.setLineDash(dH(i.borderDash,t.borderDash)),e.lineDashOffset=dH(i.borderDashOffset,t.borderDashOffset),e.lineJoin=dH(i.borderJoinStyle,t.borderJoinStyle),e.lineWidth=dH(i.borderWidth,t.borderWidth),e.strokeStyle=dH(i.borderColor,t.borderColor)}function mC(e,t,i){e.lineTo(i.x,i.y)}function mP(e,t,i={}){let n=e.length,{start:r=0,end:a=n-1}=i,{start:s,end:o}=t,l=Math.max(r,s),c=Math.min(a,o);return{count:n,start:l,loop:t.loop,ilen:c<l&&!(r<s&&a<s||r>o&&a>o)?n+c-l:c-l}}function mA(e,t,i,n){let r,a,s;let{points:o,options:l}=t,{count:c,start:u,loop:d,ilen:h}=mP(o,i,n),p=l.stepped?h9:l.tension||"monotone"===l.cubicInterpolationMode?h7:mC,{move:f=!0,reverse:m}=n||{};for(r=0;r<=h;++r)(a=o[(u+(m?h-r:r))%c]).skip||(f?(e.moveTo(a.x,a.y),f=!1):p(e,s,a,m,l.stepped),s=a);return d&&p(e,s,a=o[(u+(m?h:0))%c],m,l.stepped),!!d}function mI(e,t,i,n){let r,a,s,o,l,c;let u=t.points,{count:d,start:h,ilen:p}=mP(u,i,n),{move:f=!0,reverse:m}=n||{},g=0,y=0,v=e=>(h+(m?p-e:e))%d,b=()=>{o!==l&&(e.lineTo(g,l),e.lineTo(g,o),e.lineTo(g,c))};for(f&&(a=u[v(0)],e.moveTo(a.x,a.y)),r=0;r<=p;++r){if((a=u[v(r)]).skip)continue;let t=a.x,i=a.y,n=0|t;n===s?(i<o?o=i:i>l&&(l=i),g=(y*g+t)/++y):(b(),e.lineTo(t,i),s=n,y=0,o=l=i),c=i}b()}function mO(e){let t=e.options,i=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||i?mA:mI}let mj="function"==typeof Path2D;class mN extends fX{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){let i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){let n=i.spanGaps?this._loop:this._fullLoop;(function(e,t,i,n,r){let a,s,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)!function(e,t="x"){let i,n,r;let a=pE(t),s=e.length,o=Array(s).fill(0),l=Array(s),c=pR(e,0);for(i=0;i<s;++i)if(n=r,r=c,c=pR(e,i+1),r){if(c){let e=c[t]-r[t];o[i]=0!==e?(c[a]-r[a])/e:0}l[i]=n?c?hu(o[i-1])!==hu(o[i])?0:(o[i-1]+o[i])/2:o[i-1]:o[i]}(function(e,t,i){let n,r,a,s,o;let l=e.length,c=pR(e,0);for(let u=0;u<l-1;++u)if(o=c,c=pR(e,u+1),o&&c){if(hd(t[u],0,p_)){i[u]=i[u+1]=0;continue}(s=Math.pow(n=i[u]/t[u],2)+Math.pow(r=i[u+1]/t[u],2))<=9||(a=3/Math.sqrt(s),i[u]=n*a*t[u],i[u+1]=r*a*t[u])}})(e,o,l),function(e,t,i="x"){let n,r,a;let s=pE(i),o=e.length,l=pR(e,0);for(let c=0;c<o;++c){if(r=a,a=l,l=pR(e,c+1),!a)continue;let o=a[i],u=a[s];r&&(n=(o-r[i])/3,a[`cp1${i}`]=o-n,a[`cp1${s}`]=u-n*t[c]),l&&(n=(l[i]-o)/3,a[`cp2${i}`]=o+n,a[`cp2${s}`]=u+n*t[c])}}(e,l,t)}(e,r);else{let i=n?e[e.length-1]:e[0];for(a=0,s=e.length;a<s;++a)l=function(e,t,i,n){let r=e.skip?t:e,a=i.skip?t:i,s=hv(t,r),o=hv(a,t),l=s/(s+o),c=o/(s+o);l=isNaN(l)?0:l,c=isNaN(c)?0:c;let u=n*l,d=n*c;return{previous:{x:t.x-u*(a.x-r.x),y:t.y-u*(a.y-r.y)},next:{x:t.x+d*(a.x-r.x),y:t.y+d*(a.y-r.y)}}}(i,o=e[a],e[Math.min(a+1,s-(n?0:1))%s],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,i=o}t.capBezierPoints&&function(e,t){let i,n,r,a,s;let o=h5(e[0],t);for(i=0,n=e.length;i<n;++i)s=a,a=o,o=i<n-1&&h5(e[i+1],t),a&&(r=e[i],s&&(r.cp1x=pT(r.cp1x,t.left,t.right),r.cp1y=pT(r.cp1y,t.top,t.bottom)),o&&(r.cp2x=pT(r.cp2x,t.left,t.right),r.cp2y=pT(r.cp2y,t.top,t.bottom)))}(e,i)})(this._points,i,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){let i=e.points,n=e.options.spanGaps,r=i.length;if(!r)return[];let a=!!e._loop,{start:s,end:o}=function(e,t,i,n){let r=0,a=t-1;if(i&&!n)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,i&&(a+=r);a>r&&e[a%t].skip;)a--;return{start:r,end:a%=t}}(i,r,a,n);if(!0===n)return pG(e,[{start:s,end:o,loop:a}],i,t);let l=o<s?o+r:o,c=!!e._fullLoop&&0===s&&o===r-1;return pG(e,function(e,t,i,n){let r;let a=e.length,s=[],o=t,l=e[t];for(r=t+1;r<=i;++r){let i=e[r%a];i.skip||i.stop?l.skip||(n=!1,s.push({start:t%a,end:(r-1)%a,loop:n}),t=o=i.stop?r:null):(o=r,l.skip&&(t=r)),l=i}return null!==o&&s.push({start:t%a,end:o%a,loop:n}),s}(i,s,l,c),i,t)}(this,this.options.segment))}first(){let e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){let e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){let i,n;let r=this.options,a=e[t],s=this.points,o=pH(this,{property:t,start:a,end:a});if(!o.length)return;let l=[],c=r.stepped?p$:r.tension||"monotone"===r.cubicInterpolationMode?pB:pF;for(i=0,n=o.length;i<n;++i){let{start:n,end:u}=o[i],d=s[n],h=s[u];if(d===h){l.push(d);continue}let p=Math.abs((a-d[t])/(h[t]-d[t])),f=c(d,h,p,r.stepped);f[t]=e[t],l.push(f)}return 1===l.length?l[0]:l}pathSegment(e,t,i){return mO(this)(e,this,t,i)}path(e,t,i){let n=this.segments,r=mO(this),a=this._loop;for(let s of(t=t||0,i=i||this.points.length-t,n))a&=r(e,this,s,{start:t,end:t+i-1});return!!a}draw(e,t,i,n){let r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),function(e,t,i,n){if(mj&&!t.options.segment){let r;(r=t._path)||(r=t._path=new Path2D,t.path(r,i,n)&&r.closePath()),mT(e,t.options),e.stroke(r)}else!function(e,t,i,n){let{segments:r,options:a}=t,s=mO(t);for(let o of r)mT(e,a,o.style),e.beginPath(),s(e,t,o,{start:i,end:i+n-1})&&e.closePath(),e.stroke()}(e,t,i,n)}(e,this,i,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function mL(e,t,i,n){let r=e.options,{[i]:a}=e.getProps([i],n);return Math.abs(t-a)<r.radius+r.hitRadius}class mD extends fX{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){let n=this.options,{x:r,y:a}=this.getProps(["x","y"],i);return Math.pow(e-r,2)+Math.pow(t-a,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return mL(this,e,"x",t)}inYRange(e,t){return mL(this,e,"y",t)}getCenterPoint(e){let{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){let t=(e=e||this.options||{}).radius||0,i=(t=Math.max(t,t&&e.hoverRadius||0))&&e.borderWidth||0;return(t+i)*2}draw(e,t){let i=this.options;!this.skip&&!(i.radius<.1)&&h5(this,t,this.size(i)/2)&&(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,h4(e,i,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}function mU(e,t){let i,n,r,a,s;let{x:o,y:l,base:c,width:u,height:d}=e.getProps(["x","y","base","width","height"],t);return e.horizontal?(s=d/2,i=Math.min(o,c),n=Math.max(o,c),r=l-s,a=l+s):(i=o-(s=u/2),n=o+s,r=Math.min(l,c),a=Math.max(l,c)),{left:i,top:r,right:n,bottom:a}}function mq(e,t,i,n){return e?0:hk(t,i,n)}function mM(e,t,i,n){let r=null===t,a=null===i,s=e&&!(r&&a)&&mU(e,n);return s&&(r||hS(t,s.left,s.right))&&(a||hS(i,s.top,s.bottom))}function mF(e,t){e.rect(t.x,t.y,t.w,t.h)}function m$(e,t,i={}){let n=e.x!==i.x?-t:0,r=e.y!==i.y?-t:0,a=(e.x+e.w!==i.x+i.w?t:0)-n,s=(e.y+e.h!==i.y+i.h?t:0)-r;return{x:e.x+n,y:e.y+r,w:e.w+a,h:e.h+s,radius:e.radius}}class mB extends fX{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){var t;let{inflateAmount:i,options:{borderColor:n,backgroundColor:r}}=this,{inner:a,outer:s}=function(e){let t=mU(e),i=t.right-t.left,n=t.bottom-t.top,r=function(e,t,i){let n=e.options.borderWidth,r=e.borderSkipped,a=ps(n);return{t:mq(r.top,a.top,0,i),r:mq(r.right,a.right,0,t),b:mq(r.bottom,a.bottom,0,i),l:mq(r.left,a.left,0,t)}}(e,i/2,n/2),a=function(e,t,i){let{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,a=po(r),s=Math.min(t,i),o=e.borderSkipped,l=n||dz(r);return{topLeft:mq(!l||o.top||o.left,a.topLeft,0,s),topRight:mq(!l||o.top||o.right,a.topRight,0,s),bottomLeft:mq(!l||o.bottom||o.left,a.bottomLeft,0,s),bottomRight:mq(!l||o.bottom||o.right,a.bottomRight,0,s)}}(e,i/2,n/2);return{outer:{x:t.left,y:t.top,w:i,h:n,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:i-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}(this),o=(t=s.radius).topLeft||t.topRight||t.bottomLeft||t.bottomRight?pt:mF;e.save(),(s.w!==a.w||s.h!==a.h)&&(e.beginPath(),o(e,m$(s,i,a)),e.clip(),o(e,m$(a,-i,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,m$(a,i)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return mM(this,e,t,i)}inXRange(e,t){return mM(this,e,null,t)}inYRange(e,t){return mM(this,null,e,t)}getCenterPoint(e){let{x:t,y:i,base:n,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+n)/2:t,y:r?i:(i+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}function mK(e,t,i,n){if(n)return;let r=t[e],a=i[e];return"angle"===e&&(r=hw(r),a=hw(a)),{property:e,start:r,end:a}}function mz(e,t,i){for(;t>e;t--){let e=i[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function mV(e,t,i,n){return e&&t?n(e[i],t[i]):e?e[i]:t?t[i]:0}e=>e.replace("rgb(","rgba(").replace(")",", 0.5)");function mW(e,t,i,n){let r=t.interpolate(i,n);r&&e.lineTo(r.x,r.y)}new WeakMap;let mH={average(e){let t,i;if(!e.length)return!1;let n=new Set,r=0,a=0;for(t=0,i=e.length;t<i;++t){let i=e[t].element;if(i&&i.hasValue()){let e=i.tooltipPosition();n.add(e.x),r+=e.y,++a}}return{x:[...n].reduce((e,t)=>e+t)/n.size,y:r/a}},nearest(e,t){let i,n,r;if(!e.length)return!1;let a=t.x,s=t.y,o=Number.POSITIVE_INFINITY;for(i=0,n=e.length;i<n;++i){let n=e[i].element;if(n&&n.hasValue()){let e=hv(t,n.getCenterPoint());e<o&&(o=e,r=n)}}if(r){let e=r.tooltipPosition();a=e.x,s=e.y}return{x:a,y:s}}};function mG(e,t){return t&&(dK(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function mJ(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function mY(e,t){let i=e.chart.ctx,{body:n,footer:r,title:a}=e,{boxWidth:s,boxHeight:o}=t,l=pc(t.bodyFont),c=pc(t.titleFont),u=pc(t.footerFont),d=a.length,h=r.length,p=n.length,f=pl(t.padding),m=f.height,g=0,y=n.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);y+=e.beforeBody.length+e.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),y&&(m+=p*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(y-p)*l.lineHeight+(y-1)*t.bodySpacing),h&&(m+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let v=0,b=function(e){g=Math.max(g,i.measureText(e).width+v)};return i.save(),i.font=c.string,dX(e.title,b),i.font=l.string,dX(e.beforeBody.concat(e.afterBody),b),v=t.displayColors?s+2+t.boxPadding:0,dX(n,e=>{dX(e.before,b),dX(e.lines,b),dX(e.after,b)}),v=0,i.font=u.string,dX(e.footer,b),i.restore(),{width:g+=f.width,height:m}}function mX(e,t,i){let n=i.yAlign||t.yAlign||function(e,t){let{y:i,height:n}=t;return i<n/2?"top":i>e.height-n/2?"bottom":"center"}(e,i);return{xAlign:i.xAlign||t.xAlign||function(e,t,i,n){let{x:r,width:a}=i,{width:s,chartArea:{left:o,right:l}}=e,c="center";return"center"===n?c=r<=(o+l)/2?"left":"right":r<=a/2?c="left":r>=s-a/2&&(c="right"),function(e,t,i,n){let{x:r,width:a}=n,s=i.caretSize+i.caretPadding;if("left"===e&&r+a+s>t.width||"right"===e&&r-a-s<0)return!0}(c,e,t,i)&&(c="center"),c}(e,t,i,n),yAlign:n}}function mQ(e,t,i,n){let{caretSize:r,caretPadding:a,cornerRadius:s}=e,{xAlign:o,yAlign:l}=i,c=r+a,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=po(s),f=function(e,t){let{x:i,width:n}=e;return"right"===t?i-=n:"center"===t&&(i-=n/2),i}(t,o),m=function(e,t,i){let{y:n,height:r}=e;return"top"===t?n+=i:"bottom"===t?n-=r+i:n-=r/2,n}(t,l,c);return"center"===l?"left"===o?f+=c:"right"===o&&(f-=c):"left"===o?f-=Math.max(u,h)+r:"right"===o&&(f+=Math.max(d,p)+r),{x:hk(f,0,n.width-t.width),y:hk(m,0,n.height-t.height)}}function mZ(e,t,i){let n=pl(i.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function m0(e,t){let i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?e.override(i):e}let m1={beforeTitle:dF,title(e){if(e.length>0){let t=e[0],i=t.chart.data.labels,n=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return i[t.dataIndex]}return""},afterTitle:dF,beforeBody:dF,beforeLabel:dF,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");let i=e.formattedValue;return dB(i)||(t+=i),t},labelColor(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:dF,afterBody:dF,beforeFooter:dF,footer:dF,afterFooter:dF};function m2(e,t,i,n){let r=e[t].call(i,n);return void 0===r?m1[t].call(i,n):r}class m3 extends fX{static positioners=mH;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let t=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&t.options.animation&&i.animations,r=new p1(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=pd(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(e,t){let{callbacks:i}=t,n=m2(i,"beforeTitle",this,e),r=m2(i,"title",this,e),a=m2(i,"afterTitle",this,e),s=[];return s=mG(s,mJ(n)),s=mG(s,mJ(r)),s=mG(s,mJ(a))}getBeforeBody(e,t){return mG([],mJ(m2(t.callbacks,"beforeBody",this,e)))}getBody(e,t){let{callbacks:i}=t,n=[];return dX(e,e=>{let t={before:[],lines:[],after:[]},r=m0(i,e);mG(t.before,mJ(m2(r,"beforeLabel",this,e))),mG(t.lines,m2(r,"label",this,e)),mG(t.after,mJ(m2(r,"afterLabel",this,e))),n.push(t)}),n}getAfterBody(e,t){return mG([],mJ(m2(t.callbacks,"afterBody",this,e)))}getFooter(e,t){let{callbacks:i}=t,n=m2(i,"beforeFooter",this,e),r=m2(i,"footer",this,e),a=m2(i,"afterFooter",this,e),s=[];return s=mG(s,mJ(n)),s=mG(s,mJ(r)),s=mG(s,mJ(a))}_createItems(e){let t,i;let n=this._active,r=this.chart.data,a=[],s=[],o=[],l=[];for(t=0,i=n.length;t<i;++t)l.push(function(e,t){let{element:i,datasetIndex:n,index:r}=t,a=e.getDatasetMeta(n).controller,{label:s,value:o}=a.getLabelAndValue(r);return{chart:e,label:s,parsed:a.getParsed(r),raw:e.data.datasets[n].data[r],formattedValue:o,dataset:a.getDataset(),dataIndex:r,datasetIndex:n,element:i}}(this.chart,n[t]));return e.filter&&(l=l.filter((t,i,n)=>e.filter(t,i,n,r))),e.itemSort&&(l=l.sort((t,i)=>e.itemSort(t,i,r))),dX(l,t=>{let i=m0(e.callbacks,t);a.push(m2(i,"labelColor",this,t)),s.push(m2(i,"labelPointStyle",this,t)),o.push(m2(i,"labelTextColor",this,t))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){let i;let n=this.options.setContext(this.getContext()),r=this._active,a=[];if(r.length){let e=mH[n.position].call(this,r,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);let t=this._size=mY(this,n),s=Object.assign({},e,t),o=mX(this.chart,n,s),l=mQ(n,s,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,n){let r=this.getCaretPosition(e,i,n);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,i){let n,r,a,s,o,l;let{xAlign:c,yAlign:u}=this,{caretSize:d,cornerRadius:h}=i,{topLeft:p,topRight:f,bottomLeft:m,bottomRight:g}=po(h),{x:y,y:v}=e,{width:b,height:w}=t;return"center"===u?(o=v+w/2,"left"===c?(r=(n=y)-d,s=o+d,l=o-d):(r=(n=y+b)+d,s=o-d,l=o+d),a=n):(r="left"===c?y+Math.max(p,m)+d:"right"===c?y+b-Math.max(f,g)-d:this.caretX,"top"===u?(o=(s=v)-d,n=r-d,a=r+d):(o=(s=v+w)+d,n=r+d,a=r-d),l=s),{x1:n,x2:r,x3:a,y1:s,y2:o,y3:l}}drawTitle(e,t,i){let n,r,a;let s=this.title,o=s.length;if(o){let l=pK(i.rtl,this.x,this.width);for(a=0,e.x=mZ(this,i.titleAlign,i),t.textAlign=l.textAlign(i.titleAlign),t.textBaseline="middle",n=pc(i.titleFont),r=i.titleSpacing,t.fillStyle=i.titleColor,t.font=n.string;a<o;++a)t.fillText(s[a],l.x(e.x),e.y+n.lineHeight/2),e.y+=n.lineHeight+r,a+1===o&&(e.y+=i.titleMarginBottom-r)}}_drawColorBox(e,t,i,n,r){let a=this.labelColors[i],s=this.labelPointStyles[i],{boxHeight:o,boxWidth:l}=r,c=pc(r.bodyFont),u=mZ(this,"left",r),d=n.x(u),h=o<c.lineHeight?(c.lineHeight-o)/2:0,p=t.y+h;if(r.usePointStyle){let t={radius:Math.min(l,o)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},i=n.leftForLtr(d,l)+l/2,c=p+o/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,h4(e,t,i,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,h4(e,t,i,c)}else{e.lineWidth=dz(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let t=n.leftForLtr(d,l),i=n.leftForLtr(n.xPlus(d,1),l-2),s=po(a.borderRadius);Object.values(s).some(e=>0!==e)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,pt(e,{x:t,y:p,w:l,h:o,radius:s}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),pt(e,{x:i,y:p+1,w:l-2,h:o-2,radius:s}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,p,l,o),e.strokeRect(t,p,l,o),e.fillStyle=a.backgroundColor,e.fillRect(i,p+1,l-2,o-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){let n,r,a,s,o,l,c;let{body:u}=this,{bodySpacing:d,bodyAlign:h,displayColors:p,boxHeight:f,boxWidth:m,boxPadding:g}=i,y=pc(i.bodyFont),v=y.lineHeight,b=0,w=pK(i.rtl,this.x,this.width),x=function(i){t.fillText(i,w.x(e.x+b),e.y+v/2),e.y+=v+d},k=w.textAlign(h);for(t.textAlign=h,t.textBaseline="middle",t.font=y.string,e.x=mZ(this,k,i),t.fillStyle=i.bodyColor,dX(this.beforeBody,x),b=p&&"right"!==k?"center"===h?m/2+g:m+2+g:0,s=0,l=u.length;s<l;++s){for(n=u[s],r=this.labelTextColors[s],t.fillStyle=r,dX(n.before,x),a=n.lines,p&&a.length&&(this._drawColorBox(t,e,s,w,i),v=Math.max(y.lineHeight,f)),o=0,c=a.length;o<c;++o)x(a[o]),v=y.lineHeight;dX(n.after,x)}b=0,v=y.lineHeight,dX(this.afterBody,x),e.y-=d}drawFooter(e,t,i){let n,r;let a=this.footer,s=a.length;if(s){let o=pK(i.rtl,this.x,this.width);for(e.x=mZ(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=o.textAlign(i.footerAlign),t.textBaseline="middle",n=pc(i.footerFont),t.fillStyle=i.footerColor,t.font=n.string,r=0;r<s;++r)t.fillText(a[r],o.x(e.x),e.y+n.lineHeight/2),e.y+=n.lineHeight+i.footerSpacing}}drawBackground(e,t,i,n){let{xAlign:r,yAlign:a}=this,{x:s,y:o}=e,{width:l,height:c}=i,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=po(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(s+u,o),"top"===a&&this.drawCaret(e,t,i,n),t.lineTo(s+l-d,o),t.quadraticCurveTo(s+l,o,s+l,o+d),"center"===a&&"right"===r&&this.drawCaret(e,t,i,n),t.lineTo(s+l,o+c-p),t.quadraticCurveTo(s+l,o+c,s+l-p,o+c),"bottom"===a&&this.drawCaret(e,t,i,n),t.lineTo(s+h,o+c),t.quadraticCurveTo(s,o+c,s,o+c-h),"center"===a&&"left"===r&&this.drawCaret(e,t,i,n),t.lineTo(s,o+u),t.quadraticCurveTo(s,o,s+u,o),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){let t=this.chart,i=this.$animations,n=i&&i.x,r=i&&i.y;if(n||r){let i=mH[e.position].call(this,this._active,this._eventPosition);if(!i)return;let a=this._size=mY(this,e),s=Object.assign({},i,this._size),o=mX(t,e,s),l=mQ(e,s,o,t);(n._to!==l.x||r._to!==l.y)&&(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=a.width,this.height=a.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){var t,i,n,r;let a,s,o=this.options.setContext(this.getContext()),l=this.opacity;if(!l)return;this._updateAnimationTarget(o);let c={width:this.width,height:this.height},u={x:this.x,y:this.y};l=.001>Math.abs(l)?0:l;let d=pl(o.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;o.enabled&&h&&(e.save(),e.globalAlpha=l,this.drawBackground(u,e,c,o),t=e,("ltr"===(i=o.textDirection)||"rtl"===i)&&(s=[(a=t.canvas.style).getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",i,"important"),t.prevTextDirection=s),u.y+=d.top,this.drawTitle(u,e,o),this.drawBody(u,e,o),this.drawFooter(u,e,o),n=e,void 0!==(r=o.textDirection)&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",r[0],r[1])),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){let i=this._active,n=e.map(({datasetIndex:e,index:t})=>{let i=this.chart.getDatasetMeta(e);if(!i)throw Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[t],index:t}}),r=!dQ(i,n),a=this._positionChanged(n,t);(r||a)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let n=this.options,r=this._active||[],a=this._getActiveElements(e,r,t,i),s=this._positionChanged(a,e),o=t||!dQ(a,r)||s;return o&&(this._active=a,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,i,n){let r=this.options;if("mouseout"===e.type)return[];if(!n)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));let a=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&a.reverse(),a}_positionChanged(e,t){let{caretX:i,caretY:n,options:r}=this,a=mH[r.position].call(this,e,t);return!1!==a&&(i!==a.x||n!==a.y)}}let m4=(e,t,i,n)=>("string"==typeof t?(i=e.push(t)-1,n.unshift({index:i,label:t})):isNaN(t)&&(i=null),i),m5=(e,t)=>null===e?null:hk(Math.round(e),0,t);function m6(e){let t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class m8 extends f5{static id="category";static defaults={ticks:{callback:m6}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let t=this._addedLabels;if(t.length){let e=this.getLabels();for(let{index:i,label:n}of t)e[i]===n&&e.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(dB(e))return null;let i=this.getLabels();return m5(t=isFinite(t)&&i[t]===e?t:function(e,t,i,n){let r=e.indexOf(t);return -1===r?m4(e,t,i,n):r!==e.lastIndexOf(t)?i:r}(i,e,dH(t,e),this._addedLabels),i.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:i,max:n}=this.getMinMax(!0);"ticks"!==this.options.bounds||(e||(i=0),t||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){let e=this.min,t=this.max,i=this.options.offset,n=[],r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let i=e;i<=t;i++)n.push({value:i});return n}getLabelForValue(e){return m6.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function m9(e,t,{horizontal:i,minRotation:n}){let r=hm(n),a=(i?Math.sin(r):Math.cos(r))||.001,s=.75*t*(""+e).length;return Math.min(t/a,s)}class m7 extends f5{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return dB(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds(),{min:n,max:r}=this,a=e=>n=t?n:e,s=e=>r=i?r:e;if(e){let e=hu(n),t=hu(r);e<0&&t<0?s(0):e>0&&t>0&&a(0)}if(n===r){let t=0===r?1:Math.abs(.05*r);s(r+t),e||a(n-t)}this.min=n,this.max=r}getTickLimit(){let e;let{maxTicksLimit:t,stepSize:i}=this.options.ticks;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1)>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3):(e=this.computeTickLimit(),t=t||11),t&&(e=Math.min(t,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,i=this.getTickLimit(),n=function(e,t){let i,n,r,a;let s=[],{bounds:o,step:l,min:c,max:u,precision:d,count:h,maxTicks:p,maxDigits:f,includeBounds:m}=e,g=l||1,y=p-1,{min:v,max:b}=t,w=!dB(c),x=!dB(u),k=!dB(h),S=(b-v)/(f+1),_=hh((b-v)/y/g)*g;if(_<1e-14&&!w&&!x)return[{value:v},{value:b}];(a=Math.ceil(b/_)-Math.floor(v/_))>y&&(_=hh(a*_/y/g)*g),dB(d)||(_=Math.ceil(_*(i=Math.pow(10,d)))/i),"ticks"===o?(n=Math.floor(v/_)*_,r=Math.ceil(b/_)*_):(n=v,r=b),w&&x&&l&&function(e,t){let i=Math.round(e);return i-t<=e&&i+t>=e}((u-c)/l,_/1e3)?(a=Math.round(Math.min((u-c)/_,p)),_=(u-c)/a,n=c,r=u):k?(n=w?c:n,_=((r=x?u:r)-n)/(a=h-1)):a=hd(a=(r-n)/_,Math.round(a),_/1e3)?Math.round(a):Math.ceil(a);let R=Math.max(hg(_),hg(n));n=Math.round(n*(i=Math.pow(10,dB(d)?R:d)))/i,r=Math.round(r*i)/i;let E=0;for(w&&(m&&n!==c?(s.push({value:c}),n<c&&E++,hd(Math.round((n+E*_)*i)/i,c,m9(c,S,e))&&E++):n<c&&E++);E<a;++E){let e=Math.round((n+E*_)*i)/i;if(x&&e>u)break;s.push({value:e})}return x&&m&&r!==u?s.length&&hd(s[s.length-1].value,u,m9(u,S,e))?s[s.length-1].value=u:s.push({value:u}):x&&r!==u||s.push({value:r}),s}({maxTicks:i=Math.max(2,i),bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&hf(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){let e=this.ticks,t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let n=(i-t)/Math.max(e.length-1,1)/2;t-=n,i+=n}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return hW(e,this.chart.options.locale,this.options.ticks.format)}}class ge extends m7{static id="linear";static defaults={ticks:{callback:hG.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=dV(e)?e:0,this.max=dV(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,i=hm(this.options.ticks.minRotation),n=(e?Math.sin(i):Math.cos(i))||.001;return Math.ceil(t/Math.min(40,this._resolveTickFontOptions(0).lineHeight/n))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}let gt=e=>Math.floor(hc(e)),gi=(e,t)=>Math.pow(10,gt(e)+t);function gn(e){return 1==e/Math.pow(10,gt(e))}function gr(e,t,i){let n=Math.pow(10,i),r=Math.floor(e/n);return Math.ceil(t/n)-r}class ga extends f5{static id="logarithmic";static defaults={ticks:{callback:hG.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let i=m7.prototype.parse.apply(this,[e,t]);if(0===i){this._zero=!0;return}return dV(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=dV(e)?Math.max(0,e):null,this.max=dV(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!dV(this._userMin)&&(this.min=e===gi(this.min,0)?gi(this.min,-1):gi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),i=this.min,n=this.max,r=t=>i=e?i:t,a=e=>n=t?n:e;i===n&&(i<=0?(r(1),a(10)):(r(gi(i,-1)),a(gi(n,1)))),i<=0&&r(gi(n,-1)),n<=0&&a(gi(i,1)),this.min=i,this.max=n}buildTicks(){let e=this.options,t=function(e,{min:t,max:i}){t=dW(e.min,t);let n=[],r=gt(t),a=function(e,t){let i=gt(t-e);for(;gr(e,t,i)>10;)i++;for(;10>gr(e,t,i);)i--;return Math.min(i,gt(e))}(t,i),s=a<0?Math.pow(10,Math.abs(a)):1,o=Math.pow(10,a),l=r>a?Math.pow(10,r):0,c=Math.round((t-l)*s)/s,u=Math.floor((t-l)/o/10)*o*10,d=Math.floor((c-u)/Math.pow(10,a)),h=dW(e.min,Math.round((l+u+d*Math.pow(10,a))*s)/s);for(;h<i;)n.push({value:h,major:gn(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(d=2,s=++a>=0?1:s),h=Math.round((l+u+d*Math.pow(10,a))*s)/s;let p=dW(e.max,h);return n.push({value:p,major:gn(p),significand:d}),n}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&hf(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":hW(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=hc(e),this._valueRange=hc(this.max)-hc(e)}getPixelForValue(e){return((void 0===e||0===e)&&(e=this.min),null===e||isNaN(e))?NaN:this.getPixelForDecimal(e===this.min?0:(hc(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function gs(e){let t=e.ticks;if(t.display&&e.display){let e=pl(t.backdropPadding);return dH(t.font&&t.font.size,h0.font.size)+e.height}return 0}function go(e,t,i,n,r){return e===n||e===r?{start:t-i/2,end:t+i/2}:e<n||e>r?{start:t-i,end:t}:{start:t,end:t+i}}function gl(e,t,i,n){let{ctx:r}=e;if(i)r.arc(e.xCenter,e.yCenter,t,0,hi);else{let i=e.getPointPosition(0,t);r.moveTo(i.x,i.y);for(let a=1;a<n;a++)i=e.getPointPosition(a,t),r.lineTo(i.x,i.y)}}class gc extends m7{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:hG.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=pl(gs(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=dV(e)&&!isNaN(e)?e:0,this.max=dV(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/gs(this.options))}generateTickLabels(e){m7.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{let i=dY(this.options.pointLabels.callback,[e,t],this);return i||0===i?i:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){let e=this.options;e.display&&e.pointLabels.display?function(e){let t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},i=Object.assign({},t),n=[],r=[],a=e._pointLabels.length,s=e.options.pointLabels,o=s.centerPointLabels?ht/a:0;for(let u=0;u<a;u++){var l,c;let a=s.setContext(e.getPointLabelContext(u));r[u]=a.padding;let d=e.getPointPosition(u,e.drawingArea+r[u],o),h=pc(a.font),p=(l=e.ctx,c=dK(c=e._pointLabels[u])?c:[c],{w:function(e,t,i,n){let r,a,s,o,l;let c=(n=n||{}).data=n.data||{},u=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(c=n.data={},u=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let d=0,h=i.length;for(r=0;r<h;r++)if(null==(o=i[r])||dK(o)){if(dK(o))for(a=0,s=o.length;a<s;a++)null==(l=o[a])||dK(l)||(d=h1(e,c,u,d,l))}else d=h1(e,c,u,d,o);e.restore();let p=u.length/2;if(p>i.length){for(r=0;r<p;r++)delete c[u[r]];u.splice(0,p)}return d}(l,h.string,c),h:c.length*h.lineHeight});n[u]=p;let f=hw(e.getIndexAngle(u)+o),m=Math.round(180/ht*f);(function(e,t,i,n,r){let a=Math.abs(Math.sin(i)),s=Math.abs(Math.cos(i)),o=0,l=0;n.start<t.l?(o=(t.l-n.start)/a,e.l=Math.min(e.l,t.l-o)):n.end>t.r&&(o=(n.end-t.r)/a,e.r=Math.max(e.r,t.r+o)),r.start<t.t?(l=(t.t-r.start)/s,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/s,e.b=Math.max(e.b,t.b+l))})(i,t,f,go(m,d.x,p.w,0,180),go(m,d.y,p.h,90,270))}e.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),e._pointLabelItems=function(e,t,i){let n;let r=[],a=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:l}=s.pointLabels,c={extra:gs(s)/2,additionalAngle:o?ht/a:0};for(let s=0;s<a;s++){c.padding=i[s],c.size=t[s];let a=function(e,t,i){var n,r,a,s;let o=e.drawingArea,{extra:l,additionalAngle:c,padding:u,size:d}=i,h=e.getPointPosition(t,o+l+u,c),p=Math.round(180/ht*hw(h.angle+hs)),f=(n=h.y,r=d.h,90===p||270===p?n-=r/2:(p>270||p<90)&&(n-=r),n),m=0===p||180===p?"center":p<180?"left":"right",g=(a=h.x,s=d.w,"right"===m?a-=s:"center"===m&&(a-=s/2),a);return{visible:!0,x:h.x,y:f,textAlign:m,left:g,top:f,right:g+d.w,bottom:f+d.h}}(e,s,c);r.push(a),"auto"===l&&(a.visible=function(e,t){if(!t)return!0;let{left:i,top:n,right:r,bottom:a}=e;return!(h5({x:i,y:n},t)||h5({x:i,y:a},t)||h5({x:r,y:n},t)||h5({x:r,y:a},t))}(a,n),a.visible&&(n=a))}return r}(e,n,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,n))}getIndexAngle(e){return hw(hi/(this._pointLabels.length||1)*e+hm(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(dB(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(dB(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let i=t[e];return pd(this.getContext(),{label:i,index:e,type:"pointLabel"})}}getPointPosition(e,t,i=0){let n=this.getIndexAngle(e)-hs+i;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:i,right:n,bottom:r}=this._pointLabelItems[e];return{left:t,top:i,right:n,bottom:r}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),gl(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e,t,i;let n=this.ctx,r=this.options,{angleLines:a,grid:s,border:o}=r,l=this._pointLabels.length;if(r.pointLabels.display&&function(e,t){let{ctx:i,options:{pointLabels:n}}=e;for(let r=t-1;r>=0;r--){let t=e._pointLabelItems[r];if(!t.visible)continue;let a=n.setContext(e.getPointLabelContext(r));!function(e,t,i){let{left:n,top:r,right:a,bottom:s}=i,{backdropColor:o}=t;if(!dB(o)){let i=po(t.borderRadius),l=pl(t.backdropPadding);e.fillStyle=o;let c=n-l.left,u=r-l.top,d=a-n+l.width,h=s-r+l.height;Object.values(i).some(e=>0!==e)?(e.beginPath(),pt(e,{x:c,y:u,w:d,h:h,radius:i}),e.fill()):e.fillRect(c,u,d,h)}}(i,a,t);let s=pc(a.font),{x:o,y:l,textAlign:c}=t;pe(i,e._pointLabels[r],o,l+s.lineHeight/2,s,{color:a.color,textAlign:c,textBaseline:"middle"})}}(this,l),s.display&&this.ticks.forEach((e,i)=>{if(0!==i||0===i&&this.min<0){t=this.getDistanceFromCenterForValue(e.value);let n=this.getContext(i),r=s.setContext(n),a=o.setContext(n);!function(e,t,i,n,r){let a=e.ctx,s=t.circular,{color:o,lineWidth:l}=t;(s||n)&&o&&l&&!(i<0)&&(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(r.dash),a.lineDashOffset=r.dashOffset,a.beginPath(),gl(e,i,s,n),a.closePath(),a.stroke(),a.restore())}(this,r,t,l,a)}}),a.display){for(n.save(),e=l-1;e>=0;e--){let s=a.setContext(this.getPointLabelContext(e)),{color:o,lineWidth:l}=s;l&&o&&(n.lineWidth=l,n.strokeStyle=o,n.setLineDash(s.borderDash),n.lineDashOffset=s.borderDashOffset,t=this.getDistanceFromCenterForValue(r.ticks.reverse?this.min:this.max),i=this.getPointPosition(e,t),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(i.x,i.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let e,t;let i=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;let a=this.getIndexAngle(0);i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(a),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((a,s)=>{if(0===s&&this.min>=0&&!n.reverse)return;let o=r.setContext(this.getContext(s)),l=pc(o.font);if(e=this.getDistanceFromCenterForValue(this.ticks[s].value),o.showLabelBackdrop){i.font=l.string,t=i.measureText(a.label).width,i.fillStyle=o.backdropColor;let n=pl(o.backdropPadding);i.fillRect(-t/2-n.left,-e-l.size/2-n.top,t+n.width,l.size+n.height)}pe(i,a.label,0,-e,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}),i.restore()}drawTitle(){}}let gu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},gd=Object.keys(gu);function gh(e,t){return e-t}function gp(e,t){if(dB(t))return null;let i=e._adapter,{parser:n,round:r,isoWeekday:a}=e._parseOpts,s=t;return("function"==typeof n&&(s=n(s)),dV(s)||(s="string"==typeof n?i.parse(s,n):i.parse(s)),null===s)?null:(r&&(s="week"===r&&(hp(a)||!0===a)?i.startOf(s,"isoWeek",a):i.startOf(s,r)),+s)}function gf(e,t,i,n){let r=gd.length;for(let a=gd.indexOf(e);a<r-1;++a){let e=gu[gd[a]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((i-t)/(r*e.size))<=n)return gd[a]}return gd[r-1]}function gm(e,t,i){if(i){if(i.length){let{lo:n,hi:r}=h_(i,t);e[i[n]>=t?i[n]:i[r]]=!0}}else e[t]=!0}function gg(e,t,i){let n,r;let a=[],s={},o=t.length;for(n=0;n<o;++n)s[r=t[n]]=n,a.push({value:r,major:!1});return 0!==o&&i?function(e,t,i,n){let r,a;let s=e._adapter,o=+s.startOf(t[0].value,n),l=t[t.length-1].value;for(r=o;r<=l;r=+s.add(r,1,n))(a=i[r])>=0&&(t[a].major=!0);return t}(e,a,s,i):a}class gy extends f5{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){let i=e.time||(e.time={}),n=this._adapter=new fb._date(e.adapters.date);n.init(t),d3(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:gp(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,t=this._adapter,i=e.time.unit||"day",{min:n,max:r,minDefined:a,maxDefined:s}=this.getUserBounds();function o(e){a||isNaN(e.min)||(n=Math.min(n,e.min)),s||isNaN(e.max)||(r=Math.max(r,e.max))}a&&s||(o(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&o(this.getMinMax(!1))),n=dV(n)&&!isNaN(n)?n:+t.startOf(Date.now(),i),r=dV(r)&&!isNaN(r)?r:+t.endOf(Date.now(),i)+1,this.min=Math.min(n,r-1),this.max=Math.max(n+1,r)}_getLabelBounds(){let e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){let e=this.options,t=e.time,i=e.ticks,n="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);let r=this.min,a=function(e,t,i){let n=0,r=e.length;for(;n<r&&e[n]<t;)n++;for(;r>n&&e[r-1]>i;)r--;return n>0||r<e.length?e.slice(n,r):e}(n,r,this.max);return this._unit=t.unit||(i.autoSkip?gf(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,i,n,r){for(let a=gd.length-1;a>=gd.indexOf(i);a--){let i=gd[a];if(gu[i].common&&e._adapter.diff(r,n,i)>=t-1)return i}return gd[i?gd.indexOf(i):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(e){for(let t=gd.indexOf(e)+1,i=gd.length;t<i;++t)if(gu[gd[t]].common)return gd[t]}(this._unit):void 0,this.initOffsets(n),e.reverse&&a.reverse(),gg(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t,i,n=0,r=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),n=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,i=this.getDecimalForValue(e[e.length-1]),r=1===e.length?i:(i-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;n=hk(n,0,a),r=hk(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){let e,t;let i=this._adapter,n=this.min,r=this.max,a=this.options,s=a.time,o=s.unit||gf(s.minUnit,n,r,this._getLabelCapacity(n)),l=dH(a.ticks.stepSize,1),c="week"===o&&s.isoWeekday,u=hp(c)||!0===c,d={},h=n;if(u&&(h=+i.startOf(h,"isoWeek",c)),h=+i.startOf(h,u?"day":o),i.diff(r,n,o)>1e5*l)throw Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+o);let p="data"===a.ticks.source&&this.getDataTimestamps();for(e=h,t=0;e<r;e=+i.add(e,l,o),t++)gm(d,e,p);return(e===r||"ticks"===a.bounds||1===t)&&gm(d,e,p),Object.keys(d).sort(gh).map(e=>+e)}getLabelForValue(e){let t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){let i=this.options.time.displayFormats,n=this._unit,r=t||i[n];return this._adapter.format(e,r)}_tickFormatFunction(e,t,i,n){let r=this.options,a=r.ticks.callback;if(a)return dY(a,[e,t,i],this);let s=r.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&s[o],u=l&&s[l],d=i[t],h=l&&u&&d&&d.major;return this._adapter.format(e,n||(h?u:c))}generateTickLabels(e){let t,i,n;for(t=0,i=e.length;t<i;++t)(n=e[t]).label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){let t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){let t=this.options.ticks,i=this.ctx.measureText(e).width,n=hm(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(n),a=Math.sin(n),s=this._resolveTickFontOptions(0).size;return{w:i*r+s*a,h:i*a+s*r}}_getLabelCapacity(e){let t=this.options.time,i=t.displayFormats,n=i[t.unit]||i.millisecond,r=this._tickFormatFunction(e,0,gg(this,[e],this._majorUnit),n),a=this._getLabelSize(r),s=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return s>0?s:1}getDataTimestamps(){let e,t,i=this._cache.data||[];if(i.length)return i;let n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,t=n.length;e<t;++e)i=i.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){let e,t;let i=this._cache.labels||[];if(i.length)return i;let n=this.getLabels();for(e=0,t=n.length;e<t;++e)i.push(gp(this,n[e]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(e){return hP(e.sort(gh))}}function gv(e,t,i){let n,r,a,s,o=0,l=e.length-1;i?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=hR(e,"pos",t)),{pos:n,time:a}=e[o],{pos:r,time:s}=e[l]):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=hR(e,"time",t)),{time:n,pos:a}=e[o],{time:r,pos:s}=e[l]);let c=r-n;return c?a+(s-a)*(t-n)/c:a}class gb extends gy{static id="timeseries";static defaults=gy.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=gv(t,this.min),this._tableRange=gv(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let t,i,n;let{min:r,max:a}=this,s=[],o=[];for(t=0,i=e.length;t<i;++t)(n=e[t])>=r&&n<=a&&s.push(n);if(s.length<2)return[{time:r,pos:0},{time:a,pos:1}];for(t=0,i=s.length;t<i;++t)Math.round((s[t+1]+s[t-1])/2)!==(n=s[t])&&o.push({time:n,pos:t/(i-1)});return o}_generate(){let e=this.min,t=this.max,i=super.getDataTimestamps();return i.includes(e)&&i.length||i.splice(0,0,e),i.includes(t)&&1!==i.length||i.push(t),i.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),i=this.getLabelTimestamps();return e=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,e=this._cache.all=e}getDecimalForValue(e){return(gv(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return gv(this._table,i*this._tableRange+this._minPos,!0)}}let gw="label";function gx(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function gk(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gw,n=[];e.datasets=t.map(t=>{let r=e.datasets.find(e=>e[i]===t[i]);return!r||!t.data||n.includes(r)?{...t}:(n.push(r),Object.assign(r,t),r)})}let gS=(0,uo.forwardRef)(function(e,t){let{height:i=150,width:n=300,redraw:r=!1,datasetIdKey:a,type:s,data:o,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...h}=e,p=(0,uo.useRef)(null),f=(0,uo.useRef)(),m=()=>{p.current&&(f.current=new mk(p.current,{type:s,data:function(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gw,n={labels:[],datasets:[]};return t=e.labels,n.labels=t,gk(n,e.datasets,i),n}(o,a),options:l&&{...l},plugins:c}),gx(t,f.current))},g=()=>{gx(t,null),f.current&&(f.current.destroy(),f.current=null)};return(0,uo.useEffect)(()=>{!r&&f.current&&l&&function(e,t){let i=e.options;i&&t&&Object.assign(i,t)}(f.current,l)},[r,l]),(0,uo.useEffect)(()=>{if(!r&&f.current){var e,t;e=f.current.config.data,t=o.labels,e.labels=t}},[r,o.labels]),(0,uo.useEffect)(()=>{!r&&f.current&&o.datasets&&gk(f.current.config.data,o.datasets,a)},[r,o.datasets]),(0,uo.useEffect)(()=>{f.current&&(r?(g(),setTimeout(m)):f.current.update(d))},[r,l,o.labels,o.datasets,d]),(0,uo.useEffect)(()=>{f.current&&(g(),setTimeout(m))},[s]),(0,uo.useEffect)(()=>(m(),()=>g()),[]),uo.createElement("canvas",Object.assign({ref:p,role:"img",height:i,width:n},h),u)}),g_=(y="line",mk.register(fh),(0,uo.forwardRef)((e,t)=>uo.createElement(gS,Object.assign({},e,{ref:t,type:y})))),gR=({participant:e,trackType:t="audioTrack",...i})=>{let n=uJ(),[r,a]=(0,uo.useState)(null),{userId:s,sessionId:o}=e;return(0,uo.useEffect)(()=>{if(!n||!r)return;let e=n.bindAudioElement(r,o,t);return()=>{e?.()}},[n,o,r,t]),(0,us.jsx)("audio",{autoPlay:!0,...i,ref:a,"data-user-id":s,"data-session-id":o,"data-track-type":t})},gE=e=>{let{participants:t,audioProps:i}=e;return(0,us.jsx)(us.Fragment,{children:t.map(e=>{if(e.isLocalParticipant)return null;let{publishedTracks:t,audioStream:n,screenShareAudioStream:r,sessionId:a}=e,s=t.includes(ss.TrackType.AUDIO)&&n&&(0,us.jsx)(gR,{...i,trackType:"audioTrack",participant:e}),o=t.includes(ss.TrackType.SCREEN_SHARE_AUDIO)&&r&&(0,us.jsx)(gR,{...i,trackType:"screenShareAudioTrack",participant:e});return(0,us.jsxs)(uo.Fragment,{children:[s,o]},a)})})},gT=(0,uo.createContext)(void 0),gC=()=>(0,uo.useContext)(gT),gP=({imageSrc:e,name:t,style:i,className:n,...r})=>{let[a,s]=(0,uo.useState)(!1);return(0,us.jsxs)(us.Fragment,{children:[(!e||a)&&t&&(0,us.jsx)(gA,{className:n,style:i,names:[t]}),e&&!a&&(0,us.jsx)("img",{onError:()=>s(!0),alt:"avatar",className:(0,ds.Z)("str-video__avatar",n),src:e,style:i,...r})]})},gA=({className:e,names:t,style:i})=>(0,us.jsx)("div",{className:(0,ds.Z)("str-video__avatar--initials-fallback",e),style:i,children:(0,us.jsxs)("div",{children:[t[0][0],t[1]?.[0]]})}),gI=({placement:e,strategy:t,offset:i=10})=>{let{refs:n,x:r,y:a,update:s,elements:{domReference:o,floating:l}}=(0,dl.YF)({placement:e,strategy:t,middleware:[(0,dc.cv)(i),(0,du.uY)(),(0,du.RR)(),(0,du.dp)({padding:10,apply:({availableHeight:e,elements:t})=>{Object.assign(t.floating.style,{maxHeight:`${e}px`})}})]});return(0,uo.useEffect)(()=>{if(!o||!l)return;let e=(0,du.Me)(o,l,s);return()=>e()},[o,l,s]),{refs:n,x:r,y:a,domReference:o,floating:l,strategy:t}},gO=10,gj=(e,t=gO)=>{let[i,n]=(0,uo.useState)(null);return(0,uo.useEffect)(()=>{if(!e)return;let i=()=>e.scrollHeight>e.clientHeight?e.scrollTop<=t?n("top"):Math.abs(e.scrollHeight-e.scrollTop-e.clientHeight)<=t?n("bottom"):void n("between"):n(null),r=new ResizeObserver(i);return r.observe(e),e.addEventListener("scroll",i),()=>{e.removeEventListener("scroll",i),r.disconnect()}},[e,t]),i},gN=(e,t=gO)=>{let[i,n]=(0,uo.useState)(null);return(0,uo.useEffect)(()=>{if(!e)return;let i=()=>e.scrollWidth>e.clientWidth?e.scrollLeft<=t?n("start"):Math.abs(e.scrollWidth-e.scrollLeft-e.clientWidth)<=t?n("end"):void n("between"):n(null),r=new ResizeObserver(i);return r.observe(e),e.addEventListener("scroll",i),()=>{e.removeEventListener("scroll",i),r.disconnect()}},[e,t]),i},gL=()=>{let e=uJ(),{useIsCallRecordingInProgress:t}=dr(),i=t(),[n,r]=(0,uo.useState)(!1);return(0,uo.useEffect)(()=>{r(e=>!e&&e)},[i]),{toggleCallRecording:(0,uo.useCallback)(async()=>{try{r(!0),i?await e?.stopRecording():await e?.startRecording()}catch(e){console.error("Failed start recording",e)}},[e,i]),isAwaitingResponse:n,isCallRecordingInProgress:i}},gD=e=>{let t=uJ(),{useHasPermissions:i}=dr(),n=i(e),[r,a]=(0,uo.useState)(!1);return(0,uo.useEffect)(()=>{n&&a(!1)},[n]),{requestPermission:(0,uo.useCallback)(async()=>{if(n)return!0;let i=!!t?.permissionsContext.canRequest(e);if(r||!i)return!1;a(!0);try{await t?.requestPermissions({permissions:[e]})}catch(e){throw a(!1),Error(`requestPermission failed: ${e}`)}return!1},[t,n,r,e]),hasPermission:n,canRequestPermission:!!t?.permissionsContext.canRequest(e),isAwaitingPermission:r}};!function(e){e.PORTAL="portal",e.MENU="menu"}(M||(M={}));let gU=(0,uo.createContext)({}),gq=()=>(0,uo.useContext)(gU),gM=({children:e,refs:t})=>{let i=(0,uo.useMemo)(()=>`str-video-portal-${Math.random().toString(36).substring(2,9)}`,[]);return(0,us.jsxs)(us.Fragment,{children:[(0,us.jsx)("div",{id:i,className:"str-video__portal"}),(0,us.jsx)(dl.y0,{children:(0,us.jsx)(dl.ll,{id:i,children:(0,us.jsx)("div",{className:"str-video__portal-content",ref:t.setFloating,children:e})})})]})},gF=({ToggleButton:e,placement:t="top-start",strategy:i="absolute",offset:n,visualType:r=M.MENU,children:a})=>{let[s,o]=(0,uo.useState)(!1),{floating:l,domReference:c,refs:u,x:d,y:h}=gI({placement:t,strategy:i,offset:n});return(0,uo.useEffect)(()=>{let e=e=>{!l&&c?.contains(e.target)?o(!0):l&&!l?.contains(e.target)&&o(!1)},t=e=>{"escape"!==e.key.toLowerCase()||e.altKey||e.ctrlKey||o(!1)};return document?.addEventListener("click",e,{capture:!0}),document?.addEventListener("keydown",t),()=>{document?.removeEventListener("click",e,{capture:!0}),document?.removeEventListener("keydown",t)}},[l,c]),(0,us.jsxs)(us.Fragment,{children:[s&&(0,us.jsx)(gU.Provider,{value:{close:()=>o(!1)},children:r===M.PORTAL?(0,us.jsx)(gM,{refs:u,children:a}):r===M.MENU?(0,us.jsx)("div",{className:"str-video__menu-container",ref:u.setFloating,style:{position:i,top:h??0,left:d??0,overflowY:"auto"},children:a}):null}),(0,us.jsx)(e,{menuShown:s,ref:u.setReference})]})},g$=({children:e,onItemClick:t})=>{let i=(0,uo.useRef)(null);return(0,us.jsx)("ul",{className:"str-video__generic-menu",ref:i,onClick:e=>{t&&e.target!==i.current&&i.current?.contains(e.target)&&t(e)},children:e})},gB=({children:e,...t})=>(0,us.jsx)("li",{className:"str-video__generic-menu--item",children:(0,us.jsx)("button",{...t,children:e})}),gK=({className:e,icon:t})=>(0,us.jsx)("span",{className:(0,ds.Z)("str-video__icon",t&&`str-video__icon--${t}`,e)}),gz=(0,uo.forwardRef)(function(e,t){let{icon:i,enabled:n,variant:r,onClick:a,className:s,...o}=e;return(0,us.jsx)("button",{className:(0,ds.Z)("str-video__call-controls__button",s,{[`str-video__call-controls__button--variant-${r}`]:r,"str-video__call-controls__button--enabled":n}),onClick:e=>{e.preventDefault(),a?.(e)},ref:t,...o,children:(0,us.jsx)(gK,{icon:i})})}),gV=e=>null!==e&&!(0,uo.isValidElement)(e),gW=(e,t)=>Array.from({length:Math.ceil(e.length/t)},(i,n)=>e.slice(t*n,t*n+t)),gH=(e,t)=>{if(e){if("function"==typeof e)return e(t);e.current=t}},gG=(0,uo.forwardRef)(function({caption:e,children:t,className:i,active:n,Menu:r,menuPlacement:a,menuOffset:s,title:o,ToggleMenuButton:l=gJ,variant:c,onClick:u,...d},h){return(0,us.jsxs)("div",{className:(0,ds.Z)("str-video__composite-button",i,{"str-video__composite-button--caption":e,"str-video__composite-button--menu":r}),title:o,ref:h,children:[(0,us.jsxs)("div",{className:(0,ds.Z)("str-video__composite-button__button-group",{"str-video__composite-button__button-group--active":n,"str-video__composite-button__button-group--active-primary":n&&"primary"===c,"str-video__composite-button__button-group--active-secondary":n&&"secondary"===c}),children:[(0,us.jsx)("button",{type:"button",className:"str-video__composite-button__button",onClick:e=>{e.preventDefault(),u?.(e)},...d,children:t}),r&&(0,us.jsx)(gF,{offset:s,placement:a,ToggleButton:l,children:gV(r)?(0,us.jsx)(r,{}):r})]}),e&&(0,us.jsx)("div",{className:"str-video__composite-button__caption",children:e})]})}),gJ=(0,uo.forwardRef)(function({menuShown:e},t){return(0,us.jsx)(gz,{className:(0,ds.Z)("str-video__menu-toggle-button",{"str-video__menu-toggle-button--active":e}),icon:e?"caret-down":"caret-up",ref:t})}),gY=({children:e,...t})=>(0,us.jsx)("button",{...t,className:"str-video__text-button",children:e}),gX=e=>{let{isVisible:t,message:i,children:n,visibilityTimeout:r,resetIsVisible:a,placement:s="top",iconClassName:o="str-video__notification__icon",close:l}=e,{refs:c,x:u,y:d,strategy:h}=gI({placement:s,strategy:"absolute"});return(0,uo.useEffect)(()=>{if(!t||!r||!a)return;let e=setTimeout(()=>{a()},r);return()=>clearTimeout(e)},[t,a,r]),(0,us.jsxs)("div",{ref:c.setReference,children:[t&&(0,us.jsxs)("div",{className:"str-video__notification",ref:c.setFloating,style:{position:h,top:d??0,left:u??0,overflowY:"auto"},children:[o&&(0,us.jsx)("i",{className:o}),(0,us.jsx)("span",{className:"str-video__notification__message",children:i}),l?(0,us.jsx)("i",{className:"str-video__icon str-video__icon--close str-video__notification__close",onClick:l}):null]}),n]})},gQ=e=>{let{permission:t,isAwaitingApproval:i,messageApproved:n,messageAwaitingApproval:r,messageRevoked:a,visibilityTimeout:s=3500,children:o}=e,{useHasPermissions:l}=dr(),c=l(t),u=(0,uo.useRef)(c),[d,h]=(0,uo.useState)();(0,uo.useEffect)(()=>{c&&!u.current?(h("granted"),u.current=!0):!c&&u.current&&(h("revoked"),u.current=!1)},[c]);let p=(0,uo.useCallback)(()=>h(void 0),[]);return i?(0,us.jsx)(gX,{isVisible:i&&!c,message:r,children:o}):(0,us.jsx)(gX,{isVisible:!!d,visibilityTimeout:s,resetIsVisible:p,message:"granted"===d?n:a,children:o})},gZ=({children:e,text:t,placement:i})=>{let{useMicrophoneState:n}=dr(),{isSpeakingWhileMuted:r}=n(),{t:a}=u4(),s=t??a("You are muted. Unmute to speak.");return(0,us.jsx)(gX,{message:s,isVisible:r,placement:i||"top-start",children:e})},g0=({className:e,type:t="spinner",text:i,tooltip:n})=>(0,us.jsxs)("div",{className:(0,ds.Z)("str-video__loading-indicator",e),title:n,children:[(0,us.jsx)("div",{className:(0,ds.Z)("str-video__loading-indicator__icon",t)}),i&&(0,us.jsx)("p",{className:"str-video__loading-indicator-text",children:i})]});(0,uo.forwardRef)(function(e,t){return(0,us.jsx)(gG,{ref:t,active:!0,variant:"secondary","data-testid":"recording-stop-button",children:(0,us.jsx)(gK,{icon:"recording-off"})})});let g1=({caption:e})=>{let{t}=u4(),{toggleCallRecording:i,isAwaitingResponse:n,isCallRecordingInProgress:r}=gL(),a=e||t("Record call");return n&&(a=t(r?"Waiting for recording to stop...":"Waiting for recording to start...")),(0,us.jsx)(da,{requiredGrants:[aE.START_RECORD_CALL,aE.STOP_RECORD_CALL],children:(0,us.jsx)(gG,{active:r,caption:e,variant:"secondary","data-testid":r?"recording-stop-button":"recording-start-button",title:a,onClick:n?void 0:i,children:n?(0,us.jsx)(g0,{}):(0,us.jsx)(gK,{icon:r?"recording-on":"recording-off"})})})},g2={":like:":"\uD83D\uDC4D",":raise-hand:":"",":fireworks:":"\uD83C\uDF89",":dislike:":"\uD83D\uDC4E",":heart:":"",":smile:":"\uD83D\uDE00"},g3=({participant:{reaction:e,sessionId:t},hideAfterTimeoutInMs:i=5500,emojiReactionMap:n=g2})=>{let r=uJ();if((0,uo.useEffect)(()=>{if(!r||!e)return;let n=setTimeout(()=>{r.resetReaction(t)},i);return()=>{clearTimeout(n)}},[r,i,e,t]),!e)return null;let{emoji_code:a}=e;return(0,us.jsx)("div",{className:"str-video__reaction",children:(0,us.jsx)("span",{className:"str-video__reaction__emoji",children:a&&n[a]})})},g4=[{type:"reaction",emoji_code:":like:"},{type:"raised-hand",emoji_code:":raise-hand:"},{type:"reaction",emoji_code:":fireworks:"},{type:"reaction",emoji_code:":dislike:"},{type:"reaction",emoji_code:":heart:"},{type:"reaction",emoji_code:":smile:"}],g5=({reactions:e=g4})=>(0,us.jsx)(da,{requiredGrants:[aE.CREATE_REACTION],children:(0,us.jsx)(gF,{placement:"top",ToggleButton:g6,visualType:M.MENU,children:(0,us.jsx)(g8,{reactions:e})})}),g6=(0,uo.forwardRef)(function({menuShown:e},t){let{t:i}=u4();return(0,us.jsx)(gG,{ref:t,active:e,variant:"primary",title:i("Reactions"),children:(0,us.jsx)(gK,{icon:"reactions"})})}),g8=({reactions:e,layout:t="horizontal"})=>{let i=uJ();return(0,us.jsx)("div",{className:(0,ds.Z)("str-video__reactions-menu",{"str-video__reactions-menu--horizontal":"horizontal"===t,"str-video__reactions-menu--vertical":"vertical"===t}),children:e.map(e=>(0,us.jsx)("button",{type:"button",className:"str-video__reactions-menu__button",onClick:()=>{i?.sendReaction(e)},children:e.emoji_code&&g2[e.emoji_code]},e.emoji_code))})},g9=e=>{let{t}=u4(),{caption:i}=e,{useHasOngoingScreenShare:n,useScreenShareState:r,useCallSettings:a}=dr(),s=n(),{hasPermission:o,requestPermission:l,isAwaitingPermission:c}=gD(aE.SCREENSHARE),u=a(),d=u?.screensharing.enabled,{screenShare:h,isMute:p}=r(),f=!!p&&(s||!1===d);return(0,us.jsx)(da,{requiredGrants:[aE.SCREENSHARE],children:(0,us.jsx)(gQ,{permission:aE.SCREENSHARE,isAwaitingApproval:c,messageApproved:t("You can now share your screen."),messageAwaitingApproval:t("Awaiting for an approval to share screen."),messageRevoked:t("You can no longer share your screen."),children:(0,us.jsx)(gG,{active:s,caption:i,title:i||t("Share screen"),variant:"primary","data-testid":s?"screen-share-stop-button":"screen-share-start-button",disabled:f,onClick:async()=>{o?await h.toggle():await l()},children:(0,us.jsx)(gK,{icon:s?"screen-share-on":"screen-share-off"})})})})},g7=(0,uo.createContext)({}),ye=e=>{let{children:t,icon:i,defaultSelectedLabel:n,defaultSelectedIndex:r,handleSelect:a}=e,[s,o]=(0,uo.useState)(!1),[l,c]=(0,uo.useState)(null),[u,d]=(0,uo.useState)(r),[h,p]=(0,uo.useState)(n),{refs:f,context:m}=(0,dl.YF)({placement:"bottom-start",open:s,onOpenChange:o,whileElementsMounted:du.Me,middleware:[(0,du.RR)()]}),g=(0,uo.useRef)([]),y=(0,uo.useRef)([]),v=(0,uo.useCallback)(e=>{d(e),a(e||0),o(!1),null!==e&&p(y.current[e])},[a]),b=(0,dl.c0)(m,{listRef:g,activeIndex:l,selectedIndex:u,onNavigate:c}),w=(0,dl.ox)(m,{listRef:y,activeIndex:l,selectedIndex:u,onMatch:e=>{s?c(e):v(e)}}),x=(0,dl.eS)(m),k=(0,dl.bQ)(m),S=(0,dl.qs)(m,{role:"listbox"}),{getReferenceProps:_,getFloatingProps:R,getItemProps:E}=(0,dl.NI)([b,w,x,k,S]),T=(0,uo.useMemo)(()=>({activeIndex:l,selectedIndex:u,getItemProps:E,handleSelect:v}),[l,u,E,v]);return(0,us.jsxs)("div",{className:"str-video__dropdown",children:[(0,us.jsxs)("div",{className:"str-video__dropdown-selected",ref:f.setReference,tabIndex:0,..._(),children:[(0,us.jsxs)("label",{className:"str-video__dropdown-selected__label",children:[i&&(0,us.jsx)(gK,{className:"str-video__dropdown-selected__icon",icon:i}),h]}),(0,us.jsx)(gK,{className:"str-video__dropdown-selected__chevron",icon:s?"chevron-up":"chevron-down"})]}),(0,us.jsx)(g7.Provider,{value:T,children:s&&(0,us.jsx)(dl.wD,{context:m,modal:!1,children:(0,us.jsx)("div",{className:"str-video__dropdown-list",ref:f.setFloating,...R(),children:(0,us.jsx)(dl.vs,{elementsRef:g,labelsRef:y,children:t})})})})]})},yt=e=>{let{selected:t,label:i,icon:n}=e,{getItemProps:r,handleSelect:a}=(0,uo.useContext)(g7),{ref:s,index:o}=(0,dl.JA)();return(0,us.jsxs)("div",{className:(0,ds.Z)("str-video__dropdown-option",{"str-video__dropdown-option--selected":t}),ref:s,...r({onClick:()=>a(o)}),children:[(0,us.jsx)(gK,{className:"str-video__dropdown-icon",icon:n}),(0,us.jsx)("span",{className:"str-video__dropdown-label",children:i})]})},yi=e=>{let{children:t,icon:i,handleSelect:n,defaultSelectedLabel:r,defaultSelectedIndex:a}=e;return(0,us.jsx)(ye,{icon:i,handleSelect:n,defaultSelectedIndex:a,defaultSelectedLabel:r,children:t})},yn=({disabled:e,id:t,label:i,onChange:n,name:r,selected:a,defaultChecked:s,value:o})=>(0,us.jsxs)("label",{className:(0,ds.Z)("str-video__device-settings__option",{"str-video__device-settings__option--selected":a,"str-video__device-settings__option--disabled":e}),htmlFor:t,children:[(0,us.jsx)("input",{type:"radio",name:r,onChange:n,value:o,id:t,checked:a,defaultChecked:s,disabled:e}),i]}),yr=e=>{let{devices:t=[],selectedDeviceId:i,title:n,type:r,onChange:a}=e,s=i;return t.length>0&&!t.find(e=>e.deviceId===s)&&(s=t[0].deviceId),(0,us.jsxs)("div",{className:"str-video__device-settings__device-kind",children:[n&&(0,us.jsx)("div",{className:"str-video__device-settings__device-selector-title",children:n}),t.length?t.map(e=>(0,us.jsx)(yn,{id:`${r}--${e.deviceId}`,value:e.deviceId,label:e.label,onChange:e=>{a?.(e.target.value)},name:r,selected:e.deviceId===s||1===t.length},e.deviceId)):(0,us.jsx)(yn,{id:`${r}--default`,label:"Default",name:r,defaultChecked:!0,value:"default"})]})},ya=e=>{let{devices:t=[],selectedDeviceId:i,title:n,onChange:r,icon:a}=e,s=i;t.length>0&&!t.find(e=>e.deviceId===s)&&(s=t[0].deviceId);let o=t.findIndex(e=>e.deviceId===s),l=(0,uo.useCallback)(e=>{r?.(t[e].deviceId)},[t,r]);return(0,us.jsxs)("div",{className:"str-video__device-settings__device-kind",children:[(0,us.jsx)("div",{className:"str-video__device-settings__device-selector-title",children:n}),(0,us.jsx)(yi,{icon:a,defaultSelectedIndex:o,defaultSelectedLabel:t[o]?.label,handleSelect:l,children:t.map(e=>(0,us.jsx)(yt,{icon:a,label:e.label,selected:e.deviceId===s||1===t.length},e.deviceId))})]})},ys=e=>{let{visualType:t="list",icon:i,placeholder:n,...r}=e;return"list"===t?(0,us.jsx)(yr,{...r}):(0,us.jsx)(ya,{...r,icon:i,placeholder:n})},yo=({title:e,visualType:t})=>{let{useMicrophoneState:i}=dr(),{microphone:n,selectedDevice:r,devices:a}=i();return(0,us.jsx)(ys,{devices:a||[],selectedDeviceId:r,type:"audioinput",onChange:async e=>{await n.select(e)},title:e,visualType:t,icon:"mic"})},yl=({title:e,visualType:t})=>{let{useSpeakerState:i}=dr(),{speaker:n,selectedDevice:r,devices:a,isDeviceSelectionSupported:s}=i();return s?(0,us.jsx)(ys,{devices:a,type:"audiooutput",selectedDeviceId:r,onChange:e=>{n.select(e)},title:e,visualType:t,icon:"speaker"}):null},yc=({title:e,visualType:t})=>{let{useCameraState:i}=dr(),{camera:n,devices:r,selectedDevice:a}=i();return(0,us.jsx)(ys,{devices:r||[],type:"videoinput",selectedDeviceId:a,onChange:async e=>{await n.select(e)},title:e,visualType:t,icon:"camera"})},yu=({visualType:e=M.MENU})=>(0,us.jsx)(gF,{placement:"bottom-end",ToggleButton:yh,visualType:e,children:(0,us.jsx)(yd,{})}),yd=()=>{let{t:e}=u4();return(0,us.jsxs)("div",{className:"str-video__device-settings",children:[(0,us.jsx)(yc,{title:e("Select a Camera")}),(0,us.jsx)(yo,{title:e("Select a Mic")}),(0,us.jsx)(yl,{title:e("Select Speakers")})]})},yh=(0,uo.forwardRef)(function({menuShown:e},t){let{t:i}=u4();return(0,us.jsx)(gz,{className:(0,ds.Z)("str-video__device-settings__button",{"str-video__device-settings__button--active":e}),title:i("Toggle device menu"),icon:"device-settings",ref:t})}),yp=e=>{let{t}=u4(),{caption:i,Menu:n=(0,us.jsx)(yo,{visualType:"list"}),menuPlacement:r="top",...a}=e,{hasPermission:s,requestPermission:o,isAwaitingPermission:l}=gD(aE.SEND_AUDIO),{useMicrophoneState:c}=dr(),{microphone:u,isMute:d,hasBrowserPermission:h}=c();return(0,us.jsx)(da,{requiredGrants:[aE.SEND_AUDIO],children:(0,us.jsx)(gQ,{permission:aE.SEND_AUDIO,isAwaitingApproval:l,messageApproved:t("You can now speak."),messageAwaitingApproval:t("Awaiting for an approval to speak."),messageRevoked:t("You can no longer speak."),children:(0,us.jsxs)(gG,{active:d,caption:i,title:s?h?i||t("Mic"):t("Check your browser mic permissions"):t("You have no permission to share your audio"),variant:"secondary",disabled:!h||!s,"data-testid":d?"audio-unmute-button":"audio-mute-button",onClick:async()=>{s?await u.toggle():await o()},Menu:n,menuPlacement:r,menuOffset:16,...a,children:[(0,us.jsx)(gK,{icon:d?"mic-off":"mic"}),(!h||!s)&&(0,us.jsx)("span",{className:"str-video__no-media-permission",children:"!"})]})})})},yf=e=>{let{t}=u4(),{caption:i,Menu:n=(0,us.jsx)(yc,{visualType:"list"}),menuPlacement:r="top",...a}=e,{hasPermission:s,requestPermission:o,isAwaitingPermission:l}=gD(aE.SEND_VIDEO),{useCameraState:c,useCallSettings:u}=dr(),{camera:d,isMute:h,hasBrowserPermission:p}=c(),f=u(),m=f?.video.enabled;return(0,us.jsx)(da,{requiredGrants:[aE.SEND_VIDEO],children:(0,us.jsx)(gQ,{permission:aE.SEND_VIDEO,isAwaitingApproval:l,messageApproved:t("You can now share your video."),messageAwaitingApproval:t("Awaiting for an approval to share your video."),messageRevoked:t("You can no longer share your video."),children:(0,us.jsxs)(gG,{active:h,caption:i,variant:"secondary",title:s?p?m?i||t("Video"):t("Video publishing is disabled by the system"):t("Check your browser video permissions"):t("You have no permission to share your video"),disabled:!p||!s||!m,"data-testid":h?"video-unmute-button":"video-mute-button",onClick:async()=>{s?await d.toggle():await o()},Menu:n,menuPlacement:r,menuOffset:16,...a,children:[(0,us.jsx)(gK,{icon:h?"camera-off":"camera"}),(!p||!s||!m)&&(0,us.jsx)("span",{className:"str-video__no-media-permission",children:"!"})]})})})};(0,uo.forwardRef)(function(e,t){let{t:i}=u4();return(0,us.jsx)(gz,{icon:"call-end",variant:"danger",title:i("Leave call"),"data-testid":"leave-call-button",ref:t})});let ym=({disabled:e,onClick:t,onLeave:i})=>{let n=uJ(),{t:r}=u4(),a=(0,uo.useCallback)(async e=>{t?t(e):n&&(await n.leave(),i?.())},[t,i,n]);return(0,us.jsx)(gz,{disabled:e,icon:"call-end",variant:"danger",title:r("Leave call"),"data-testid":"cancel-call-button",onClick:a})},yg=({onLeave:e})=>(0,us.jsxs)("div",{className:"str-video__call-controls",children:[(0,us.jsx)(g1,{}),(0,us.jsx)(g5,{}),(0,us.jsx)(g9,{}),(0,us.jsx)(gZ,{children:(0,us.jsx)(yp,{})}),(0,us.jsx)(yf,{}),(0,us.jsx)(ym,{onLeave:e})]});mk.register(m8,ge,mN,mD);let yy=e=>{let{values:t}=e,i=0,n={labels:t.map(e=>{let t=new Date(1e3*e.x);return`${t.getHours()}:${t.getMinutes()}`}),datasets:[{data:t.map(e=>{let{y:t}=e;return i=Math.max(i,t),e}),borderColor:"#00e2a1",backgroundColor:"#00e2a1"}]},r=(0,uo.useMemo)(()=>({maintainAspectRatio:!1,animation:{duration:0},elements:{line:{borderWidth:1},point:{radius:2}},scales:{y:{position:"right",stacked:!0,min:0,max:Math.max(180,10*Math.ceil((i+10)/10)),grid:{display:!0,color:"#979ca0"},ticks:{stepSize:30}},x:{grid:{display:!1},ticks:{display:!1}}}}),[i]);return(0,us.jsx)("div",{className:"str-video__call-stats-line-chart-container",children:(0,us.jsx)(g_,{options:r,data:n,className:"str-video__call-stats__latencychart"})})};!function(e){e.GOOD="Good",e.OK="Ok",e.BAD="Bad"}(F||(F={}));let yv=({value:e,lowBound:t,highBound:i})=>e<=t?F.GOOD:e>=t&&e<=i?F.OK:e>=i?F.BAD:F.GOOD,yb=e=>{let{latencyLowBound:t=75,latencyHighBound:i=400}=e,[n,r]=(0,uo.useState)(()=>{let e=Date.now();return Array.from({length:20},(t,i)=>({x:e+i,y:0}))}),{t:a}=u4(),[s,o]=(0,uo.useState)("-"),[l,c]=(0,uo.useState)("-"),u=(0,uo.useRef)(),{useCallStatsReport:d}=dr(),h=d();(0,uo.useEffect)(()=>{if(!h)return;if(!u.current){u.current=h;return}let e=u.current;o(()=>y_(e,h)),c(()=>yR(e,h)),r(e=>{let t=e.slice(-19);return t.push({x:h.timestamp,y:h.publisherStats.averageRoundTripTimeInMs}),t}),u.current=h},[h]);let p={lowBound:t,highBound:i,value:h?.publisherStats.averageRoundTripTimeInMs||0};return(0,us.jsx)("div",{className:"str-video__call-stats",children:h&&(0,us.jsxs)(us.Fragment,{children:[(0,us.jsxs)("div",{className:"str-video__call-stats__header",children:[(0,us.jsxs)("h3",{className:"str-video__call-stats__heading",children:[(0,us.jsx)(gK,{className:"str-video__call-stats__icon",icon:"call-latency"}),a("Call Latency")]}),(0,us.jsx)("p",{className:"str-video__call-stats__description",children:a("Very high latency values may reduce call quality, cause lag, and make the call less enjoyable.")})]}),(0,us.jsx)("div",{className:"str-video__call-stats__latencychart",children:(0,us.jsx)(yy,{values:n})}),(0,us.jsxs)("div",{className:"str-video__call-stats__header",children:[(0,us.jsxs)("h3",{className:"str-video__call-stats__heading",children:[(0,us.jsx)(gK,{className:"str-video__call-stats__icon",icon:"network-quality"}),a("Call performance")]}),(0,us.jsx)("p",{className:"str-video__call-stats__description",children:a("Very high latency values may reduce call quality, cause lag, and make the call less enjoyable.")})]}),(0,us.jsxs)("div",{className:"str-video__call-stats__card-container",children:[(0,us.jsx)(yk,{label:"Region",value:h.datacenter}),(0,us.jsx)(yk,{label:"Latency",value:`${h.publisherStats.averageRoundTripTimeInMs} ms.`,comparison:p}),(0,us.jsx)(yk,{label:"Receive jitter",value:`${h.subscriberStats.averageJitterInMs} ms.`,comparison:{...p,value:h.subscriberStats.averageJitterInMs}}),(0,us.jsx)(yk,{label:"Publish jitter",value:`${h.publisherStats.averageJitterInMs} ms.`,comparison:{...p,value:h.publisherStats.averageJitterInMs}}),(0,us.jsx)(yk,{label:"Publish resolution",value:yS(h.publisherStats)}),(0,us.jsx)(yk,{label:"Publish quality drop reason",value:h.publisherStats.qualityLimitationReasons}),(0,us.jsx)(yk,{label:"Receiving resolution",value:yS(h.subscriberStats)}),(0,us.jsx)(yk,{label:"Receive quality drop reason",value:h.subscriberStats.qualityLimitationReasons}),(0,us.jsx)(yk,{label:"Publish bitrate",value:s}),(0,us.jsx)(yk,{label:"Receiving bitrate",value:l})]})]})})},yw=e=>{let{description:t}=e,[i,n]=(0,uo.useState)(!1),{refs:r,floatingStyles:a,context:s}=(0,dl.YF)({open:i,onOpenChange:n}),o=(0,dl.XI)(s),{getReferenceProps:l,getFloatingProps:c}=(0,dl.NI)([o]);return(0,us.jsxs)(us.Fragment,{children:[(0,us.jsx)("div",{className:"str-video__call-explanation",ref:r.setReference,...l(),children:(0,us.jsx)(gK,{className:"str-video__call-explanation__icon",icon:"info"})}),i&&(0,us.jsx)("div",{className:"str-video__call-explanation__description",ref:r.setFloating,style:a,...c(),children:t})]})},yx=({children:e,status:t=F.GOOD})=>(0,us.jsx)("div",{className:(0,ds.Z)("str-video__call-stats__tag",{"str-video__call-stats__tag--good":t===F.GOOD,"str-video__call-stats__tag--ok":t===F.OK,"str-video__call-stats__tag--bad":t===F.BAD}),children:(0,us.jsx)("div",{className:"str-video__call-stats__tag__text",children:e})}),yk=e=>{let{label:t,value:i,description:n,comparison:r}=e,{t:a}=u4(),s=r?yv(r):void 0;return(0,us.jsxs)("div",{className:"str-video__call-stats__card",children:[(0,us.jsxs)("div",{className:"str-video__call-stats__card-content",children:[(0,us.jsxs)("div",{className:"str-video__call-stats__card-label",children:[t,n&&(0,us.jsx)(yw,{description:n})]}),(0,us.jsx)("div",{className:"str-video__call-stats__card-value",children:i})]}),r&&s&&(0,us.jsx)(yx,{status:s,children:a(s)})]})},yS=e=>{let{highestFrameWidth:t,highestFrameHeight:i,highestFramesPerSecond:n}=e,r="-";return t&&i&&(r=`${t}x${i}`,n&&(r+=`@${n}fps.`)),r},y_=(e,t)=>{let{publisherStats:{totalBytesSent:i,timestamp:n}}=e,{publisherStats:{totalBytesSent:r,timestamp:a}}=t;return`${(8*(r-i)/(a-n)).toFixed(2)} kbps`},yR=(e,t)=>{let{subscriberStats:{totalBytesReceived:i,timestamp:n}}=e,{subscriberStats:{totalBytesReceived:r,timestamp:a}}=t;return`${(8*(r-i)/(a-n)).toFixed(2)} kbps`},yE=()=>(0,us.jsx)(gF,{placement:"top-end",ToggleButton:yT,children:(0,us.jsx)(yb,{})}),yT=(0,uo.forwardRef)(function(e,t){let{t:i}=u4(),{caption:n,menuShown:r}=e;return(0,us.jsx)(gG,{ref:t,active:r,caption:n,title:n||i("Statistics"),"data-testid":"stats-button",children:(0,us.jsx)(gK,{icon:"stats"})})}),yC=({data:e})=>e.length?(0,us.jsx)(us.Fragment,{children:(0,us.jsx)("div",{className:"str-video__participant-listing",children:e.map(e=>(0,us.jsx)(yP,{userId:e},e))})}):null,yP=({userId:e})=>{let t=uJ();return(0,us.jsxs)("div",{className:"str-video__participant-listing-item",children:[(0,us.jsx)("div",{className:"str-video__participant-listing-item__display-name",children:e}),(0,us.jsx)(da,{requiredGrants:[aE.BLOCK_USERS],children:(0,us.jsx)(gY,{onClick:()=>{e&&t?.unblockUser(e)},children:"Unblock"})})]})},yA=({onClose:e})=>{let{useParticipants:t,useAnonymousParticipantCount:i}=dr(),n=t(),r=i(),{t:a}=u4();return(0,us.jsxs)("div",{className:"str-video__participant-list-header",children:[(0,us.jsxs)("div",{className:"str-video__participant-list-header__title",children:[a("Participants")," ",(0,us.jsxs)("span",{className:"str-video__participant-list-header__title-count",children:["[",n.length,"]"]}),r>0&&(0,us.jsx)("span",{className:"str-video__participant-list-header__title-anonymous",children:a("Anonymous",{count:r})})]}),(0,us.jsx)(gz,{onClick:e,className:"str-video__participant-list-header__close-button",icon:"close"})]})},yI=({children:e,referenceElement:t,tooltipClassName:i,tooltipPlacement:n="top",visible:r=!1})=>{let{refs:a,x:s,y:o,strategy:l}=gI({placement:n,strategy:"absolute"});return((0,uo.useEffect)(()=>{a.setReference(t)},[t,a]),r)?(0,us.jsx)("div",{className:(0,ds.Z)("str-video__tooltip",i),ref:a.setFloating,style:{position:l,top:o??0,left:s??0,overflowY:"auto"},children:e}):null},yO=({onMouseEnter:e,onMouseLeave:t}={})=>{let[i,n]=(0,uo.useState)(!1);return{handleMouseEnter:(0,uo.useCallback)(t=>{n(!0),e?.(t)},[e]),handleMouseLeave:(0,uo.useCallback)(e=>{n(!1),t?.(e)},[t]),tooltipVisible:i}},yj=({title:e,tooltipClassName:t,tooltipPlacement:i,...n})=>{let{handleMouseEnter:r,handleMouseLeave:a,tooltipVisible:s}=yO(),[o,l]=(0,uo.useState)(null);return(0,us.jsxs)(us.Fragment,{children:[(0,us.jsx)(yI,{referenceElement:o,visible:s,tooltipClassName:t,tooltipPlacement:i,children:e||""}),(0,us.jsx)("div",{ref:l,onMouseEnter:r,onMouseLeave:a,...n})]})},yN=({participant:e,DisplayName:t=yD})=>{let i=e.publishedTracks.includes(ss.TrackType.AUDIO),n=e.publishedTracks.includes(ss.TrackType.VIDEO),r=!!e.pin,{t:a}=u4();return(0,us.jsxs)("div",{className:"str-video__participant-listing-item",children:[(0,us.jsx)(gP,{name:e.name,imageSrc:e.image}),(0,us.jsx)(t,{participant:e}),(0,us.jsxs)("div",{className:"str-video__participant-listing-item__media-indicator-group",children:[(0,us.jsx)(yL,{title:a(i?"Microphone on":"Microphone off"),className:(0,ds.Z)("str-video__participant-listing-item__icon",`str-video__participant-listing-item__icon-${i?"mic":"mic-off"}`)}),(0,us.jsx)(yL,{title:a(n?"Camera on":"Camera off"),className:(0,ds.Z)("str-video__participant-listing-item__icon",`str-video__participant-listing-item__icon-${n?"camera":"camera-off"}`)}),r&&(0,us.jsx)(yL,{title:a("Pinned"),className:(0,ds.Z)("str-video__participant-listing-item__icon","str-video__participant-listing-item__icon-pinned")}),(0,us.jsx)(gF,{placement:"bottom-end",ToggleButton:yU,children:(0,us.jsx)(gT.Provider,{value:{participant:e,trackType:"none"},children:(0,us.jsx)(y6,{})})})]})]})},yL=e=>(0,us.jsx)(yj,{...e}),yD=({participant:e})=>{let t;let i=dn(),{t:n}=u4(),r=e.userId===i?.id?n("Me"):"",a=e.name||e.userId||n("Unknown");return t=e.name?r?`${a} (${r})`:a:r||a||n("Unknown"),(0,us.jsx)(yj,{className:"str-video__participant-listing-item__display-name",title:t,children:t})},yU=(0,uo.forwardRef)(function(e,t){return(0,us.jsx)(gz,{enabled:e.menuShown,icon:"ellipsis",ref:t})}),yq=({data:e})=>(0,us.jsx)("div",{className:"str-video__participant-listing",children:e.map(e=>(0,us.jsx)(yN,{participant:e},e.sessionId))}),yM=()=>{let{t:e}=u4();return(0,us.jsx)("div",{className:"str-video__participant-list--empty",children:e("No participants found")})},yF=({exitSearch:e,isActive:t,...i})=>{let[n,r]=(0,uo.useState)(null);return(0,uo.useEffect)(()=>{if(!n)return;let t=t=>{"escape"===t.key.toLowerCase()&&e()};return n.addEventListener("keydown",t),()=>{n.removeEventListener("keydown",t)}},[e,n]),(0,us.jsxs)("div",{className:(0,ds.Z)("str-video__search-input__container",{"str-video__search-input__container--active":t}),children:[(0,us.jsx)("input",{placeholder:"Search",...i,ref:r}),t?(0,us.jsx)("button",{className:"str-video__search-input__clear-btn",onClick:e,children:(0,us.jsx)("span",{className:"str-video__search-input__icon--active"})}):(0,us.jsx)("span",{className:"str-video__search-input__icon"})]})},y$=({EmptySearchResultComponent:e,LoadingIndicator:t=g0,searchQueryInProgress:i,searchResults:n,SearchResultList:r})=>i?(0,us.jsx)("div",{className:"str-video__search-results--loading",children:(0,us.jsx)(t,{})}):n.length?(0,us.jsx)(r,{data:n}):(0,us.jsx)(e,{}),yB=({debounceInterval:e,searchFn:t,searchQuery:i=""})=>{let[n,r]=(0,uo.useState)([]),[a,s]=(0,uo.useState)(!1);return(0,uo.useEffect)(()=>{if(!i.length){s(!1),r([]);return}s(!0);let n=setTimeout(async()=>{try{let e=await t(i);r(e)}catch(e){console.error(e)}finally{s(!1)}},e);return()=>{clearTimeout(n)}},[e,t,i]),{searchQueryInProgress:a,searchResults:n}},yK={active:"Active users",blocked:"Blocked users"},yz=200,yV=({onClose:e,activeUsersSearchFn:t,blockedUsersSearchFn:i,debounceSearchInterval:n})=>{let[r,a]=(0,uo.useState)(""),[s,o]=(0,uo.useState)("active"),l=(0,uo.useCallback)(()=>a(""),[]);return(0,us.jsxs)("div",{className:"str-video__participant-list",children:[(0,us.jsx)(yA,{onClose:e}),(0,us.jsx)(yF,{value:r,onChange:({currentTarget:e})=>a(e.value),exitSearch:l,isActive:!!r}),(0,us.jsx)(yW,{userListType:s,setUserListType:o}),(0,us.jsxs)("div",{className:"str-video__participant-list__content",children:["active"===s&&(0,us.jsx)(yH,{searchQuery:r,activeUsersSearchFn:t,debounceSearchInterval:n}),"blocked"===s&&(0,us.jsx)(yG,{searchQuery:r,blockedUsersSearchFn:i,debounceSearchInterval:n})]})]})},yW=({userListType:e,setUserListType:t})=>{let i=uJ();return(0,us.jsxs)("div",{className:"str-video__participant-list__content-header",children:[(0,us.jsx)("div",{className:"str-video__participant-list__content-header-title",children:"active"===e&&(0,us.jsx)(da,{requiredGrants:[aE.MUTE_USERS],hasPermissionsOnly:!0,children:(0,us.jsx)(gY,{onClick:()=>{i?.muteAllUsers("audio")},children:"Mute all"})})}),(0,us.jsx)(gF,{placement:"bottom-end",ToggleButton:yJ,children:(0,us.jsx)(g$,{children:Object.keys(yK).map(i=>(0,us.jsx)(gB,{"aria-selected":i===e,onClick:()=>t(i),children:yK[i]},i))})})]})},yH=({searchQuery:e,activeUsersSearchFn:t,debounceSearchInterval:i=yz})=>{let{useParticipants:n}=dr(),r=n({sortBy:lc}),a=(0,uo.useCallback)(e=>{let t=RegExp(e,"i");return Promise.resolve(r.filter(e=>e.name.match(t)))},[r]),{searchQueryInProgress:s,searchResults:o}=yB({searchFn:t??a,debounceInterval:i,searchQuery:e});return(0,us.jsx)(y$,{EmptySearchResultComponent:yM,LoadingIndicator:g0,searchQueryInProgress:s,searchResults:e?o:r,SearchResultList:yq})},yG=({blockedUsersSearchFn:e,debounceSearchInterval:t=yz,searchQuery:i})=>{let{useCallBlockedUserIds:n}=dr(),r=n(),a=(0,uo.useCallback)(e=>{let t=RegExp(e,"i");return Promise.resolve(r.filter(e=>e.match(t)))},[r]),{searchQueryInProgress:s,searchResults:o}=yB({searchFn:e??a,debounceInterval:t,searchQuery:i});return(0,us.jsx)(y$,{EmptySearchResultComponent:yM,LoadingIndicator:g0,searchQueryInProgress:s,searchResults:i?o:r,SearchResultList:yC})},yJ=(0,uo.forwardRef)(function(e,t){return(0,us.jsx)(gz,{enabled:e.menuShown,icon:"filter",ref:t})});U.JOINING,U.RINGING,U.MIGRATING,U.RECONNECTING,U.RECONNECTING_FAILED,U.OFFLINE,U.IDLE,U.UNKNOWN,U.JOINED,U.LEFT,(0,uo.forwardRef)(function(e,t){let{permissionRequests:i,handleUpdatePermission:n,...r}=e,{t:a}=u4();return(0,us.jsx)("div",{className:"str-video__permission-requests-list",ref:t,...r,children:i.map((e,t)=>{let{user:i,permissions:r}=e;return(0,us.jsx)(uo.Fragment,{children:r.map(t=>(0,us.jsxs)("div",{className:"str-video__permission-request",children:[(0,us.jsx)("div",{className:"str-video__permission-request__message",children:yX(i.name||i.id,t,a)}),(0,us.jsx)(yY,{className:"str-video__permission-request__button--allow",type:"button",onClick:n(e,"grant"),children:a("Allow")}),(0,us.jsx)(yY,{className:"str-video__permission-request__button--reject",type:"button",onClick:n(e,"revoke"),children:a("Revoke")}),(0,us.jsx)(yY,{className:"str-video__permission-request__button--reject",type:"button",onClick:n(e,"dismiss"),children:a("Dismiss")})]},t))},`${i.id}/${t}`)})})});let yY=e=>{let{className:t,...i}=e;return(0,us.jsx)("button",{className:(0,ds.Z)("str-video__permission-request__button",t),...i})},yX=(e,t,i)=>{switch(t){case aE.SEND_AUDIO:return i("{{ userName }} is requesting to speak",{userName:e});case aE.SEND_VIDEO:return i("{{ userName }} is requesting to share their camera",{userName:e});case aE.SCREENSHARE:return i("{{ userName }} is requesting to present their screen",{userName:e});default:return i("{{ userName }} is requesting permission: {{ permission }}",{userName:e,permission:t})}},yQ=({as:e="div",className:t,children:i,...n})=>(0,us.jsx)(e,{...n,className:(0,ds.Z)("str-video",t),children:i}),yZ=(0,uo.forwardRef)(function({participant:e,style:t},i){let{t:n}=u4(),[r,a]=(0,uo.useState)(!1),s=e.name||e.userId;return(0,us.jsxs)("div",{className:"str-video__video-placeholder",style:t,ref:i,children:[(!e.image||r)&&(s?(0,us.jsx)(y0,{name:s}):(0,us.jsx)("div",{className:"str-video__video-placeholder__no-video-label",children:n("Video is disabled")})),e.image&&!r&&(0,us.jsx)("img",{onError:()=>a(!0),alt:"video-placeholder",className:"str-video__video-placeholder__avatar",src:e.image})]})}),y0=e=>{let{name:t}=e,i=t.split(" ").slice(0,2).map(e=>e[0]).join("");return(0,us.jsx)("div",{className:"str-video__video-placeholder__initials-fallback",children:i})},y1=({trackType:e,participant:t,className:i,VideoPlaceholder:n=yZ,refs:r,...a})=>{let{sessionId:s,videoStream:o,screenShareStream:l,publishedTracks:c,viewportVisibilityState:u,isLocalParticipant:d,userId:h}=t,p=uJ(),[f,m]=(0,uo.useState)(null),[g,y]=(0,uo.useState)(!0),[v,b]=(0,uo.useState)(!0),w="videoTrack"===e?o:"screenShareTrack"===e?l:void 0;if((0,uo.useLayoutEffect)(()=>{if(!p||!f||"none"===e)return;let t=p.bindVideoElement(f,s,e);return()=>{t?.()}},[p,e,s,f]),(0,uo.useEffect)(()=>{if(!w||!f)return;let[e]=w.getVideoTracks();if(!e)return;let t=()=>{y(f.paused);let{width:t=0,height:i=0}=e.getSettings();b(t>=i)};return y(f.paused),f.addEventListener("play",t),f.addEventListener("pause",t),e.addEventListener("unmute",t),()=>{f.removeEventListener("play",t),f.removeEventListener("pause",t),e.removeEventListener("unmute",t),y(!0)}},[w,f]),!p)return null;let x="videoTrack"===e?c.includes(ss.TrackType.VIDEO):"screenShareTrack"===e&&c.includes(ss.TrackType.SCREEN_SHARE),k="none"===e||u?.[e]===L.INVISIBLE,S=!x||k,_=d&&"videoTrack"===e,R="screenShareTrack"===e;return(0,us.jsxs)(us.Fragment,{children:[!S&&(0,us.jsx)("video",{...a,className:(0,ds.Z)("str-video__video",i,{"str-video__video--not-playing":g,"str-video__video--tall":!v,"str-video__video--mirror":_,"str-video__video--screen-share":R}),"data-user-id":h,"data-session-id":s,ref:e=>{m(e),r?.setVideoElement?.(e)}}),(S||g)&&n&&(0,us.jsx)(n,{style:{position:"absolute"},participant:t,ref:r?.setVideoPlaceholderElement})]})},y2=(0,uo.forwardRef)(function({stream:e,...t},i){let[n,r]=(0,uo.useState)(null);return(0,uo.useEffect)(()=>{if(n&&e&&e!==n.srcObject)return n.srcObject=e,(cd.isSafari()||cd.isFirefox())&&setTimeout(()=>{n.srcObject=e,n.play().catch(e=>{console.error("Failed to play stream",e)})},0),()=>{n.pause(),n.srcObject=null}},[e,n]),(0,us.jsx)("video",{autoPlay:!0,playsInline:!0,...t,ref:e=>{gH(i,e),r(e)}})}),y3=()=>{let{t:e}=u4();return(0,us.jsx)("div",{className:"str_video__video-preview__disabled-video-preview",children:e("Video is disabled")})},y4=()=>{let{t:e}=u4();return(0,us.jsx)("div",{className:"str_video__video-preview__no-camera-preview",children:e("No camera found")})},y5=({className:e,mirror:t=!0,DisabledVideoPreview:i=y3,NoCameraPreview:n=y4,StartingCameraPreview:r=g0})=>{let a;let{useCameraState:s}=dr(),{devices:o,status:l,isMute:c,mediaStream:u}=s();if(c&&o?.length===0)a=(0,us.jsx)(n,{});else if("enabled"===l){let e=!u;a=(0,us.jsxs)(us.Fragment,{children:[u&&(0,us.jsx)(y2,{stream:u,className:(0,ds.Z)("str-video__video-preview",{"str-video__video-preview--mirror":t,"str-video__video-preview--loading":e})}),e&&(0,us.jsx)(r,{})]})}else a=(0,us.jsx)(i,{});return(0,us.jsx)("div",{className:(0,ds.Z)("str-video__video-preview-container",e),children:a})},y6=()=>{let{participant:e,participantViewElement:t,videoElement:i}=gC(),[n,r]=(0,uo.useState)(!!document.fullscreenElement),[a,s]=(0,uo.useState)(document.pictureInPictureElement),o=uJ(),{t:l}=u4(),{pin:c,publishedTracks:u,sessionId:d,userId:h}=e,p=u.includes(ss.TrackType.AUDIO),f=u.includes(ss.TrackType.VIDEO),m=u.includes(ss.TrackType.SCREEN_SHARE),g=u.includes(ss.TrackType.SCREEN_SHARE_AUDIO),y=e=>()=>{o?.updateUserPermissions({user_id:h,grant_permissions:[e]})},v=e=>()=>{o?.updateUserPermissions({user_id:h,revoke_permissions:[e]})};(0,uo.useEffect)(()=>{let e=()=>{r(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}},[]),(0,uo.useEffect)(()=>{if(!i)return;let e=()=>{s(document.pictureInPictureElement)};return i.addEventListener("enterpictureinpicture",e),i.addEventListener("leavepictureinpicture",e),()=>{i.removeEventListener("enterpictureinpicture",e),i.removeEventListener("leavepictureinpicture",e)}},[i]);let{close:b}=gq()||{};return(0,us.jsxs)(g$,{onItemClick:b,children:[(0,us.jsxs)(gB,{onClick:()=>{c?o?.unpin(d):o?.pin(d)},disabled:c&&!c.isLocalPin,children:[(0,us.jsx)(gK,{icon:"pin"}),l(c?"Unpin":"Pin")]}),(0,us.jsxs)(da,{requiredGrants:[aE.PIN_FOR_EVERYONE],children:[(0,us.jsxs)(gB,{onClick:()=>{o?.pinForEveryone({user_id:h,session_id:d}).catch(e=>{console.error(`Failed to pin participant ${h}`,e)})},disabled:c&&!c.isLocalPin,children:[(0,us.jsx)(gK,{icon:"pin"}),l("Pin for everyone")]}),(0,us.jsxs)(gB,{onClick:()=>{o?.unpinForEveryone({user_id:h,session_id:d}).catch(e=>{console.error(`Failed to unpin participant ${h}`,e)})},disabled:!c||c.isLocalPin,children:[(0,us.jsx)(gK,{icon:"pin"}),l("Unpin for everyone")]})]}),(0,us.jsx)(da,{requiredGrants:[aE.BLOCK_USERS],children:(0,us.jsxs)(gB,{onClick:()=>o?.blockUser(h),children:[(0,us.jsx)(gK,{icon:"not-allowed"}),l("Block")]})}),(0,us.jsxs)(da,{requiredGrants:[aE.MUTE_USERS],children:[f&&(0,us.jsxs)(gB,{onClick:()=>o?.muteUser(h,"video"),children:[(0,us.jsx)(gK,{icon:"camera-off-outline"}),l("Turn off video")]}),m&&(0,us.jsxs)(gB,{onClick:()=>o?.muteUser(h,"screenshare"),children:[(0,us.jsx)(gK,{icon:"screen-share-off"}),l("Turn off screen share")]}),p&&(0,us.jsxs)(gB,{onClick:()=>o?.muteUser(h,"audio"),children:[(0,us.jsx)(gK,{icon:"no-audio"}),l("Mute audio")]}),g&&(0,us.jsxs)(gB,{onClick:()=>o?.muteUser(h,"screenshare_audio"),children:[(0,us.jsx)(gK,{icon:"no-audio"}),l("Mute screen share audio")]})]}),t&&(0,us.jsx)(gB,{onClick:()=>n?document.exitFullscreen().catch(console.error):t?.requestFullscreen().catch(console.error),children:l("{{ direction }} fullscreen",{direction:l(n?"Leave":"Enter")})}),i&&document.pictureInPictureEnabled&&(0,us.jsx)(gB,{onClick:()=>i&&a!==i?i.requestPictureInPicture().catch(console.error):document.exitPictureInPicture().catch(console.error),children:l("{{ direction }} picture-in-picture",{direction:l(a===i?"Leave":"Enter")})}),(0,us.jsxs)(da,{requiredGrants:[aE.UPDATE_CALL_PERMISSIONS],children:[(0,us.jsx)(gB,{onClick:y(aE.SEND_AUDIO),children:l("Allow audio")}),(0,us.jsx)(gB,{onClick:y(aE.SEND_VIDEO),children:l("Allow video")}),(0,us.jsx)(gB,{onClick:y(aE.SCREENSHARE),children:l("Allow screen sharing")}),(0,us.jsx)(gB,{onClick:v(aE.SEND_AUDIO),children:l("Disable audio")}),(0,us.jsx)(gB,{onClick:v(aE.SEND_VIDEO),children:l("Disable video")}),(0,us.jsx)(gB,{onClick:v(aE.SCREENSHARE),children:l("Disable screen sharing")})]})]})},y8=({trackedElement:e,dynascaleManager:t,sessionId:i,trackType:n})=>{let r=uJ(),a=t??r?.dynascaleManager;(0,uo.useEffect)(()=>{if(!e||!a||!r||"none"===n)return;let t=a.trackElementVisibility(e,i,n);return()=>{t()}},[e,a,r,i,n])},y9=(0,uo.forwardRef)(function(e,t){return(0,us.jsx)(gz,{enabled:e.menuShown,icon:"ellipsis",ref:t})}),y7=()=>{let e=uJ(),{t}=u4();return(0,us.jsxs)("div",{className:"str-video__screen-share-overlay",children:[(0,us.jsx)(gK,{icon:"screen-share-off"}),(0,us.jsx)("span",{className:"str-video__screen-share-overlay__title",children:t("You are presenting your screen")}),(0,us.jsxs)("button",{onClick:()=>{e?.screenShare.disable()},className:"str-video__screen-share-overlay__button",children:[(0,us.jsx)(gK,{icon:"close"})," ",t("Stop Screen Sharing")]})]})},ve=({indicatorsVisible:e=!0,menuPlacement:t="bottom-start",showMenuButton:i=!0,ParticipantActionsContextMenu:n=y6})=>{let{participant:r,trackType:a}=gC(),{publishedTracks:s}=r,o=s.includes(ss.TrackType.SCREEN_SHARE);return r.isLocalParticipant&&o&&"screenShareTrack"===a?(0,us.jsxs)(us.Fragment,{children:[(0,us.jsx)(y7,{}),(0,us.jsx)(vt,{indicatorsVisible:e})]}):(0,us.jsxs)(us.Fragment,{children:[i&&(0,us.jsx)(gF,{strategy:"fixed",placement:t,ToggleButton:y9,children:(0,us.jsx)(n,{})}),(0,us.jsx)(g3,{participant:r}),(0,us.jsx)(vt,{indicatorsVisible:e})]})},vt=({indicatorsVisible:e=!0})=>{let{participant:t}=gC(),{isLocalParticipant:i,connectionQuality:n,publishedTracks:r,pin:a,sessionId:s,name:o,userId:l}=t,c=uJ(),{t:u}=u4(),d=!!n&&ss.ConnectionQuality[n].toLowerCase(),h=r.includes(ss.TrackType.AUDIO),p=r.includes(ss.TrackType.VIDEO),f=!!a&&a.isLocalPin;return(0,us.jsxs)(us.Fragment,{children:[(0,us.jsx)("div",{className:"str-video__participant-details",children:(0,us.jsxs)("span",{className:"str-video__participant-details__name",children:[o||l,e&&!h&&(0,us.jsx)("span",{className:"str-video__participant-details__name--audio-muted"}),e&&!p&&(0,us.jsx)("span",{className:"str-video__participant-details__name--video-muted"}),e&&f&&(0,us.jsx)("span",{title:u("Unpin"),onClick:()=>c?.unpin(s),className:"str-video__participant-details__name--pinned"}),e&&(0,us.jsx)(vi,{})]})}),e&&(0,us.jsx)(gX,{isVisible:i&&n===ss.ConnectionQuality.POOR,message:u("Poor connection quality"),children:d&&(0,us.jsx)("span",{className:(0,ds.Z)("str-video__participant-details__connection-quality",`str-video__participant-details__connection-quality--${d}`),title:d})})]})},vi=()=>{let{participant:e}=gC(),{isSpeaking:t,isDominantSpeaker:i}=e;return(0,us.jsxs)("span",{className:(0,ds.Z)("str-video__speech-indicator",t&&"str-video__speech-indicator--speaking",i&&"str-video__speech-indicator--dominant"),children:[(0,us.jsx)("span",{className:"str-video__speech-indicator__bar"}),(0,us.jsx)("span",{className:"str-video__speech-indicator__bar"}),(0,us.jsx)("span",{className:"str-video__speech-indicator__bar"})]})},vn=(0,uo.forwardRef)(function({participant:e,trackType:t="videoTrack",muteAudio:i,refs:{setVideoElement:n,setVideoPlaceholderElement:r}={},className:a,VideoPlaceholder:s,ParticipantViewUI:o=ve},l){let{isLocalParticipant:c,isSpeaking:u,isDominantSpeaker:d,publishedTracks:h,sessionId:p}=e,f=h.includes(ss.TrackType.AUDIO),m=h.includes(ss.TrackType.VIDEO),g=h.includes(ss.TrackType.SCREEN_SHARE_AUDIO),[y,v]=(0,uo.useState)(null),[b,w]=(0,uo.useState)(null),[x,k]=(0,uo.useState)(null);y8({sessionId:p,trackedElement:y,trackType:t});let S=(0,uo.useMemo)(()=>({participant:e,participantViewElement:y,videoElement:b,videoPlaceholderElement:x,trackType:t}),[b,x,e,y,t]),_=(0,uo.useMemo)(()=>({setVideoElement:e=>{n?.(e),w(e)},setVideoPlaceholderElement:e=>{r?.(e),k(e)}}),[n,r]);return(0,us.jsx)("div",{"data-testid":"participant-view",ref:e=>{gH(l,e),v(e)},className:(0,ds.Z)("str-video__participant-view",d&&"str-video__participant-view--dominant-speaker",u&&"str-video__participant-view--speaking",!m&&"str-video__participant-view--no-video",!f&&"str-video__participant-view--no-audio",a),children:(0,us.jsxs)(gT.Provider,{value:S,children:[!c&&!i&&(0,us.jsxs)(us.Fragment,{children:[f&&(0,us.jsx)(gR,{participant:e,trackType:"audioTrack"}),g&&(0,us.jsx)(gR,{participant:e,trackType:"screenShareAudioTrack"})]}),(0,us.jsx)(y1,{VideoPlaceholder:s,participant:e,trackType:t,refs:_,autoPlay:!0}),gV(o)?(0,us.jsx)(o,{}):o]})})}),vr=e=>{let{call:t,children:i}=e;return(0,us.jsx)(uG.Provider,{value:t,children:i})},va={en:{Joining:"Joining",Mic:"Mic","No internet connection":"No internet connection","Re-connecting":"Re-connecting",Ringing:"Ringing","Screen Share":"Screen Share","Select a Camera":"Select a Camera","Select a Mic":"Select a Mic","Select Speakers":"Select Speakers",Speakers:"Speakers",Video:"Video","You are muted. Unmute to speak.":"You are muted. Unmute to speak.",Live:"Live","You can now speak.":"You can now speak.","Awaiting for an approval to speak.":"Awaiting for an approval to speak.","You can no longer speak.":"You can no longer speak.","You can now share your video.":"You can now share your video.","Awaiting for an approval to share your video.":"Awaiting for an approval to share your video.","You can no longer share your video.":"You can no longer share your video.","Waiting for recording to stop...":"Waiting for recording to stop...","Waiting for recording to start...":"Waiting for recording to start...","Record call":"Record call",Reactions:"Reactions",Statistics:"Statistics","You can now share your screen.":"You can now share your screen.","Awaiting for an approval to share screen.":"Awaiting for an approval to share screen.","You can no longer share your screen.":"You can no longer share your screen.","Share screen":"Share screen","Incoming Call...":"Incoming Call...","Calling...":"Calling...","Mute All":"Mute All",Invite:"Invite",Join:"Join",You:"You",Me:"Me",Unknown:"Unknown","Toggle device menu":"Toggle device menu","Call Recordings":"Call Recordings",Refresh:"Refresh","Check your browser video permissions":"Check your browser video permissions","Video publishing is disabled by the system":"Video publishing is disabled by the system","You have no permission to share your video":"You have no permission to share your video","You have no permission to share your audio":"You have no permission to share your audio","You are presenting your screen":"You are presenting your screen","Stop Screen Sharing":"Stop Screen Sharing",Allow:"Allow",Revoke:"Revoke",Dismiss:"Dismiss","Microphone on":"Microphone on","Microphone off":"Microphone off","Camera on":"Camera on","Camera off":"Camera off","No camera found":"No camera found","Video is disabled":"Video is disabled",Pinned:"Pinned",Unpin:"Unpin",Pin:"Pin","Pin for everyone":"Pin for everyone","Unpin for everyone":"Unpin for everyone",Block:"Block","Turn off video":"Turn off video","Turn off screen share":"Turn off screen share","Mute audio":"Mute audio","Mute screen share audio":"Mute screen share audio","Allow audio":"Allow audio","Allow video":"Allow video","Allow screen sharing":"Allow screen sharing","Disable audio":"Disable audio","Disable video":"Disable video","Disable screen sharing":"Disable screen sharing",Enter:"Enter",Leave:"Leave","Leave call":"Leave call","End call for all":"End call for all","{{ direction }} fullscreen":"{{ direction }} fullscreen","{{ direction }} picture-in-picture":"{{ direction }} picture-in-picture","Dominant Speaker":"Dominant Speaker","Poor connection quality":"Poor connection quality. Please check your internet connection.",Participants:"Participants",Anonymous:", and ({{ count }}) anonymous","No participants found":"No participants found","Participants ({{ numberOfParticipants }})":"Participants ({{ numberOfParticipants }})","{{ userName }} is sharing their screen":"{{ userName }} is sharing their screen","{{ userName }} is requesting to speak":"{{ userName }} is requesting to speak","{{ userName }} is requesting to share their camera":"{{ userName }} is requesting to share their camera","{{ userName }} is requesting to present their screen":"{{ userName }} is requesting to present their screen","{{ userName }} is requesting permission: {{ permission }}":"{{ userName }} is requesting permission: {{ permission }}"}},vs=e=>(0,us.jsx)(u6,{translationsOverrides:va,...e}),vo=e=>{(0,uo.useEffect)(()=>{if(e)return e.setSortParticipantsBy(lv),()=>{vc(e)}},[e])},vl=(e,t)=>{(0,uo.useEffect)(()=>{if(e)return t?e.setSortParticipantsBy(le(lr,vu)):e.setSortParticipantsBy(ly),()=>{vc(e)}},[e,t])},vc=e=>{let t=cy.get(e.type);e.setSortParticipantsBy(t.options.sortParticipantsBy||lg)},vu=(e,t)=>e.isLocalParticipant?1:t.isLocalParticipant?-1:0,vd=16,vh=({group:e,VideoPlaceholder:t,ParticipantViewUI:i})=>(0,us.jsx)("div",{className:(0,ds.Z)("str-video__paginated-grid-layout__group",{"str-video__paginated-grid-layout--one":1===e.length,"str-video__paginated-grid-layout--two-four":e.length>=2&&e.length<=4,"str-video__paginated-grid-layout--five-nine":e.length>=5&&e.length<=9}),children:e.map(e=>(0,us.jsx)(vn,{participant:e,muteAudio:!0,VideoPlaceholder:t,ParticipantViewUI:i},e.sessionId))}),vp=({groupSize:e=vd,excludeLocalParticipant:t=!1,pageArrowsVisible:i=!0,VideoPlaceholder:n,ParticipantViewUI:r=ve})=>{let[a,s]=(0,uo.useState)(0),[o,l]=(0,uo.useState)(null),c=uJ(),{useParticipants:u,useRemoteParticipants:d}=dr(),h=u(),p=d();vo(c),(0,uo.useEffect)(()=>{if(!o||!c)return;let e=c.setViewport(o);return()=>e()},[o,c]);let f=(0,uo.useMemo)(()=>gW(t?p:h,e),[t,p,h,e]),m=f.length;(0,uo.useEffect)(()=>{a>m-1&&s(Math.max(0,m-1))},[a,m]);let g=f[a];return c?(0,us.jsxs)("div",{className:"str-video__paginated-grid-layout__wrapper",ref:l,children:[(0,us.jsx)(gE,{participants:p}),(0,us.jsxs)("div",{className:"str-video__paginated-grid-layout",children:[i&&m>1&&(0,us.jsx)(gz,{icon:"caret-left",disabled:0===a,onClick:()=>s(e=>Math.max(0,e-1))}),g&&(0,us.jsx)(vh,{group:f[a],VideoPlaceholder:n,ParticipantViewUI:r}),i&&m>1&&(0,us.jsx)(gz,{disabled:a===m-1,icon:"caret-right",onClick:()=>s(e=>Math.min(m-1,e+1))})]})]}):null},vf=(e,t,i)=>{let[n,r]=(0,uo.useState)({vertical:"number"==typeof i?i:null,horizontal:"number"==typeof i?i:null});return(0,uo.useEffect)(()=>{if(!t||!e||"number"==typeof i||void 0===i)return;let n=null,a=null,s=new ResizeObserver((i,s)=>{if(i.length>1){let e=t.firstChild;e&&(a=e.clientHeight,n=e.clientWidth,s.unobserve(t))}if(null===a||null===n)return;let o=Math.floor(e.clientHeight/a),l=Math.floor(e.clientWidth/n);r(e=>e.vertical!==o||e.horizontal!==l?{vertical:o,horizontal:l}:e)});return s.observe(e),s.observe(t),()=>{s.disconnect()}},[t,i,e]),n},vm=()=>(0,us.jsx)(ve,{menuPlacement:"top-end"}),vg=()=>(0,us.jsx)(ve,{}),vy=({ParticipantViewUIBar:e=vm,ParticipantViewUISpotlight:t=vg,VideoPlaceholder:i,participantsBarPosition:n="bottom",participantsBarLimit:r})=>{let a=uJ(),{useParticipants:s,useRemoteParticipants:o}=dr(),[l,...c]=s(),u=o(),[d,h]=(0,uo.useState)(null),[p,f]=(0,uo.useState)(null),[m,g]=(0,uo.useState)(null),y=vw(l),v=vf(m,p,r),b="left"===n||"right"===n,w="top"===n||"bottom"===n;(0,uo.useEffect)(()=>{if(!d||!a)return;let e=a.setViewport(d);return()=>e()},[d,a]),vl(a,1===c.length);let x=c,k=b?v.vertical:v.horizontal;return(void 0!==r&&null!==k&&(x=c.slice(0,k-(y?1:0))),a)?(0,us.jsxs)("div",{className:"str-video__speaker-layout__wrapper",children:[(0,us.jsx)(gE,{participants:u}),(0,us.jsxs)("div",{className:(0,ds.Z)("str-video__speaker-layout",n&&`str-video__speaker-layout--variant-${n}`),children:[(0,us.jsx)("div",{className:"str-video__speaker-layout__spotlight",children:l&&(0,us.jsx)(vn,{participant:l,muteAudio:!0,trackType:y?"screenShareTrack":"videoTrack",ParticipantViewUI:t,VideoPlaceholder:i})}),x.length>0&&n&&(0,us.jsxs)("div",{ref:g,className:"str-video__speaker-layout__participants-bar-buttons-wrapper",children:[(0,us.jsx)("div",{className:"str-video__speaker-layout__participants-bar-wrapper",ref:h,children:(0,us.jsxs)("div",{ref:f,className:"str-video__speaker-layout__participants-bar",children:[y&&(0,us.jsx)("div",{className:"str-video__speaker-layout__participant-tile",children:(0,us.jsx)(vn,{participant:l,ParticipantViewUI:e,VideoPlaceholder:i,muteAudio:!0})},l.sessionId),x.map(t=>(0,us.jsx)("div",{className:"str-video__speaker-layout__participant-tile",children:(0,us.jsx)(vn,{participant:t,ParticipantViewUI:e,VideoPlaceholder:i,muteAudio:!0})},t.sessionId))]})}),b&&(0,us.jsx)(vb,{scrollWrapper:d}),w&&(0,us.jsx)(vv,{scrollWrapper:d})]})]})]}):null},vv=({scrollWrapper:e})=>{let t=gN(e);return(0,us.jsxs)(us.Fragment,{children:[t&&"start"!==t&&(0,us.jsx)(gz,{onClick:()=>{e?.scrollBy({left:-150,behavior:"smooth"})},icon:"caret-left",className:"str-video__speaker-layout__participants-bar--button-left"}),t&&"end"!==t&&(0,us.jsx)(gz,{onClick:()=>{e?.scrollBy({left:150,behavior:"smooth"})},icon:"caret-right",className:"str-video__speaker-layout__participants-bar--button-right"})]})},vb=({scrollWrapper:e})=>{let t=gj(e);return(0,us.jsxs)(us.Fragment,{children:[t&&"top"!==t&&(0,us.jsx)(gz,{onClick:()=>{e?.scrollBy({top:-150,behavior:"smooth"})},icon:"caret-up",className:"str-video__speaker-layout__participants-bar--button-top"}),t&&"bottom"!==t&&(0,us.jsx)(gz,{onClick:()=>{e?.scrollBy({top:150,behavior:"smooth"})},icon:"caret-down",className:"str-video__speaker-layout__participants-bar--button-bottom"})]})},vw=e=>!!e?.publishedTracks.includes(ss.TrackType.SCREEN_SHARE),[vx,vk,vS]="0.5.1".split(".");a={type:ss.SdkType.REACT,major:vx,minor:vk,patch:vS}},58529:(e,t,i)=>{"use strict";i.d(t,{Ry:()=>c});var n=new WeakMap,r=new WeakMap,a={},s=0,o=function(e){return e&&(e.host||o(e.parentNode))},l=function(e,t,i,l){var c=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var i=o(e);return i&&t.contains(i)?i:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});a[i]||(a[i]=new WeakMap);var u=a[i],d=[],h=new Set,p=new Set(c),f=function(e){!e||h.has(e)||(h.add(e),f(e.parentNode))};c.forEach(f);var m=function(e){!e||p.has(e)||Array.prototype.forEach.call(e.children,function(e){if(h.has(e))m(e);else{var t=e.getAttribute(l),a=null!==t&&"false"!==t,s=(n.get(e)||0)+1,o=(u.get(e)||0)+1;n.set(e,s),u.set(e,o),d.push(e),1===s&&a&&r.set(e,!0),1===o&&e.setAttribute(i,"true"),a||e.setAttribute(l,"true")}})};return m(t),h.clear(),s++,function(){d.forEach(function(e){var t=n.get(e)-1,a=u.get(e)-1;n.set(e,t),u.set(e,a),t||(r.has(e)||e.removeAttribute(l),r.delete(e)),a||e.removeAttribute(i)}),--s||(n=new WeakMap,n=new WeakMap,r=new WeakMap,a={})}},c=function(e,t,i){void 0===i&&(i="data-aria-hidden");var n,r=Array.from(Array.isArray(e)?e:[e]),a=t||(n=e,"undefined"==typeof document?null:(Array.isArray(n)?n[0]:n).ownerDocument.body);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),l(r,a,i,"aria-hidden")):function(){return null}}},9416:(e,t,i)=>{e.exports={parallel:i(45381),serial:i(28962),serialOrdered:i(45646)}},79767:e=>{e.exports=function(e){Object.keys(e.jobs).forEach(t.bind(e)),e.jobs={}};function t(e){"function"==typeof this.jobs[e]&&this.jobs[e]()}},57679:(e,t,i)=>{var n=i(29449);e.exports=function(e){var t=!1;return n(function(){t=!0}),function(i,r){t?e(i,r):n(function(){e(i,r)})}}},29449:e=>{e.exports=function(e){var t="function"==typeof setImmediate?setImmediate:"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:null;t?t(e):setTimeout(e,0)}},47033:(e,t,i)=>{var n=i(57679),r=i(79767);e.exports=function(e,t,i,a){var s,o,l=i.keyedList?i.keyedList[i.index]:i.index;i.jobs[l]=(s=e[l],o=function(e,t){l in i.jobs&&(delete i.jobs[l],e?r(i):i.results[l]=t,a(e,i.results))},2==t.length?t(s,n(o)):t(s,l,n(o)))}},86507:e=>{e.exports=function(e,t){var i=!Array.isArray(e),n={index:0,keyedList:i||t?Object.keys(e):null,jobs:{},results:i?{}:[],size:i?Object.keys(e).length:e.length};return t&&n.keyedList.sort(i?t:function(i,n){return t(e[i],e[n])}),n}},3907:(e,t,i)=>{var n=i(79767),r=i(57679);e.exports=function(e){Object.keys(this.jobs).length&&(this.index=this.size,n(this),r(e)(null,this.results))}},45381:(e,t,i)=>{var n=i(47033),r=i(86507),a=i(3907);e.exports=function(e,t,i){for(var s=r(e);s.index<(s.keyedList||e).length;)n(e,t,s,function(e,t){if(e){i(e,t);return}if(0===Object.keys(s.jobs).length){i(null,s.results);return}}),s.index++;return a.bind(s,i)}},28962:(e,t,i)=>{var n=i(45646);e.exports=function(e,t,i){return n(e,t,null,i)}},45646:(e,t,i)=>{var n=i(47033),r=i(86507),a=i(3907);function s(e,t){return e<t?-1:e>t?1:0}e.exports=function(e,t,i,s){var o=r(e,i);return n(e,t,o,function i(r,a){if(r){s(r,a);return}if(o.index++,o.index<(o.keyedList||e).length){n(e,t,o,i);return}s(null,o.results)}),a.bind(o,s)},e.exports.ascending=s,e.exports.descending=function(e,t){return -1*s(e,t)}},91643:(e,t,i)=>{var n=i(49567),r=i(21764),a=i(55315),s=i(32615),o=i(35240),l=i(17360).parse,c=i(92048),u=i(76162).Stream,d=i(71362),h=i(9416),p=i(47146);function f(e){if(!(this instanceof f))return new f(e);for(var t in this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],n.call(this),e=e||{})this[t]=e[t]}e.exports=f,r.inherits(f,n),f.LINE_BREAK="\r\n",f.DEFAULT_CONTENT_TYPE="application/octet-stream",f.prototype.append=function(e,t,i){"string"==typeof(i=i||{})&&(i={filename:i});var a=n.prototype.append.bind(this);if("number"==typeof t&&(t=""+t),r.isArray(t)){this._error(Error("Arrays are not supported."));return}var s=this._multiPartHeader(e,t,i),o=this._multiPartFooter();a(s),a(t),a(o),this._trackLength(s,t,i)},f.prototype._trackLength=function(e,t,i){var n=0;null!=i.knownLength?n+=+i.knownLength:Buffer.isBuffer(t)?n=t.length:"string"==typeof t&&(n=Buffer.byteLength(t)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(e)+f.LINE_BREAK.length,t&&(t.path||t.readable&&t.hasOwnProperty("httpVersion")||t instanceof u)&&(i.knownLength||this._valuesToMeasure.push(t))},f.prototype._lengthRetriever=function(e,t){e.hasOwnProperty("fd")?void 0!=e.end&&e.end!=1/0&&void 0!=e.start?t(null,e.end+1-(e.start?e.start:0)):c.stat(e.path,function(i,n){if(i){t(i);return}t(null,n.size-(e.start?e.start:0))}):e.hasOwnProperty("httpVersion")?t(null,+e.headers["content-length"]):e.hasOwnProperty("httpModule")?(e.on("response",function(i){e.pause(),t(null,+i.headers["content-length"])}),e.resume()):t("Unknown stream")},f.prototype._multiPartHeader=function(e,t,i){if("string"==typeof i.header)return i.header;var n,r=this._getContentDisposition(t,i),a=this._getContentType(t,i),s="",o={"Content-Disposition":["form-data",'name="'+e+'"'].concat(r||[]),"Content-Type":[].concat(a||[])};for(var l in"object"==typeof i.header&&p(o,i.header),o)if(o.hasOwnProperty(l)){if(null==(n=o[l]))continue;Array.isArray(n)||(n=[n]),n.length&&(s+=l+": "+n.join("; ")+f.LINE_BREAK)}return"--"+this.getBoundary()+f.LINE_BREAK+s+f.LINE_BREAK},f.prototype._getContentDisposition=function(e,t){var i,n;return"string"==typeof t.filepath?i=a.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e.name||e.path?i=a.basename(t.filename||e.name||e.path):e.readable&&e.hasOwnProperty("httpVersion")&&(i=a.basename(e.client._httpMessage.path||"")),i&&(n='filename="'+i+'"'),n},f.prototype._getContentType=function(e,t){var i=t.contentType;return!i&&e.name&&(i=d.lookup(e.name)),!i&&e.path&&(i=d.lookup(e.path)),!i&&e.readable&&e.hasOwnProperty("httpVersion")&&(i=e.headers["content-type"]),!i&&(t.filepath||t.filename)&&(i=d.lookup(t.filepath||t.filename)),i||"object"!=typeof e||(i=f.DEFAULT_CONTENT_TYPE),i},f.prototype._multiPartFooter=function(){return(function(e){var t=f.LINE_BREAK;0===this._streams.length&&(t+=this._lastBoundary()),e(t)}).bind(this)},f.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+f.LINE_BREAK},f.prototype.getHeaders=function(e){var t,i={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)e.hasOwnProperty(t)&&(i[t.toLowerCase()]=e[t]);return i},f.prototype.setBoundary=function(e){this._boundary=e},f.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},f.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),i=0,n=this._streams.length;i<n;i++)"function"!=typeof this._streams[i]&&(Buffer.isBuffer(this._streams[i])?e=Buffer.concat([e,this._streams[i]]):e=Buffer.concat([e,Buffer.from(this._streams[i])]),("string"!=typeof this._streams[i]||this._streams[i].substring(2,t.length+2)!==t)&&(e=Buffer.concat([e,Buffer.from(f.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])},f.prototype._generateBoundary=function(){for(var e="--------------------------",t=0;t<24;t++)e+=Math.floor(10*Math.random()).toString(16);this._boundary=e},f.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(Error("Cannot calculate proper length in synchronous way.")),e},f.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e},f.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;if(this._streams.length&&(t+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(e.bind(this,null,t));return}h.parallel(this._valuesToMeasure,this._lengthRetriever,function(i,n){if(i){e(i);return}n.forEach(function(e){t+=e}),e(null,t)})},f.prototype.submit=function(e,t){var i,n,r={method:"post"};return"string"==typeof e?n=p({port:(e=l(e)).port,path:e.pathname,host:e.hostname,protocol:e.protocol},r):(n=p(e,r)).port||(n.port="https:"==n.protocol?443:80),n.headers=this.getHeaders(e.headers),i="https:"==n.protocol?o.request(n):s.request(n),this.getLength((function(e,n){if(e&&"Unknown stream"!==e){this._error(e);return}if(n&&i.setHeader("Content-Length",n),this.pipe(i),t){var r,a=function(e,n){return i.removeListener("error",a),i.removeListener("response",r),t.call(this,e,n)};r=a.bind(this,null),i.on("error",a),i.on("response",r)}}).bind(this)),i},f.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))},f.prototype.toString=function(){return"[object FormData]"}},47146:e=>{e.exports=function(e,t){return Object.keys(t).forEach(function(i){e[i]=e[i]||t[i]}),e}},73657:(e,t)=>{"use strict";t.JQ=function(e){for(var t,n=e.length,r=n%3,a=[],s=0,o=n-r;s<o;s+=16383)a.push(function(e,t,n){for(var r,a=[],s=t;s<n;s+=3)a.push(i[(r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return a.join("")}(e,s,s+16383>o?o:s+16383));return 1===r?a.push(i[(t=e[n-1])>>2]+i[t<<4&63]+"=="):2===r&&a.push(i[(t=(e[n-2]<<8)+e[n-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),a.join("")};for(var i=[],n=[],r=("undefined"!=typeof Uint8Array&&Uint8Array,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a=0,s=r.length;a<s;++a)i[a]=r[a],n[r.charCodeAt(a)]=a;n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},77412:(e,t,i)=>{"use strict";var n=i(78893).Buffer,r=i(78893).SlowBuffer;function a(e,t){if(!n.isBuffer(e)||!n.isBuffer(t)||e.length!==t.length)return!1;for(var i=0,r=0;r<e.length;r++)i|=e[r]^t[r];return 0===i}e.exports=a,a.install=function(){n.prototype.equal=r.prototype.equal=function(e){return a(this,e)}};var s=n.prototype.equal,o=r.prototype.equal;a.restore=function(){n.prototype.equal=s,r.prototype.equal=o}},49567:(e,t,i)=>{var n=i(21764),r=i(76162).Stream,a=i(49334);function s(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}e.exports=s,n.inherits(s,r),s.create=function(e){var t=new this;for(var i in e=e||{})t[i]=e[i];return t},s.isStreamLike=function(e){return"function"!=typeof e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e&&!Buffer.isBuffer(e)},s.prototype.append=function(e){if(s.isStreamLike(e)){if(!(e instanceof a)){var t=a.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=t}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this},s.prototype.pipe=function(e,t){return r.prototype.pipe.call(this,e,t),this.resume(),e},s.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}},s.prototype._realGetNext=function(){var e=this._streams.shift();if(void 0===e){this.end();return}if("function"!=typeof e){this._pipeNext(e);return}e((function(e){s.isStreamLike(e)&&(e.on("data",this._checkDataSize.bind(this)),this._handleErrors(e)),this._pipeNext(e)}).bind(this))},s.prototype._pipeNext=function(e){if(this._currentStream=e,s.isStreamLike(e)){e.on("end",this._getNext.bind(this)),e.pipe(this,{end:!1});return}this.write(e),this._getNext()},s.prototype._handleErrors=function(e){var t=this;e.on("error",function(e){t._emitError(e)})},s.prototype.write=function(e){this.emit("data",e)},s.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},s.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},s.prototype.end=function(){this._reset(),this.emit("end")},s.prototype.destroy=function(){this._reset(),this.emit("close")},s.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},s.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(Error(e))}},s.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach(function(t){t.dataSize&&(e.dataSize+=t.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},s.prototype._emitError=function(e){this._reset(),this.emit("error",e)}},74180:(e,t,i)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let i="color: "+this.color;t.splice(1,0,i,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(r=n))}),t.splice(r,0,i)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=i(49773)(t);let{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},49773:(e,t,i)=>{e.exports=function(e){function t(e){let i,r,a;let s=null;function o(...e){if(!o.enabled)return;let n=Number(new Date),r=n-(i||n);o.diff=r,o.prev=i,o.curr=n,i=n,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(i,n)=>{if("%%"===i)return"%";a++;let r=t.formatters[n];if("function"==typeof r){let t=e[a];i=r.call(o,t),e.splice(a,1),a--}return i}),t.formatArgs.call(o,e),(o.log||t.log).apply(o,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=n,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(r!==t.namespaces&&(r=t.namespaces,a=t.enabled(e)),a),set:e=>{s=e}}),"function"==typeof t.init&&t.init(o),o}function n(e,i){let n=t(this.namespace+(void 0===i?":":i)+e);return n.log=this.log,n}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names.map(r),...t.skips.map(r).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let i;t.save(e),t.namespaces=e,t.names=[],t.skips=[];let n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.slice(1)+"$")):t.names.push(RegExp("^"+e+"$")))},t.enabled=function(e){let i,n;if("*"===e[e.length-1])return!0;for(i=0,n=t.skips.length;i<n;i++)if(t.skips[i].test(e))return!1;for(i=0,n=t.names.length;i<n;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=i(88514),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(i=>{t[i]=e[i]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let i=0;for(let t=0;t<e.length;t++)i=(i<<5)-i+e.charCodeAt(t)|0;return t.colors[Math.abs(i)%t.colors.length]},t.enable(t.load()),t}},28781:(e,t,i)=>{"undefined"==typeof process||"renderer"===process.type||process.__nwjs?e.exports=i(74180):e.exports=i(74438)},74438:(e,t,i)=>{let n=i(74175),r=i(21764);t.init=function(e){e.inspectOpts={};let i=Object.keys(t.inspectOpts);for(let n=0;n<i.length;n++)e.inspectOpts[i[n]]=t.inspectOpts[i[n]]},t.log=function(...e){return process.stderr.write(r.format(...e)+"\n")},t.formatArgs=function(i){let{namespace:n,useColors:r}=this;if(r){let t=this.color,r="\x1b[3"+(t<8?t:"8;5;"+t),a=`  ${r};1m${n} \u001B[0m`;i[0]=a+i[0].split("\n").join("\n"+a),i.push(r+"m+"+e.exports.humanize(this.diff)+"\x1b[0m")}else i[0]=(t.inspectOpts.hideDate?"":new Date().toISOString()+" ")+n+" "+i[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)},t.destroy=r.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{let e=i(76839);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let i=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[i]=n,e},{}),e.exports=i(49773)(t);let{formatters:a}=e.exports;a.o=function(e){return this.inspectOpts.colors=this.useColors,r.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},a.O=function(e){return this.inspectOpts.colors=this.useColors,r.inspect(e,this.inspectOpts)}},49334:(e,t,i)=>{var n=i(76162).Stream,r=i(21764);function a(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}e.exports=a,r.inherits(a,n),a.create=function(e,t){var i=new this;for(var n in t=t||{})i[n]=t[n];i.source=e;var r=e.emit;return e.emit=function(){return i._handleEmit(arguments),r.apply(e,arguments)},e.on("error",function(){}),i.pauseStream&&e.pause(),i},Object.defineProperty(a.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),a.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},a.prototype.resume=function(){this._released||this.release(),this.source.resume()},a.prototype.pause=function(){this.source.pause()},a.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach((function(e){this.emit.apply(this,e)}).bind(this)),this._bufferedEvents=[]},a.prototype.pipe=function(){var e=n.prototype.pipe.apply(this,arguments);return this.resume(),e},a.prototype._handleEmit=function(e){if(this._released){this.emit.apply(this,e);return}"data"===e[0]&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e)},a.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",Error(e))}}},83345:(e,t,i)=>{"use strict";var n=i(82576).Buffer,r=i(33880);function a(e){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,"base64");throw TypeError("ECDSA signature must be a Base64 string or a Buffer")}function s(e,t,i){for(var n=0;t+n<i&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}e.exports={derToJose:function(e,t){e=a(e);var i=r(t),s=i+1,o=e.length,l=0;if(48!==e[l++])throw Error('Could not find expected "seq"');var c=e[l++];if(129===c&&(c=e[l++]),o-l<c)throw Error('"seq" specified length of "'+c+'", only "'+(o-l)+'" remaining');if(2!==e[l++])throw Error('Could not find expected "int" for "r"');var u=e[l++];if(o-l-2<u)throw Error('"r" specified length of "'+u+'", only "'+(o-l-2)+'" available');if(s<u)throw Error('"r" specified length of "'+u+'", max of "'+s+'" is acceptable');var d=l;if(l+=u,2!==e[l++])throw Error('Could not find expected "int" for "s"');var h=e[l++];if(o-l!==h)throw Error('"s" specified length of "'+h+'", expected "'+(o-l)+'"');if(s<h)throw Error('"s" specified length of "'+h+'", max of "'+s+'" is acceptable');var p=l;if((l+=h)!==o)throw Error('Expected to consume entire buffer, but "'+(o-l)+'" bytes remain');var f=i-u,m=i-h,g=n.allocUnsafe(f+u+m+h);for(l=0;l<f;++l)g[l]=0;e.copy(g,l,d+Math.max(-f,0),d+u),l=i;for(var y=l;l<y+m;++l)g[l]=0;return e.copy(g,l,p+Math.max(-m,0),p+h),g=(g=g.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=a(e);var i=r(t),o=e.length;if(o!==2*i)throw TypeError('"'+t+'" signatures must be "'+2*i+'" bytes, saw "'+o+'"');var l=s(e,0,i),c=s(e,i,e.length),u=i-l,d=i-c,h=2+u+1+1+d,p=h<128,f=n.allocUnsafe((p?2:3)+h),m=0;return f[m++]=48,p?f[m++]=h:(f[m++]=129,f[m++]=255&h),f[m++]=2,f[m++]=u,l<0?(f[m++]=0,m+=e.copy(f,m,0,i)):m+=e.copy(f,m,l,i),f[m++]=2,f[m++]=d,c<0?(f[m++]=0,e.copy(f,m,i)):e.copy(f,m,i+c),f}}},33880:e=>{"use strict";function t(e){return(e/8|0)+(e%8==0?0:1)}var i={ES256:t(256),ES384:t(384),ES512:t(521)};e.exports=function(e){var t=i[e];if(t)return t;throw Error('Unknown algorithm "'+e+'"')}},31719:(e,t,i)=>{var n;e.exports=function(){if(!n){try{n=i(28781)("follow-redirects")}catch(e){}"function"!=typeof n&&(n=function(){})}n.apply(null,arguments)}},10133:(e,t,i)=>{var n=i(17360),r=n.URL,a=i(32615),s=i(35240),o=i(76162).Writable,l=i(27790),c=i(31719);!function(){var e="undefined"!=typeof process,t="undefined"!=typeof window&&"undefined"!=typeof document,i=A(Error.captureStackTrace);e||!t&&i||console.warn("The follow-redirects package should be excluded from browser builds.")}();var u=!1;try{l(new r(""))}catch(e){u="ERR_INVALID_URL"===e.code}var d=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],h=["abort","aborted","connect","error","socket","timeout"],p=Object.create(null);h.forEach(function(e){p[e]=function(t,i,n){this._redirectable.emit(e,t,i,n)}});var f=T("ERR_INVALID_URL","Invalid URL",TypeError),m=T("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),g=T("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",m),y=T("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),v=T("ERR_STREAM_WRITE_AFTER_END","write after end"),b=o.prototype.destroy||k;function w(e,t){o.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var i=this;this._onNativeResponse=function(e){try{i._processResponse(e)}catch(e){i.emit("error",e instanceof m?e:new m({cause:e}))}},this._performRequest()}function x(e){var t={maxRedirects:21,maxBodyLength:10485760},i={};return Object.keys(e).forEach(function(n){var a=n+":",s=i[a]=e[n],o=t[n]=Object.create(s);Object.defineProperties(o,{request:{value:function(e,n,s){var o;return(o=e,r&&o instanceof r)?e=R(e):P(e)?e=R(S(e)):(s=n,n=_(e),e={protocol:a}),A(n)&&(s=n,n=null),(n=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,n)).nativeProtocols=i,P(n.host)||P(n.hostname)||(n.hostname="::1"),l.equal(n.protocol,a,"protocol mismatch"),c("options",n),new w(n,s)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,i){var n=o.request(e,t,i);return n.end(),n},configurable:!0,enumerable:!0,writable:!0}})}),t}function k(){}function S(e){var t;if(u)t=new r(e);else if(!P((t=_(n.parse(e))).protocol))throw new f({input:e});return t}function _(e){if(/^\[/.test(e.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(e.hostname)||/^\[/.test(e.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(e.host))throw new f({input:e.href||e});return e}function R(e,t){var i=t||{};for(var n of d)i[n]=e[n];return i.hostname.startsWith("[")&&(i.hostname=i.hostname.slice(1,-1)),""!==i.port&&(i.port=Number(i.port)),i.path=i.search?i.pathname+i.search:i.pathname,i}function E(e,t){var i;for(var n in t)e.test(n)&&(i=t[n],delete t[n]);return null==i?void 0:String(i).trim()}function T(e,t,i){function n(i){A(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return n.prototype=new(i||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+e+"]",enumerable:!1}}),n}function C(e,t){for(var i of h)e.removeListener(i,p[i]);e.on("error",k),e.destroy(t)}function P(e){return"string"==typeof e||e instanceof String}function A(e){return"function"==typeof e}w.prototype=Object.create(o.prototype),w.prototype.abort=function(){C(this._currentRequest),this._currentRequest.abort(),this.emit("abort")},w.prototype.destroy=function(e){return C(this._currentRequest,e),b.call(this,e),this},w.prototype.write=function(e,t,i){if(this._ending)throw new v;if(!P(e)&&!("object"==typeof e&&"length"in e))throw TypeError("data should be a string, Buffer or Uint8Array");if(A(t)&&(i=t,t=null),0===e.length){i&&i();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,i)):(this.emit("error",new y),this.abort())},w.prototype.end=function(e,t,i){if(A(e)?(i=e,e=t=null):A(t)&&(i=t,t=null),e){var n=this,r=this._currentRequest;this.write(e,t,function(){n._ended=!0,r.end(null,null,i)}),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,i)},w.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},w.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},w.prototype.setTimeout=function(e,t){var i=this;function n(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function r(t){i._timeout&&clearTimeout(i._timeout),i._timeout=setTimeout(function(){i.emit("timeout"),a()},e),n(t)}function a(){i._timeout&&(clearTimeout(i._timeout),i._timeout=null),i.removeListener("abort",a),i.removeListener("error",a),i.removeListener("response",a),i.removeListener("close",a),t&&i.removeListener("timeout",t),i.socket||i._currentRequest.removeListener("socket",r)}return t&&this.on("timeout",t),this.socket?r(this.socket):this._currentRequest.once("socket",r),this.on("socket",n),this.on("abort",a),this.on("error",a),this.on("response",a),this.on("close",a),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){w.prototype[e]=function(t,i){return this._currentRequest[e](t,i)}}),["aborted","connection","socket"].forEach(function(e){Object.defineProperty(w.prototype,e,{get:function(){return this._currentRequest[e]}})}),w.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},w.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t)throw TypeError("Unsupported protocol "+e);if(this._options.agents){var i=e.slice(0,-1);this._options.agent=this._options.agents[i]}var r=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var a of(r._redirectable=this,h))r.on(a,p[a]);if(this._currentUrl=/^\//.test(this._options.path)?n.format(this._options):this._options.path,this._isRedirect){var s=0,o=this,l=this._requestBodyBuffers;!function e(t){if(r===o._currentRequest){if(t)o.emit("error",t);else if(s<l.length){var i=l[s++];r.finished||r.write(i.data,i.encoding,e)}else o._ended&&r.end()}}()}},w.prototype._processResponse=function(e){var t,i,a,s=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:s});var o=e.headers.location;if(!o||!1===this._options.followRedirects||s<300||s>=400){e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[];return}if(C(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)throw new g;var d=this._options.beforeRedirect;d&&(a=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var h=this._options.method;(301!==s&&302!==s||"POST"!==this._options.method)&&(303!==s||/^(?:GET|HEAD)$/.test(this._options.method))||(this._options.method="GET",this._requestBodyBuffers=[],E(/^content-/i,this._options.headers));var p=E(/^host$/i,this._options.headers),f=S(this._currentUrl),m=p||f.host,y=/^\w+:/.test(o)?this._currentUrl:n.format(Object.assign(f,{host:m})),v=u?new r(o,y):S(n.resolve(y,o));if(c("redirecting to",v.href),this._isRedirect=!0,R(v,this._options),(v.protocol===f.protocol||"https:"===v.protocol)&&(v.host===m||(l(P(t=v.host)&&P(m)),(i=t.length-m.length-1)>0&&"."===t[i]&&t.endsWith(m)))||E(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),A(d)){var b={headers:e.headers,statusCode:s},w={url:y,method:h,headers:a};d(this._options,b,w),this._sanitizeOptions(this._options)}this._performRequest()},e.exports=x({http:a,https:s}),e.exports.wrap=x},38060:e=>{"use strict";e.exports=(e,t=process.argv)=>{let i=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(i+e),r=t.indexOf("--");return -1!==n&&(-1===r||n<r)}},96275:(e,t,i)=>{"use strict";e.exports=i(89745)},63855:(e,t,i)=>{var n=i(1575);e.exports=function(e,t){t=t||{};var i=n.decode(e,t);if(!i)return null;var r=i.payload;if("string"==typeof r)try{var a=JSON.parse(r);null!==a&&"object"==typeof a&&(r=a)}catch(e){}return!0===t.complete?{header:i.header,payload:r,signature:i.signature}:r}},9087:(e,t,i)=>{e.exports={decode:i(63855),verify:i(97168),sign:i(53814),JsonWebTokenError:i(34644),NotBeforeError:i(61554),TokenExpiredError:i(38756)}},34644:e=>{var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},61554:(e,t,i)=>{var n=i(34644),r=function(e,t){n.call(this,e),this.name="NotBeforeError",this.date=t};r.prototype=Object.create(n.prototype),r.prototype.constructor=r,e.exports=r},38756:(e,t,i)=>{var n=i(34644),r=function(e,t){n.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};r.prototype=Object.create(n.prototype),r.prototype.constructor=r,e.exports=r},27177:(e,t,i)=>{let n=i(30555);e.exports=n.satisfies(process.version,">=15.7.0")},40610:(e,t,i)=>{var n=i(30555);e.exports=n.satisfies(process.version,"^6.12.0 || >=8.0.0")},45685:(e,t,i)=>{let n=i(30555);e.exports=n.satisfies(process.version,">=16.9.0")},14130:(e,t,i)=>{var n=i(88514);e.exports=function(e,t){var i=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var r=n(e);if(void 0===r)return;return Math.floor(i+r/1e3)}if("number"==typeof e)return i+e}},5997:(e,t,i)=>{let n=i(27177),r=i(45685),a={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},s={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;let i=t.asymmetricKeyType;if(!i)return;let o=a[i];if(!o)throw Error(`Unknown key type "${i}".`);if(!o.includes(e))throw Error(`"alg" parameter for "${i}" key type must be one of: ${o.join(", ")}.`);if(n)switch(i){case"ec":let l=t.asymmetricKeyDetails.namedCurve,c=s[e];if(l!==c)throw Error(`"alg" parameter "${e}" requires curve "${c}".`);break;case"rsa-pss":if(r){let i=parseInt(e.slice(-3),10),{hashAlgorithm:n,mgf1HashAlgorithm:r,saltLength:a}=t.asymmetricKeyDetails;if(n!==`sha${i}`||r!==n)throw Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(void 0!==a&&a>i>>3)throw Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}}},53814:(e,t,i)=>{let n=i(14130),r=i(40610),a=i(5997),s=i(1575),o=i(37406),l=i(83909),c=i(89137),u=i(63627),d=i(44829),h=i(7026),p=i(80954),{KeyObject:f,createSecretKey:m,createPrivateKey:g}=i(84770),y=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];r&&y.splice(3,0,"PS256","PS384","PS512");let v={expiresIn:{isValid:function(e){return c(e)||h(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return c(e)||h(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return h(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:o.bind(null,y),message:'"algorithm" must be a valid string enum value'},header:{isValid:d,message:'"header" must be an object'},encoding:{isValid:h,message:'"encoding" must be a string'},issuer:{isValid:h,message:'"issuer" must be a string'},subject:{isValid:h,message:'"subject" must be a string'},jwtid:{isValid:h,message:'"jwtid" must be a string'},noTimestamp:{isValid:l,message:'"noTimestamp" must be a boolean'},keyid:{isValid:h,message:'"keyid" must be a string'},mutatePayload:{isValid:l,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:l,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:l,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},b={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function w(e,t,i,n){if(!d(i))throw Error('Expected "'+n+'" to be a plain object.');Object.keys(i).forEach(function(r){let a=e[r];if(!a){if(!t)throw Error('"'+r+'" is not allowed in "'+n+'"');return}if(!a.isValid(i[r]))throw Error(a.message)})}let x={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},k=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,i,r){var o,l;"function"==typeof i?(r=i,i={}):i=i||{};let c="object"==typeof e&&!Buffer.isBuffer(e),u=Object.assign({alg:i.algorithm||"HS256",typ:c?"JWT":void 0,kid:i.keyid},i.header);function d(e){if(r)return r(e);throw e}if(!t&&"none"!==i.algorithm)return d(Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof f))try{t=g(t)}catch(e){try{t=m("string"==typeof t?Buffer.from(t):t)}catch(e){return d(Error("secretOrPrivateKey is not valid key material"))}}if(u.alg.startsWith("HS")&&"secret"!==t.type)return d(Error(`secretOrPrivateKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)){if("private"!==t.type)return d(Error(`secretOrPrivateKey must be an asymmetric key when using ${u.alg}`));if(!i.allowInsecureKeySizes&&!u.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return d(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`))}if(void 0===e)return d(Error("payload is required"));if(c){try{o=e,w(b,!0,o,"payload")}catch(e){return d(e)}i.mutatePayload||(e=Object.assign({},e))}else{let t=k.filter(function(e){return void 0!==i[e]});if(t.length>0)return d(Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==i.expiresIn)return d(Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==i.notBefore)return d(Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{l=i,w(v,!1,l,"options")}catch(e){return d(e)}if(!i.allowInvalidAsymmetricKeyTypes)try{a(u.alg,t)}catch(e){return d(e)}let h=e.iat||Math.floor(Date.now()/1e3);if(i.noTimestamp?delete e.iat:c&&(e.iat=h),void 0!==i.notBefore){try{e.nbf=n(i.notBefore,h)}catch(e){return d(e)}if(void 0===e.nbf)return d(Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==i.expiresIn&&"object"==typeof e){try{e.exp=n(i.expiresIn,h)}catch(e){return d(e)}if(void 0===e.exp)return d(Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(x).forEach(function(t){let n=x[t];if(void 0!==i[t]){if(void 0!==e[n])return d(Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=i[t]}});let y=i.encoding||"utf8";if("function"==typeof r)r=r&&p(r),s.createSign({header:u,privateKey:t,payload:e,encoding:y}).once("error",r).once("done",function(e){if(!i.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&e.length<256)return r(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`));r(null,e)});else{let n=s.sign({header:u,payload:e,secret:t,encoding:y});if(!i.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&n.length<256)throw Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`);return n}}},97168:(e,t,i)=>{let n=i(34644),r=i(61554),a=i(38756),s=i(63855),o=i(14130),l=i(5997),c=i(40610),u=i(1575),{KeyObject:d,createSecretKey:h,createPublicKey:p}=i(84770),f=["RS256","RS384","RS512"],m=["ES256","ES384","ES512"],g=["RS256","RS384","RS512"],y=["HS256","HS384","HS512"];c&&(f.splice(f.length,0,"PS256","PS384","PS512"),g.splice(g.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,i,c){let v,b,w;if("function"!=typeof i||c||(c=i,i={}),i||(i={}),i=Object.assign({},i),v=c||function(e,t){if(e)throw e;return t},i.clockTimestamp&&"number"!=typeof i.clockTimestamp)return v(new n("clockTimestamp must be a number"));if(void 0!==i.nonce&&("string"!=typeof i.nonce||""===i.nonce.trim()))return v(new n("nonce must be a non-empty string"));if(void 0!==i.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof i.allowInvalidAsymmetricKeyTypes)return v(new n("allowInvalidAsymmetricKeyTypes must be a boolean"));let x=i.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return v(new n("jwt must be provided"));if("string"!=typeof e)return v(new n("jwt must be a string"));let k=e.split(".");if(3!==k.length)return v(new n("jwt malformed"));try{b=s(e,{complete:!0})}catch(e){return v(e)}if(!b)return v(new n("invalid token"));let S=b.header;if("function"==typeof t){if(!c)return v(new n("verify must be called asynchronous if secret or public key is provided as a callback"));w=t}else w=function(e,i){return i(null,t)};return w(S,function(t,s){let c;if(t)return v(new n("error in secret or public key callback: "+t.message));let w=""!==k[2].trim();if(!w&&s)return v(new n("jwt signature is required"));if(w&&!s)return v(new n("secret or public key must be provided"));if(!w&&!i.algorithms)return v(new n('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=s&&!(s instanceof d))try{s=p(s)}catch(e){try{s=h("string"==typeof s?Buffer.from(s):s)}catch(e){return v(new n("secretOrPublicKey is not valid key material"))}}if(i.algorithms||("secret"===s.type?i.algorithms=y:["rsa","rsa-pss"].includes(s.asymmetricKeyType)?i.algorithms=g:"ec"===s.asymmetricKeyType?i.algorithms=m:i.algorithms=f),-1===i.algorithms.indexOf(b.header.alg))return v(new n("invalid algorithm"));if(S.alg.startsWith("HS")&&"secret"!==s.type)return v(new n(`secretOrPublicKey must be a symmetric key when using ${S.alg}`));if(/^(?:RS|PS|ES)/.test(S.alg)&&"public"!==s.type)return v(new n(`secretOrPublicKey must be an asymmetric key when using ${S.alg}`));if(!i.allowInvalidAsymmetricKeyTypes)try{l(S.alg,s)}catch(e){return v(e)}try{c=u.verify(e,b.header.alg,s)}catch(e){return v(e)}if(!c)return v(new n("invalid signature"));let _=b.payload;if(void 0!==_.nbf&&!i.ignoreNotBefore){if("number"!=typeof _.nbf)return v(new n("invalid nbf value"));if(_.nbf>x+(i.clockTolerance||0))return v(new r("jwt not active",new Date(1e3*_.nbf)))}if(void 0!==_.exp&&!i.ignoreExpiration){if("number"!=typeof _.exp)return v(new n("invalid exp value"));if(x>=_.exp+(i.clockTolerance||0))return v(new a("jwt expired",new Date(1e3*_.exp)))}if(i.audience){let e=Array.isArray(i.audience)?i.audience:[i.audience];if(!(Array.isArray(_.aud)?_.aud:[_.aud]).some(function(t){return e.some(function(e){return e instanceof RegExp?e.test(t):e===t})}))return v(new n("jwt audience invalid. expected: "+e.join(" or ")))}if(i.issuer&&("string"==typeof i.issuer&&_.iss!==i.issuer||Array.isArray(i.issuer)&&-1===i.issuer.indexOf(_.iss)))return v(new n("jwt issuer invalid. expected: "+i.issuer));if(i.subject&&_.sub!==i.subject)return v(new n("jwt subject invalid. expected: "+i.subject));if(i.jwtid&&_.jti!==i.jwtid)return v(new n("jwt jwtid invalid. expected: "+i.jwtid));if(i.nonce&&_.nonce!==i.nonce)return v(new n("jwt nonce invalid. expected: "+i.nonce));if(i.maxAge){if("number"!=typeof _.iat)return v(new n("iat required when maxAge is specified"));let e=o(i.maxAge,_.iat);if(void 0===e)return v(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(x>=e+(i.clockTolerance||0))return v(new a("maxAge exceeded",new Date(1e3*e)))}return!0===i.complete?v(null,{header:S,payload:_,signature:b.signature}):v(null,_)})}},40321:(e,t,i)=>{var n=i(77412),r=i(82576).Buffer,a=i(84770),s=i(83345),o=i(21764),l="secret must be a string or buffer",c="key must be a string or a buffer",u="function"==typeof a.createPublicKey;function d(e){if(!r.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"string"!=typeof e.type||"string"!=typeof e.asymmetricKeyType||"function"!=typeof e.export))throw m(c)}function h(e){if(!r.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw m("key must be a string, a buffer or an object")}function p(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var i=0;i<t;++i)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function m(e){var t=[].slice.call(arguments,1);return TypeError(o.format.bind(o,e).apply(null,t))}function g(e){var t;return t=e,r.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function y(e){return function(t,i){(function(e){if(!r.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"secret"!==e.type||"function"!=typeof e.export))throw m(l)})(i),t=g(t);var n=a.createHmac("sha"+e,i);return p((n.update(t),n.digest("base64")))}}function v(e){return function(t,i,a){var s=y(e)(t,a);return n(r.from(i),r.from(s))}}function b(e){return function(t,i){h(i),t=g(t);var n=a.createSign("RSA-SHA"+e);return p((n.update(t),n.sign(i,"base64")))}}function w(e){return function(t,i,n){d(n),t=g(t),i=f(i);var r=a.createVerify("RSA-SHA"+e);return r.update(t),r.verify(n,i,"base64")}}function x(e){return function(t,i){h(i),t=g(t);var n=a.createSign("RSA-SHA"+e);return p((n.update(t),n.sign({key:i,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function k(e){return function(t,i,n){d(n),t=g(t),i=f(i);var r=a.createVerify("RSA-SHA"+e);return r.update(t),r.verify({key:n,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},i,"base64")}}function S(e){var t=b(e);return function(){var i=t.apply(null,arguments);return s.derToJose(i,"ES"+e)}}function _(e){var t=w(e);return function(i,n,r){return t(i,n=s.joseToDer(n,"ES"+e).toString("base64"),r)}}function R(){return function(){return""}}function E(){return function(e,t){return""===t}}u&&(c+=" or a KeyObject",l+="or a KeyObject"),e.exports=function(e){var t=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!t)throw m('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var i=(t[1]||t[3]).toLowerCase(),n=t[2];return{sign:({hs:y,rs:b,ps:x,es:S,none:R})[i](n),verify:({hs:v,rs:w,ps:k,es:_,none:E})[i](n)}}},1575:(e,t,i)=>{var n=i(94028),r=i(29230);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=r.verify,t.decode=r.decode,t.isValid=r.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new r(e)}},58584:(e,t,i)=>{var n=i(82576).Buffer,r=i(76162);function a(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=n.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=n.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick((function(){this.emit("end",e),this.readable=!1,this.emit("close")}).bind(this)),this;throw TypeError("Unexpected data type ("+typeof e+")")}i(21764).inherits(a,r),a.prototype.write=function(e){this.buffer=n.concat([this.buffer,n.from(e)]),this.emit("data",e)},a.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=a},94028:(e,t,i)=>{var n=i(82576).Buffer,r=i(58584),a=i(40321),s=i(76162),o=i(16996),l=i(21764);function c(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(e){var t,i,n,r=e.header,s=e.payload,u=e.secret||e.privateKey,d=e.encoding,h=a(r.alg),p=(t=(t=d)||"utf8",i=c(o(r),"binary"),n=c(o(s),t),l.format("%s.%s",i,n)),f=h.sign(p,u);return l.format("%s.%s",p,f)}function d(e){var t=new r(e.secret||e.privateKey||e.key);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new r(e.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}l.inherits(d,s),d.prototype.sign=function(){try{var e=u({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},d.sign=u,e.exports=d},16996:(e,t,i)=>{var n=i(78893).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},29230:(e,t,i)=>{var n=i(82576).Buffer,r=i(58584),a=i(40321),s=i(76162),o=i(16996),l=i(21764),c=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(e){var t=e.split(".",1)[0];return function(e){if("[object Object]"===Object.prototype.toString.call(e))return e;try{return JSON.parse(e)}catch(e){return}}(n.from(t,"base64").toString("binary"))}function d(e){return e.split(".")[2]}function h(e){return c.test(e)&&!!u(e)}function p(e,t,i){if(!t){var n=Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var r=d(e=o(e)),s=e.split(".",2).join(".");return a(t).verify(s,r,i)}function f(e,t){if(t=t||{},!h(e=o(e)))return null;var i,r,a=u(e);if(!a)return null;var s=(i=i||"utf8",r=e.split(".")[1],n.from(r,"base64").toString(i));return("JWT"===a.typ||t.json)&&(s=JSON.parse(s,t.encoding)),{header:a,payload:s,signature:d(e)}}function m(e){var t=new r((e=e||{}).secret||e.publicKey||e.key);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new r(e.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}l.inherits(m,s),m.prototype.verify=function(){try{var e=p(this.signature.buffer,this.algorithm,this.key.buffer),t=f(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},m.decode=f,m.isValid=h,m.verify=p,e.exports=m},37406:e=>{var t,i,n=1/0,r=0/0,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=/^(?:0|[1-9]\d*)$/,u=parseInt;function d(e){return e!=e}var h=Object.prototype,p=h.hasOwnProperty,f=h.toString,m=h.propertyIsEnumerable,g=(t=Object.keys,i=Object,function(e){return t(i(e))}),y=Math.max,v=Array.isArray;function b(e){var t,i;return null!=e&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=9007199254740991&&!("[object Function]"==(i=w(e)?f.call(e):"")||"[object GeneratorFunction]"==i)}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function x(e){return!!e&&"object"==typeof e}e.exports=function(e,t,i,k){e=b(e)?e:(S=e)?function(e,t){for(var i=-1,n=e?e.length:0,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}(b(S)?function(e,t){var i,n=v(e)||x(e)&&b(e)&&p.call(e,"callee")&&(!m.call(e,"callee")||"[object Arguments]"==f.call(e))?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],r=n.length,a=!!r;for(var s in e)p.call(e,s)&&!(a&&("length"==s||(i=null==(i=r)?9007199254740991:i)&&("number"==typeof s||c.test(s))&&s>-1&&s%1==0&&s<i))&&n.push(s);return n}(S):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||h))return g(e);var t,i=[];for(var n in Object(e))p.call(e,n)&&"constructor"!=n&&i.push(n);return i}(S),function(e){return S[e]}):[],i=i&&!k?(E=(R=(_=i)?(_=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||x(t)&&"[object Symbol]"==f.call(t))return r;if(w(e)){var t,i="function"==typeof e.valueOf?e.valueOf():e;e=w(i)?i+"":i}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=o.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?r:+e}(_))===n||_===-n?(_<0?-1:1)*17976931348623157e292:_==_?_:0:0===_?_:0)%1,R==R?E?R-E:R:0):0;var S,_,R,E,T,C=e.length;return i<0&&(i=y(C+i,0)),"string"==typeof(T=e)||!v(T)&&x(T)&&"[object String]"==f.call(T)?i<=C&&e.indexOf(t,i)>-1:!!C&&function(e,t,i){if(t!=t)return function(e,t,i,n){for(var r=e.length,a=i+-1;++a<r;)if(t(e[a],a,e))return a;return -1}(e,d,i);for(var n=i-1,r=e.length;++n<r;)if(e[n]===t)return n;return -1}(e,t,i)>-1}},83909:e=>{var t=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||!!e&&"object"==typeof e&&"[object Boolean]"==t.call(e)}},89137:e=>{var t=1/0,i=0/0,n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){var u,d,h;return"number"==typeof e&&e==(h=(d=(u=e)?(u=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return i;if(c(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var d=a.test(e);return d||s.test(e)?o(e.slice(2),d?2:8):r.test(e)?i:+e}(u))===t||u===-t?(u<0?-1:1)*17976931348623157e292:u==u?u:0:0===u?u:0)%1,d==d?h?d-h:d:0)}},63627:e=>{var t=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||!!e&&"object"==typeof e&&"[object Number]"==t.call(e)}},44829:e=>{var t,i,n=Object.prototype,r=Function.prototype.toString,a=n.hasOwnProperty,s=r.call(Object),o=n.toString,l=(t=Object.getPrototypeOf,i=Object,function(e){return t(i(e))});e.exports=function(e){if(!(e&&"object"==typeof e)||"[object Object]"!=o.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=l(e);if(null===t)return!0;var i=a.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&r.call(i)==s}},7026:e=>{var t=Object.prototype.toString,i=Array.isArray;e.exports=function(e){var n;return"string"==typeof e||!i(e)&&!!(n=e)&&"object"==typeof n&&"[object String]"==t.call(e)}},80954:e=>{var t=1/0,i=0/0,n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return function(e,u){var d,h,p,f;if("function"!=typeof u)throw TypeError("Expected a function");return f=(p=(h=e)?(h=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return i;if(c(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var d=a.test(e);return d||s.test(e)?o(e.slice(2),d?2:8):r.test(e)?i:+e}(h))===t||h===-t?(h<0?-1:1)*17976931348623157e292:h==h?h:0:0===h?h:0)%1,e=p==p?f?p-f:p:0,function(){return--e>0&&(d=u.apply(this,arguments)),e<=1&&(u=void 0),d}}(2,e)}},80412:(e,t,i)=>{e.exports=i(40572)},71362:(e,t,i)=>{"use strict";var n=i(80412),r=i(55315).extname,a=/^\s*([^;\s]*)(?:;|\s|$)/,s=/^text\//i;function o(e){if(!e||"string"!=typeof e)return!1;var t=a.exec(e),i=t&&n[t[1].toLowerCase()];return i&&i.charset?i.charset:!!(t&&s.test(t[1]))&&"UTF-8"}t.charset=o,t.charsets={lookup:o},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var i=-1===e.indexOf("/")?t.lookup(e):e;if(!i)return!1;if(-1===i.indexOf("charset")){var n=t.charset(i);n&&(i+="; charset="+n.toLowerCase())}return i},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var i=a.exec(e),n=i&&t.extensions[i[1].toLowerCase()];return!!n&&!!n.length&&n[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var i=r("x."+e).toLowerCase().substr(1);return!!i&&(t.types[i]||!1)},t.types=Object.create(null),function(e,t){var i=["nginx","apache",void 0,"iana"];Object.keys(n).forEach(function(r){var a=n[r],s=a.extensions;if(s&&s.length){e[r]=s;for(var o=0;o<s.length;o++){var l=s[o];if(t[l]){var c=i.indexOf(n[t[l]].source),u=i.indexOf(a.source);if("application/octet-stream"!==t[l]&&(c>u||c===u&&"application/"===t[l].substr(0,12)))continue}t[l]=r}}})}(t.extensions,t.types)},88514:e=>{function t(e,t,i,n){return Math.round(e/i)+" "+n+(t>=1.5*i?"s":"")}e.exports=function(e,i){i=i||{};var n,r,a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return 864e5*i;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*i;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===a&&isFinite(e))return i.long?(n=Math.abs(e))>=864e5?t(e,n,864e5,"day"):n>=36e5?t(e,n,36e5,"hour"):n>=6e4?t(e,n,6e4,"minute"):n>=1e3?t(e,n,1e3,"second"):e+" ms":(r=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":r>=36e5?Math.round(e/36e5)+"h":r>=6e4?Math.round(e/6e4)+"m":r>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},44597:(e,t,i)=>{"use strict";i.d(t,{default:()=>r.a});var n=i(91561),r=i.n(n)},79906:(e,t,i)=>{"use strict";i.d(t,{default:()=>r.a});var n=i(34080),r=i.n(n)},26445:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return n}}),i(47928);let n=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},58556:(e,t,i)=>{"use strict";function n(e,t,i,n){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return n}}),i(47928),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},15889:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return b}});let n=i(20352),r=i(6870),a=i(97247),s=r._(i(28964)),o=n._(i(46817)),l=n._(i(79901)),c=i(44401),u=i(11098),d=i(68127);i(78963);let h=i(61579),p=n._(i(99857)),f={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function m(e,t,i,n,r,a,s){let o=null==e?void 0:e.src;e&&e["data-loaded-src"]!==o&&(e["data-loaded-src"]=o,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&r(!0),null==i?void 0:i.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let n=!1,r=!1;i.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>n,isPropagationStopped:()=>r,persist:()=>{},preventDefault:()=>{n=!0,t.preventDefault()},stopPropagation:()=>{r=!0,t.stopPropagation()}})}(null==n?void 0:n.current)&&n.current(e)}}))}function g(e){return s.use?{fetchPriority:e}:{fetchpriority:e}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let y=(0,s.forwardRef)((e,t)=>{let{src:i,srcSet:n,sizes:r,height:o,width:l,decoding:c,className:u,style:d,fetchPriority:h,placeholder:p,loading:f,unoptimized:y,fill:v,onLoadRef:b,onLoadingCompleteRef:w,setBlurComplete:x,setShowAltText:k,sizesInput:S,onLoad:_,onError:R,...E}=e;return(0,a.jsx)("img",{...E,...g(h),loading:f,width:l,height:o,decoding:c,"data-nimg":v?"fill":"1",className:u,style:d,sizes:r,srcSet:n,src:i,ref:(0,s.useCallback)(e=>{t&&("function"==typeof t?t(e):"object"==typeof t&&(t.current=e)),e&&(R&&(e.src=e.src),e.complete&&m(e,p,b,w,x,y,S))},[i,p,b,w,x,R,y,S,t]),onLoad:e=>{m(e.currentTarget,p,b,w,x,y,S)},onError:e=>{k(!0),"empty"!==p&&x(!0),R&&R(e)}})});function v(e){let{isAppRouter:t,imgAttributes:i}=e,n={as:"image",imageSrcSet:i.srcSet,imageSizes:i.sizes,crossOrigin:i.crossOrigin,referrerPolicy:i.referrerPolicy,...g(i.fetchPriority)};return t&&o.default.preload?(o.default.preload(i.src,n),null):(0,a.jsx)(l.default,{children:(0,a.jsx)("link",{rel:"preload",href:i.srcSet?void 0:i.src,...n},"__nimg-"+i.src+i.srcSet+i.sizes)})}let b=(0,s.forwardRef)((e,t)=>{let i=(0,s.useContext)(h.RouterContext),n=(0,s.useContext)(d.ImageConfigContext),r=(0,s.useMemo)(()=>{let e=f||n||u.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),i=e.deviceSizes.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:i}},[n]),{onLoad:o,onLoadingComplete:l}=e,m=(0,s.useRef)(o);(0,s.useEffect)(()=>{m.current=o},[o]);let g=(0,s.useRef)(l);(0,s.useEffect)(()=>{g.current=l},[l]);let[b,w]=(0,s.useState)(!1),[x,k]=(0,s.useState)(!1),{props:S,meta:_}=(0,c.getImgProps)(e,{defaultLoader:p.default,imgConf:r,blurComplete:b,showAltText:x});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y,{...S,unoptimized:_.unoptimized,placeholder:_.placeholder,fill:_.fill,onLoadRef:m,onLoadingCompleteRef:g,setBlurComplete:w,setShowAltText:k,sizesInput:e.sizes,ref:t}),_.priority?(0,a.jsx)(v,{isAppRouter:!i,imgAttributes:S}):null]})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},34080:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return v}});let n=i(20352),r=i(97247),a=n._(i(28964)),s=i(88801),o=i(74059),l=i(34194),c=i(76152),u=i(26445),d=i(61579),h=i(97240),p=i(93346),f=i(58556),m=i(9392),g=i(744);function y(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}let v=a.default.forwardRef(function(e,t){let i,n;let{href:l,as:v,children:b,prefetch:w=null,passHref:x,replace:k,shallow:S,scroll:_,locale:R,onClick:E,onMouseEnter:T,onTouchStart:C,legacyBehavior:P=!1,...A}=e;i=b,P&&("string"==typeof i||"number"==typeof i)&&(i=(0,r.jsx)("a",{children:i}));let I=a.default.useContext(d.RouterContext),O=a.default.useContext(h.AppRouterContext),j=null!=I?I:O,N=!I,L=!1!==w,D=null===w?g.PrefetchKind.AUTO:g.PrefetchKind.FULL,{href:U,as:q}=a.default.useMemo(()=>{if(!I){let e=y(l);return{href:e,as:v?y(v):e}}let[e,t]=(0,s.resolveHref)(I,l,!0);return{href:e,as:v?(0,s.resolveHref)(I,v):t||e}},[I,l,v]),M=a.default.useRef(U),F=a.default.useRef(q);P&&(n=a.default.Children.only(i));let $=P?n&&"object"==typeof n&&n.ref:t,[B,K,z]=(0,p.useIntersection)({rootMargin:"200px"}),V=a.default.useCallback(e=>{(F.current!==q||M.current!==U)&&(z(),F.current=q,M.current=U),B(e),$&&("function"==typeof $?$(e):"object"==typeof $&&($.current=e))},[q,$,U,z,B]);a.default.useEffect(()=>{},[q,U,K,R,L,null==I?void 0:I.locale,j,N,D]);let W={ref:V,onClick(e){P||"function"!=typeof E||E(e),P&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e),j&&!e.defaultPrevented&&function(e,t,i,n,r,s,l,c,u){let{nodeName:d}=e.currentTarget;if("A"===d.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!u&&!(0,o.isLocalURL)(i)))return;e.preventDefault();let h=()=>{let e=null==l||l;"beforePopState"in t?t[r?"replace":"push"](i,n,{shallow:s,locale:c,scroll:e}):t[r?"replace":"push"](n||i,{scroll:e})};u?a.default.startTransition(h):h()}(e,j,U,q,k,S,_,R,N)},onMouseEnter(e){P||"function"!=typeof T||T(e),P&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e)},onTouchStart:function(e){P||"function"!=typeof C||C(e),P&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e)}};if((0,c.isAbsoluteUrl)(q))W.href=q;else if(!P||x||"a"===n.type&&!("href"in n.props)){let e=void 0!==R?R:null==I?void 0:I.locale,t=(null==I?void 0:I.isLocaleDomain)&&(0,f.getDomainLocale)(q,e,null==I?void 0:I.locales,null==I?void 0:I.domainLocales);W.href=t||(0,m.addBasePath)((0,u.addLocale)(q,e,null==I?void 0:I.defaultLocale))}return P?a.default.cloneElement(n,W):(0,r.jsx)("a",{...A,...W,children:i})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},88801:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"resolveHref",{enumerable:!0,get:function(){return d}});let n=i(58562),r=i(34194),a=i(42796),s=i(76152),o=i(47928),l=i(74059),c=i(77626),u=i(23127);function d(e,t,i){let d;let h="string"==typeof t?t:(0,r.formatWithValidation)(t),p=h.match(/^[a-zA-Z]{1,}:\/\//),f=p?h.slice(p[0].length):h;if((f.split("?",1)[0]||"").match(/(\/\/|\\)/)){console.error("Invalid href '"+h+"' passed to next/router in page: '"+e.pathname+"'. Repeated forward-slashes (//) or backslashes \\ are not valid in the href.");let t=(0,s.normalizeRepeatedSlashes)(f);h=(p?p[0]:"")+t}if(!(0,l.isLocalURL)(h))return i?[h]:h;try{d=new URL(h.startsWith("#")?e.asPath:e.pathname,"http://n")}catch(e){d=new URL("/","http://n")}try{let e=new URL(h,d);e.pathname=(0,o.normalizePathTrailingSlash)(e.pathname);let t="";if((0,c.isDynamicRoute)(e.pathname)&&e.searchParams&&i){let i=(0,n.searchParamsToUrlQuery)(e.searchParams),{result:s,params:o}=(0,u.interpolateAs)(e.pathname,e.pathname,i);s&&(t=(0,r.formatWithValidation)({pathname:s,hash:e.hash,query:(0,a.omit)(i,o)}))}let s=e.origin===d.origin?e.href.slice(e.origin.length):e.href;return i?[s,t||s]:s}catch(e){return i?[h]:h}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},93346:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return l}});let n=i(28964),r=i(66561),a="function"==typeof IntersectionObserver,s=new Map,o=[];function l(e){let{rootRef:t,rootMargin:i,disabled:l}=e,c=l||!a,[u,d]=(0,n.useState)(!1),h=(0,n.useRef)(null),p=(0,n.useCallback)(e=>{h.current=e},[]);return(0,n.useEffect)(()=>{if(a){if(c||u)return;let e=h.current;if(e&&e.tagName)return function(e,t,i){let{id:n,observer:r,elements:a}=function(e){let t;let i={root:e.root||null,margin:e.rootMargin||""},n=o.find(e=>e.root===i.root&&e.margin===i.margin);if(n&&(t=s.get(n)))return t;let r=new Map;return t={id:i,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=r.get(e.target),i=e.isIntersecting||e.intersectionRatio>0;t&&i&&t(i)})},e),elements:r},o.push(i),s.set(i,t),t}(i);return a.set(e,t),r.observe(e),function(){if(a.delete(e),r.unobserve(e),0===a.size){r.disconnect(),s.delete(n);let e=o.findIndex(e=>e.root===n.root&&e.margin===n.margin);e>-1&&o.splice(e,1)}}}(e,e=>e&&d(e),{root:null==t?void 0:t.current,rootMargin:i})}else if(!u){let e=(0,r.requestIdleCallback)(()=>d(!0));return()=>(0,r.cancelIdleCallback)(e)}},[c,i,t,u,h.current]),[p,u,(0,n.useCallback)(()=>{d(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8679:(e,t,i)=>{"use strict";e.exports=i(14573).vendored.contexts.AmpContext},68127:(e,t,i)=>{"use strict";e.exports=i(14573).vendored.contexts.ImageConfigContext},67892:(e,t)=>{"use strict";function i(e){let{ampFirst:t=!1,hybrid:i=!1,hasQuery:n=!1}=void 0===e?{}:e;return t||i&&n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return i}})},60740:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"escapeStringRegexp",{enumerable:!0,get:function(){return r}});let i=/[|\\{}()[\]^$+*?.-]/,n=/[|\\{}()[\]^$+*?.-]/g;function r(e){return i.test(e)?e.replace(n,"\\$&"):e}},44401:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return o}}),i(78963);let n=i(48226),r=i(11098);function a(e){return void 0!==e.default}function s(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function o(e,t){var i;let o,l,c,{src:u,sizes:d,unoptimized:h=!1,priority:p=!1,loading:f,className:m,quality:g,width:y,height:v,fill:b=!1,style:w,overrideSrc:x,onLoad:k,onLoadingComplete:S,placeholder:_="empty",blurDataURL:R,fetchPriority:E,decoding:T="async",layout:C,objectFit:P,objectPosition:A,lazyBoundary:I,lazyRoot:O,...j}=e,{imgConf:N,showAltText:L,blurComplete:D,defaultLoader:U}=t,q=N||r.imageConfigDefault;if("allSizes"in q)o=q;else{let e=[...q.deviceSizes,...q.imageSizes].sort((e,t)=>e-t),t=q.deviceSizes.sort((e,t)=>e-t);o={...q,allSizes:e,deviceSizes:t}}if(void 0===U)throw Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config");let M=j.loader||U;delete j.loader,delete j.srcSet;let F="__next_img_default"in M;if(F){if("custom"===o.loader)throw Error('Image with src "'+u+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let e=M;M=t=>{let{config:i,...n}=t;return e(n)}}if(C){"fill"===C&&(b=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[C];e&&(w={...w,...e});let t={responsive:"100vw",fill:"100vw"}[C];t&&!d&&(d=t)}let $="",B=s(y),K=s(v);if("object"==typeof(i=u)&&(a(i)||void 0!==i.src)){let e=a(u)?u.default:u;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e));if(l=e.blurWidth,c=e.blurHeight,R=R||e.blurDataURL,$=e.src,!b){if(B||K){if(B&&!K){let t=B/e.width;K=Math.round(e.height*t)}else if(!B&&K){let t=K/e.height;B=Math.round(e.width*t)}}else B=e.width,K=e.height}}let z=!p&&("lazy"===f||void 0===f);(!(u="string"==typeof u?u:$)||u.startsWith("data:")||u.startsWith("blob:"))&&(h=!0,z=!1),o.unoptimized&&(h=!0),F&&u.endsWith(".svg")&&!o.dangerouslyAllowSVG&&(h=!0),p&&(E="high");let V=s(g),W=Object.assign(b?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:P,objectPosition:A}:{},L?{}:{color:"transparent"},w),H=D||"empty"===_?null:"blur"===_?'url("data:image/svg+xml;charset=utf-8,'+(0,n.getImageBlurSvg)({widthInt:B,heightInt:K,blurWidth:l,blurHeight:c,blurDataURL:R||"",objectFit:W.objectFit})+'")':'url("'+_+'")',G=H?{backgroundSize:W.objectFit||"cover",backgroundPosition:W.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:H}:{},J=function(e){let{config:t,src:i,unoptimized:n,width:r,quality:a,sizes:s,loader:o}=e;if(n)return{src:i,srcSet:void 0,sizes:void 0};let{widths:l,kind:c}=function(e,t,i){let{deviceSizes:n,allSizes:r}=e;if(i){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let n;n=e.exec(i);n)t.push(parseInt(n[2]));if(t.length){let e=.01*Math.min(...t);return{widths:r.filter(t=>t>=n[0]*e),kind:"w"}}return{widths:r,kind:"w"}}return"number"!=typeof t?{widths:n,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>r.find(t=>t>=e)||r[r.length-1]))],kind:"x"}}(t,r,s),u=l.length-1;return{sizes:s||"w"!==c?s:"100vw",srcSet:l.map((e,n)=>o({config:t,src:i,quality:a,width:e})+" "+("w"===c?e:n+1)+c).join(", "),src:o({config:t,src:i,quality:a,width:l[u]})}}({config:o,src:u,unoptimized:h,width:B,quality:V,sizes:d,loader:M});return{props:{...j,loading:z?"lazy":f,fetchPriority:E,width:B,height:K,decoding:T,className:m,style:{...W,...G},sizes:J.sizes,srcSet:J.srcSet,src:x||J.src},meta:{unoptimized:h,priority:p,placeholder:_,fill:b}}}},79901:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{default:function(){return m},defaultHead:function(){return d}});let n=i(20352),r=i(6870),a=i(97247),s=r._(i(28964)),o=n._(i(48070)),l=i(8679),c=i(35142),u=i(67892);function d(e){void 0===e&&(e=!1);let t=[(0,a.jsx)("meta",{charSet:"utf-8"})];return e||t.push((0,a.jsx)("meta",{name:"viewport",content:"width=device-width"})),t}function h(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===s.default.Fragment?e.concat(s.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}i(78963);let p=["name","httpEquiv","charSet","itemProp"];function f(e,t){let{inAmpMode:i}=t;return e.reduce(h,[]).reverse().concat(d(i).reverse()).filter(function(){let e=new Set,t=new Set,i=new Set,n={};return r=>{let a=!0,s=!1;if(r.key&&"number"!=typeof r.key&&r.key.indexOf("$")>0){s=!0;let t=r.key.slice(r.key.indexOf("$")+1);e.has(t)?a=!1:e.add(t)}switch(r.type){case"title":case"base":t.has(r.type)?a=!1:t.add(r.type);break;case"meta":for(let e=0,t=p.length;e<t;e++){let t=p[e];if(r.props.hasOwnProperty(t)){if("charSet"===t)i.has(t)?a=!1:i.add(t);else{let e=r.props[t],i=n[t]||new Set;("name"!==t||!s)&&i.has(e)?a=!1:(i.add(e),n[t]=i)}}}}return a}}()).reverse().map((e,t)=>{let n=e.key||t;if(!i&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,s.default.cloneElement(e,t)}return s.default.cloneElement(e,{key:n})})}let m=function(e){let{children:t}=e,i=(0,s.useContext)(l.AmpStateContext),n=(0,s.useContext)(c.HeadManagerContext);return(0,a.jsx)(o.default,{reduceComponentsToState:f,headManager:n,inAmpMode:(0,u.isInAmpMode)(i),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},48226:(e,t)=>{"use strict";function i(e){let{widthInt:t,heightInt:i,blurWidth:n,blurHeight:r,blurDataURL:a,objectFit:s}=e,o=n?40*n:t,l=r?40*r:i,c=o&&l?"viewBox='0 0 "+o+" "+l+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+c+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(c?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+a+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return i}})},11098:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{VALID_LOADERS:function(){return i},imageConfigDefault:function(){return n}});let i=["default","imgix","cloudinary","akamai","custom"],n={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",localPatterns:void 0,remotePatterns:[],unoptimized:!1}},91561:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{default:function(){return l},getImageProps:function(){return o}});let n=i(20352),r=i(44401),a=i(15889),s=n._(i(99857));function o(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,i]of Object.entries(t))void 0===i&&delete t[e];return{props:t}}let l=a.Image},99857:(e,t)=>{"use strict";function i(e){let{config:t,src:i,width:n,quality:r}=e;return t.path+"?url="+encodeURIComponent(i)+"&w="+n+"&q="+(r||75)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}}),i.__next_img_default=!0;let n=i},34194:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{formatUrl:function(){return a},formatWithValidation:function(){return o},urlObjectKeys:function(){return s}});let n=i(6870)._(i(58562)),r=/https?|ftp|gopher|file/;function a(e){let{auth:t,hostname:i}=e,a=e.protocol||"",s=e.pathname||"",o=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:i&&(c=t+(~i.indexOf(":")?"["+i+"]":i),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(n.urlQueryToSearchParams(l)));let u=e.search||l&&"?"+l||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||r.test(a))&&!1!==c?(c="//"+(c||""),s&&"/"!==s[0]&&(s="/"+s)):c||(c=""),o&&"#"!==o[0]&&(o="#"+o),u&&"?"!==u[0]&&(u="?"+u),""+a+c+(s=s.replace(/[?#]/g,encodeURIComponent))+(u=u.replace("#","%23"))+o}let s=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function o(e){return a(e)}},77626:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{getSortedRoutes:function(){return n.getSortedRoutes},isDynamicRoute:function(){return r.isDynamicRoute}});let n=i(45682),r=i(55380)},23127:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"interpolateAs",{enumerable:!0,get:function(){return a}});let n=i(88152),r=i(25299);function a(e,t,i){let a="",s=(0,r.getRouteRegex)(e),o=s.groups,l=(t!==e?(0,n.getRouteMatcher)(s)(t):"")||i;a=e;let c=Object.keys(o);return c.every(e=>{let t=l[e]||"",{repeat:i,optional:n}=o[e],r="["+(i?"...":"")+e+"]";return n&&(r=(t?"":"/")+"["+r+"]"),i&&!Array.isArray(t)&&(t=[t]),(n||e in l)&&(a=a.replace(r,i?t.map(e=>encodeURIComponent(e)).join("/"):encodeURIComponent(t))||"/")})||(a=""),{params:c,result:a}}},55380:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicRoute",{enumerable:!0,get:function(){return a}});let n=i(28005),r=/\/\[[^/]+?\](?=\/|$)/;function a(e){return(0,n.isInterceptionRouteAppPath)(e)&&(e=(0,n.extractInterceptionRouteInformation)(e).interceptedRoute),r.test(e)}},74059:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isLocalURL",{enumerable:!0,get:function(){return a}});let n=i(76152),r=i(93461);function a(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),i=new URL(e,t);return i.origin===t&&(0,r.hasBasePath)(i.pathname)}catch(e){return!1}}},42796:(e,t)=>{"use strict";function i(e,t){let i={};return Object.keys(e).forEach(n=>{t.includes(n)||(i[n]=e[n])}),i}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"omit",{enumerable:!0,get:function(){return i}})},58562:(e,t)=>{"use strict";function i(e){let t={};return e.forEach((e,i)=>{void 0===t[i]?t[i]=e:Array.isArray(t[i])?t[i].push(e):t[i]=[t[i],e]}),t}function n(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function r(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[i,r]=e;Array.isArray(r)?r.forEach(e=>t.append(i,n(e))):t.set(i,n(r))}),t}function a(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i.forEach(t=>{Array.from(t.keys()).forEach(t=>e.delete(t)),t.forEach((t,i)=>e.append(i,t))}),e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{assign:function(){return a},searchParamsToUrlQuery:function(){return i},urlQueryToSearchParams:function(){return r}})},88152:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getRouteMatcher",{enumerable:!0,get:function(){return r}});let n=i(76152);function r(e){let{re:t,groups:i}=e;return e=>{let r=t.exec(e);if(!r)return!1;let a=e=>{try{return decodeURIComponent(e)}catch(e){throw new n.DecodeError("failed to decode param")}},s={};return Object.keys(i).forEach(e=>{let t=i[e],n=r[t.pos];void 0!==n&&(s[e]=~n.indexOf("/")?n.split("/").map(e=>a(e)):t.repeat?[a(n)]:a(n))}),s}}},25299:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{getNamedMiddlewareRegex:function(){return h},getNamedRouteRegex:function(){return d},getRouteRegex:function(){return l},parseParameter:function(){return s}});let n=i(28005),r=i(60740),a=i(56882);function s(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let i=e.startsWith("...");return i&&(e=e.slice(3)),{key:e,repeat:i,optional:t}}function o(e){let t=(0,a.removeTrailingSlash)(e).slice(1).split("/"),i={},o=1;return{parameterizedRoute:t.map(e=>{let t=n.INTERCEPTION_ROUTE_MARKERS.find(t=>e.startsWith(t)),a=e.match(/\[((?:\[.*\])|.+)\]/);if(t&&a){let{key:e,optional:n,repeat:l}=s(a[1]);return i[e]={pos:o++,repeat:l,optional:n},"/"+(0,r.escapeStringRegexp)(t)+"([^/]+?)"}if(!a)return"/"+(0,r.escapeStringRegexp)(e);{let{key:e,repeat:t,optional:n}=s(a[1]);return i[e]={pos:o++,repeat:t,optional:n},t?n?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:i}}function l(e){let{parameterizedRoute:t,groups:i}=o(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:i}}function c(e){let{interceptionMarker:t,getSafeRouteKey:i,segment:n,routeKeys:a,keyPrefix:o}=e,{key:l,optional:c,repeat:u}=s(n),d=l.replace(/\W/g,"");o&&(d=""+o+d);let h=!1;(0===d.length||d.length>30)&&(h=!0),isNaN(parseInt(d.slice(0,1)))||(h=!0),h&&(d=i()),o?a[d]=""+o+l:a[d]=l;let p=t?(0,r.escapeStringRegexp)(t):"";return u?c?"(?:/"+p+"(?<"+d+">.+?))?":"/"+p+"(?<"+d+">.+?)":"/"+p+"(?<"+d+">[^/]+?)"}function u(e,t){let i;let s=(0,a.removeTrailingSlash)(e).slice(1).split("/"),o=(i=0,()=>{let e="",t=++i;for(;t>0;)e+=String.fromCharCode(97+(t-1)%26),t=Math.floor((t-1)/26);return e}),l={};return{namedParameterizedRoute:s.map(e=>{let i=n.INTERCEPTION_ROUTE_MARKERS.some(t=>e.startsWith(t)),a=e.match(/\[((?:\[.*\])|.+)\]/);if(i&&a){let[i]=e.split(a[0]);return c({getSafeRouteKey:o,interceptionMarker:i,segment:a[1],routeKeys:l,keyPrefix:t?"nxtI":void 0})}return a?c({getSafeRouteKey:o,segment:a[1],routeKeys:l,keyPrefix:t?"nxtP":void 0}):"/"+(0,r.escapeStringRegexp)(e)}).join(""),routeKeys:l}}function d(e,t){let i=u(e,t);return{...l(e),namedRegex:"^"+i.namedParameterizedRoute+"(?:/)?$",routeKeys:i.routeKeys}}function h(e,t){let{parameterizedRoute:i}=o(e),{catchAll:n=!0}=t;if("/"===i)return{namedRegex:"^/"+(n?".*":"")+"$"};let{namedParameterizedRoute:r}=u(e,!1);return{namedRegex:"^"+r+(n?"(?:(/.*)?)":"")+"$"}}},45682:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSortedRoutes",{enumerable:!0,get:function(){return n}});class i{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e){void 0===e&&(e="/");let t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);let i=t.map(t=>this.children.get(t)._smoosh(""+e+t+"/")).reduce((e,t)=>[...e,...t],[]);if(null!==this.slugName&&i.push(...this.children.get("[]")._smoosh(e+"["+this.slugName+"]/")),!this.placeholder){let t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw Error('You cannot define a route with the same specificity as a optional catch-all route ("'+t+'" and "'+t+"[[..."+this.optionalRestSlugName+']]").');i.unshift(t)}return null!==this.restSlugName&&i.push(...this.children.get("[...]")._smoosh(e+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&i.push(...this.children.get("[[...]]")._smoosh(e+"[[..."+this.optionalRestSlugName+"]]/")),i}_insert(e,t,n){if(0===e.length){this.placeholder=!1;return}if(n)throw Error("Catch-all must be the last part of the URL.");let r=e[0];if(r.startsWith("[")&&r.endsWith("]")){let i=r.slice(1,-1),s=!1;if(i.startsWith("[")&&i.endsWith("]")&&(i=i.slice(1,-1),s=!0),i.startsWith("...")&&(i=i.substring(3),n=!0),i.startsWith("[")||i.endsWith("]"))throw Error("Segment names may not start or end with extra brackets ('"+i+"').");if(i.startsWith("."))throw Error("Segment names may not start with erroneous periods ('"+i+"').");function a(e,i){if(null!==e&&e!==i)throw Error("You cannot use different slug names for the same dynamic path ('"+e+"' !== '"+i+"').");t.forEach(e=>{if(e===i)throw Error('You cannot have the same slug name "'+i+'" repeat within a single dynamic path');if(e.replace(/\W/g,"")===r.replace(/\W/g,""))throw Error('You cannot have the slug names "'+e+'" and "'+i+'" differ only by non-word symbols within a single dynamic path')}),t.push(i)}if(n){if(s){if(null!=this.restSlugName)throw Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+e[0]+'" ).');a(this.optionalRestSlugName,i),this.optionalRestSlugName=i,r="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+e[0]+'").');a(this.restSlugName,i),this.restSlugName=i,r="[...]"}}else{if(s)throw Error('Optional route parameters are not yet supported ("'+e[0]+'").');a(this.slugName,i),this.slugName=i,r="[]"}}this.children.has(r)||this.children.set(r,new i),this.children.get(r)._insert(e.slice(1),t,n)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function n(e){let t=new i;return e.forEach(e=>t.insert(e)),t.smoosh()}},48070:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let n=i(28964),r=()=>{},a=()=>{};function s(e){var t;let{headManager:i,reduceComponentsToState:s}=e;function o(){if(i&&i.mountedInstances){let t=n.Children.toArray(Array.from(i.mountedInstances).filter(Boolean));i.updateHead(s(t,e))}}return null==i||null==(t=i.mountedInstances)||t.add(e.children),o(),r(()=>{var t;return null==i||null==(t=i.mountedInstances)||t.add(e.children),()=>{var t;null==i||null==(t=i.mountedInstances)||t.delete(e.children)}}),r(()=>(i&&(i._pendingUpdate=o),()=>{i&&(i._pendingUpdate=o)})),a(()=>(i&&i._pendingUpdate&&(i._pendingUpdate(),i._pendingUpdate=null),()=>{i&&i._pendingUpdate&&(i._pendingUpdate(),i._pendingUpdate=null)})),null}},76152:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{DecodeError:function(){return f},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return y},NormalizeError:function(){return m},PageNotFoundError:function(){return g},SP:function(){return h},ST:function(){return p},WEB_VITALS:function(){return i},execOnce:function(){return n},getDisplayName:function(){return l},getLocationOrigin:function(){return s},getURL:function(){return o},isAbsoluteUrl:function(){return a},isResSent:function(){return c},loadGetInitialProps:function(){return d},normalizeRepeatedSlashes:function(){return u},stringifyError:function(){return b}});let i=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,i=!1;return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return i||(i=!0,t=e(...r)),t}}let r=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,a=e=>r.test(e);function s(){let{protocol:e,hostname:t,port:i}=window.location;return e+"//"+t+(i?":"+i:"")}function o(){let{href:e}=window.location,t=s();return e.substring(t.length)}function l(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function c(e){return e.finished||e.headersSent}function u(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function d(e,t){let i=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await d(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(i&&c(i))return n;if(!n)throw Error('"'+l(e)+'.getInitialProps()" should resolve to an object. But found "'+n+'" instead.');return n}let h="undefined"!=typeof performance,p=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class f extends Error{}class m extends Error{}class g extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class y extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function b(e){return JSON.stringify({message:e.message,stack:e.stack})}},81786:(e,t,i)=>{"use strict";var n=i(17360).parse,r={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},a=String.prototype.endsWith||function(e){return e.length<=this.length&&-1!==this.indexOf(e,this.length-e.length)};function s(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}t.j=function(e){var t,i,o,l="string"==typeof e?n(e):e||{},c=l.protocol,u=l.host,d=l.port;if("string"!=typeof u||!u||"string"!=typeof c||(c=c.split(":",1)[0],t=u=u.replace(/:\d*$/,""),i=d=parseInt(d)||r[c]||0,!(!(o=(s("npm_config_no_proxy")||s("no_proxy")).toLowerCase())||"*"!==o&&o.split(/[,\s]/).every(function(e){if(!e)return!0;var n=e.match(/^(.+):(\d+)$/),r=n?n[1]:e,s=n?parseInt(n[2]):0;return!!s&&s!==i||(/^[.*]/.test(r)?("*"===r.charAt(0)&&(r=r.slice(1)),!a.call(t,r)):t!==r)}))))return"";var h=s("npm_config_"+c+"_proxy")||s(c+"_proxy")||s("npm_config_proxy")||s("all_proxy");return h&&-1===h.indexOf("://")&&(h=c+"://"+h),h}},6100:(e,t,i)=>{"use strict";i.d(t,{Z:()=>B});var n,r,a=i(27863),s=i(28964),o="right-scroll-bar-position",l="width-before-scroll-bar";function c(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var u=new WeakMap;function d(e){return e}var h=function(e){void 0===e&&(e={});var t,i,n,r=(void 0===t&&(t=d),i=[],n=!1,{read:function(){if(n)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:null},useMedium:function(e){var r=t(e,n);return i.push(r),function(){i=i.filter(function(e){return e!==r})}},assignSyncMedium:function(e){for(n=!0;i.length;){var t=i;i=[],t.forEach(e)}i={push:function(t){return e(t)},filter:function(){return i}}},assignMedium:function(e){n=!0;var t=[];if(i.length){var r=i;i=[],r.forEach(e),t=i}var a=function(){var i=t;t=[],i.forEach(e)},s=function(){return Promise.resolve().then(a)};s(),i={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),i}}}});return r.options=(0,a.pi)({async:!0,ssr:!1},e),r}(),p=function(){},f=s.forwardRef(function(e,t){var i,n,r,o,l=s.useRef(null),d=s.useState({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:p}),f=d[0],m=d[1],g=e.forwardProps,y=e.children,v=e.className,b=e.removeScrollBar,w=e.enabled,x=e.shards,k=e.sideCar,S=e.noIsolation,_=e.inert,R=e.allowPinchZoom,E=e.as,T=(0,a._T)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),C=(i=[l,t],n=function(e){return i.forEach(function(t){return c(t,e)})},(r=(0,s.useState)(function(){return{value:null,callback:n,facade:{get current(){return r.value},set current(value){var e=r.value;e!==value&&(r.value=value,r.callback(value,e))}}}})[0]).callback=n,o=r.facade,s.useLayoutEffect(function(){var e=u.get(o);if(e){var t=new Set(e),n=new Set(i),r=o.current;t.forEach(function(e){n.has(e)||c(e,null)}),n.forEach(function(e){t.has(e)||c(e,r)})}u.set(o,i)},[i]),o),P=(0,a.pi)((0,a.pi)({},T),f);return s.createElement(s.Fragment,null,w&&s.createElement(k,{sideCar:h,removeScrollBar:b,shards:x,noIsolation:S,inert:_,setCallbacks:m,allowPinchZoom:!!R,lockRef:l}),g?s.cloneElement(s.Children.only(y),(0,a.pi)((0,a.pi)({},P),{ref:C})):s.createElement(void 0===E?"div":E,(0,a.pi)({},P,{className:v,ref:C}),y))});f.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},f.classNames={fullWidth:l,zeroRight:o};var m=function(e){var t=e.sideCar,i=(0,a._T)(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw Error("Sidecar medium not found");return s.createElement(n,(0,a.pi)({},i))};m.isSideCarExport=!0;var g=function(){var e=0,t=null;return{add:function(n){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=r||i.nc;return t&&e.setAttribute("nonce",t),e}())){var a,s;(a=t).styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n)),s=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(s)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},y=function(){var e=g();return function(t,i){s.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&i])}},v=function(){var e=y();return function(t){return e(t.styles,t.dynamic),null}},b={left:0,top:0,right:0,gap:0},w=function(e){return parseInt(e||"",10)||0},x=function(e){var t=window.getComputedStyle(document.body),i=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],r=t["padding"===e?"paddingRight":"marginRight"];return[w(i),w(n),w(r)]},k=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return b;var t=x(e),i=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-i+t[2]-t[0])}},S=v(),_="data-scroll-locked",R=function(e,t,i,n){var r=e.left,a=e.top,s=e.right,c=e.gap;return void 0===i&&(i="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(c,"px ").concat(n,";\n  }\n  body[").concat(_,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===i&&"\n    padding-left: ".concat(r,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(s,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(c,"px ").concat(n,";\n    "),"padding"===i&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(o," {\n    right: ").concat(c,"px ").concat(n,";\n  }\n  \n  .").concat(l," {\n    margin-right: ").concat(c,"px ").concat(n,";\n  }\n  \n  .").concat(o," .").concat(o," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(l," .").concat(l," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(_,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(c,"px;\n  }\n")},E=function(e){var t=e.noRelative,i=e.noImportant,n=e.gapMode,r=void 0===n?"margin":n,a=s.useMemo(function(){return k(r)},[r]);return s.useEffect(function(){return document.body.setAttribute(_,""),function(){document.body.removeAttribute(_)}},[]),s.createElement(S,{styles:R(a,!t,r,i?"":"!important")})},T=!1;if("undefined"!=typeof window)try{var C=Object.defineProperty({},"passive",{get:function(){return T=!0,!0}});window.addEventListener("test",C,C),window.removeEventListener("test",C,C)}catch(e){T=!1}var P=!!T&&{passive:!1},A=function(e,t){var i=window.getComputedStyle(e);return"hidden"!==i[t]&&!(i.overflowY===i.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===i[t])},I=function(e,t){var i=t;do{if("undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot&&(i=i.host),O(e,i)){var n=j(e,i);if(n[1]>n[2])return!0}i=i.parentNode}while(i&&i!==document.body);return!1},O=function(e,t){return"v"===e?A(t,"overflowY"):A(t,"overflowX")},j=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},N=function(e,t,i,n,r){var a,s=(a=window.getComputedStyle(t).direction,"h"===e&&"rtl"===a?-1:1),o=s*n,l=i.target,c=t.contains(l),u=!1,d=o>0,h=0,p=0;do{var f=j(e,l),m=f[0],g=f[1]-f[2]-s*m;(m||g)&&O(e,l)&&(h+=g,p+=m),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return d&&(r&&0===h||!r&&o>h)?u=!0:!d&&(r&&0===p||!r&&-o>p)&&(u=!0),u},L=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},D=function(e){return[e.deltaX,e.deltaY]},U=function(e){return e&&"current"in e?e.current:e},q=0,M=[];let F=(n=function(e){var t=s.useRef([]),i=s.useRef([0,0]),n=s.useRef(),r=s.useState(q++)[0],o=s.useState(function(){return v()})[0],l=s.useRef(e);s.useEffect(function(){l.current=e},[e]),s.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var t=(0,a.ev)([e.lockRef.current],(e.shards||[]).map(U),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var c=s.useCallback(function(e,t){if("touches"in e&&2===e.touches.length)return!l.current.allowPinchZoom;var r,a=L(e),s=i.current,o="deltaX"in e?e.deltaX:s[0]-a[0],c="deltaY"in e?e.deltaY:s[1]-a[1],u=e.target,d=Math.abs(o)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=I(d,u);if(!h)return!0;if(h?r=d:(r="v"===d?"h":"v",h=I(d,u)),!h)return!1;if(!n.current&&"changedTouches"in e&&(o||c)&&(n.current=r),!r)return!0;var p=n.current||r;return N(p,t,e,"h"===p?o:c,!0)},[]),u=s.useCallback(function(e){if(M.length&&M[M.length-1]===o){var i="deltaY"in e?D(e):L(e),n=t.current.filter(function(t){var n;return t.name===e.type&&t.target===e.target&&(n=t.delta)[0]===i[0]&&n[1]===i[1]})[0];if(n&&n.should){e.cancelable&&e.preventDefault();return}if(!n){var r=(l.current.shards||[]).map(U).filter(Boolean).filter(function(t){return t.contains(e.target)});(r.length>0?c(e,r[0]):!l.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),d=s.useCallback(function(e,i,n,r){var a={name:e,delta:i,target:n,should:r};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),h=s.useCallback(function(e){i.current=L(e),n.current=void 0},[]),p=s.useCallback(function(t){d(t.type,D(t),t.target,c(t,e.lockRef.current))},[]),f=s.useCallback(function(t){d(t.type,L(t),t.target,c(t,e.lockRef.current))},[]);s.useEffect(function(){return M.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",u,P),document.addEventListener("touchmove",u,P),document.addEventListener("touchstart",h,P),function(){M=M.filter(function(e){return e!==o}),document.removeEventListener("wheel",u,P),document.removeEventListener("touchmove",u,P),document.removeEventListener("touchstart",h,P)}},[]);var m=e.removeScrollBar,g=e.inert;return s.createElement(s.Fragment,null,g?s.createElement(o,{styles:"\n  .block-interactivity-".concat(r," {pointer-events: none;}\n  .allow-interactivity-").concat(r," {pointer-events: all;}\n")}):null,m?s.createElement(E,{gapMode:"margin"}):null)},h.useMedium(n),m);var $=s.forwardRef(function(e,t){return s.createElement(f,(0,a.pi)({},e,{ref:t,sideCar:F}))});$.classNames=f.classNames;let B=$},82576:(e,t,i)=>{var n=i(78893),r=n.Buffer;function a(e,t){for(var i in e)t[i]=e[i]}function s(e,t,i){return r(e,t,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=s),s.prototype=Object.create(r.prototype),a(r,s),s.from=function(e,t,i){if("number"==typeof e)throw TypeError("Argument must not be a number");return r(e,t,i)},s.alloc=function(e,t,i){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=r(e);return void 0!==t?"string"==typeof i?n.fill(t,i):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},50852:e=>{var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=(null!=e.raddr?" raddr %s rport %d":"%v%v")+(null!=e.tcptype?" tcptype %s":"%v"),null!=e.generation&&(t+=" generation %d"),t+=(null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){return"mediaclk:"+((null!=e.id?"id=%s %s":"%v%s")+(null!=e.mediaClockValue?"=%s":"")+(null!=e.rateNumerator?" rate=%s":""))+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach(function(e){t[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})})},95710:(e,t,i)=>{var n=i(41601),r=i(69392);t.cW=r,t.Qc=n.parse,n.parseParams,n.parseFmtpConfig,n.parsePayloads,n.parseRemoteCandidates,n.parseImageAttributes,n.parseSimulcastStreamList},41601:(e,t,i)=>{var n=function(e){return String(Number(e))===e?Number(e):e},r=function(e,t,i,r){if(r&&!i)t[r]=n(e[1]);else for(var a=0;a<i.length;a+=1)null!=e[a+1]&&(t[i[a]]=n(e[a+1]))},a=function(e,t,i){var n=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:n&&!t[e.name]&&(t[e.name]={});var a=e.push?{}:n?t[e.name]:t;r(i.match(e.reg),a,e.names,e.name),e.push&&t[e.push].push(a)},s=i(50852),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},i=[],n=t;return e.split(/(\r\n|\r|\n)/).filter(o).forEach(function(e){var t=e[0],r=e.slice(2);"m"===t&&(i.push({rtp:[],fmtp:[]}),n=i[i.length-1]);for(var o=0;o<(s[t]||[]).length;o+=1){var l=s[t][o];if(l.reg.test(r))return a(l,n,r)}}),t.media=i,t};var l=function(e,t){var i=t.split(/=(.+)/,2);return 2===i.length?e[i[0]]=n(i[1]):1===i.length&&t.length>1&&(e[i[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(l,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],i=e.split(" ").map(n),r=0;r<i.length;r+=3)t.push({component:i[r],ip:i[r+1],port:i[r+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(l,{})})},t.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var t,i=!1;return"~"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),i=!0),{scid:t,paused:i}})})}},69392:(e,t,i)=>{var n=i(50852),r=/%[sdv%]/g,a=function(e){var t=1,i=arguments,n=i.length;return e.replace(r,function(e){if(t>=n)return e;var r=i[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(r);case"%d":return Number(r);case"%v":return""}})},s=function(e,t,i){var n=[e+"="+(t.format instanceof Function?t.format(t.push?i:i[t.name]):t.format)];if(t.names)for(var r=0;r<t.names.length;r+=1){var s=t.names[r];t.name?n.push(i[t.name][s]):n.push(i[t.names[r]])}else n.push(i[t.name]);return a.apply(null,n)},o=["v","o","s","i","u","e","p","c","b","t","r","z","a"],l=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var i=t.outerOrder||o,r=t.innerOrder||l,a=[];return i.forEach(function(t){n[t].forEach(function(i){i.name in e&&null!=e[i.name]?a.push(s(t,i,e)):i.push in e&&null!=e[i.push]&&e[i.push].forEach(function(e){a.push(s(t,i,e))})})}),e.media.forEach(function(e){a.push(s("m",n.m[0],e)),r.forEach(function(t){n[t].forEach(function(i){i.name in e&&null!=e[i.name]?a.push(s(t,i,e)):i.push in e&&null!=e[i.push]&&e[i.push].forEach(function(e){a.push(s(t,i,e))})})})}),a.join("\r\n")+"\r\n"}},7737:e=>{"use strict";let t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map(e=>e.trim())},t.splitSections=function(e){return e.split("\nm=").map((e,t)=>(t>0?"m="+e:e).trim()+"\r\n")},t.getDescription=function(e){let i=t.splitSections(e);return i&&i[0]},t.getMediaSections=function(e){let i=t.splitSections(e);return i.shift(),i},t.matchPrefix=function(e,i){return t.splitLines(e).filter(e=>0===e.indexOf(i))},t.parseCandidate=function(e){let t;let i={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case"raddr":i.relatedAddress=t[e+1];break;case"rport":i.relatedPort=parseInt(t[e+1],10);break;case"tcptype":i.tcpType=t[e+1];break;case"ufrag":i.ufrag=t[e+1],i.usernameFragment=t[e+1];break;default:void 0===i[t[e]]&&(i[t[e]]=t[e+1])}return i},t.writeCandidate=function(e){let t=[];t.push(e.foundation);let i=e.component;"rtp"===i?t.push(1):"rtcp"===i?t.push(2):t.push(i),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);let n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" "),i={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),i.name=t[0],i.clockRate=parseInt(t[1],10),i.channels=3===t.length?parseInt(t[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);let i=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==i?"/"+i:"")+"\r\n"},t.parseExtmap=function(e){let t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){let t;let i={},n=e.substring(e.indexOf(" ")+1).split(";");for(let e=0;e<n.length;e++)i[(t=n[e].trim().split("="))[0].trim()]=t[1];return i},t.writeFmtp=function(e){let t="",i=e.payloadType;if(void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){let n=[];Object.keys(e.parameters).forEach(t=>{void 0!==e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)}),t+="a=fmtp:"+i+" "+n.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){let t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",i=e.payloadType;return void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(e=>{t+="a=rtcp-fb:"+i+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},t.parseSsrcMedia=function(e){let t=e.indexOf(" "),i={ssrc:parseInt(e.substring(7,t),10)},n=e.indexOf(":",t);return n>-1?(i.attribute=e.substring(t+1,n),i.value=e.substring(n+1)):i.attribute=e.substring(t+1),i},t.parseSsrcGroup=function(e){let t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(e=>parseInt(e,10))}},t.getMid=function(e){let i=t.matchPrefix(e,"a=mid:")[0];if(i)return i.substring(6)},t.parseFingerprint=function(e){let t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,i){return{role:"auto",fingerprints:t.matchPrefix(e+i,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let i="a=setup:"+t+"\r\n";return e.fingerprints.forEach(e=>{i+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),i},t.parseCryptoLine=function(e){let t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;let t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,i){return t.matchPrefix(e+i,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,i){let n=t.matchPrefix(e+i,"a=ice-ufrag:")[0],r=t.matchPrefix(e+i,"a=ice-pwd:")[0];return n&&r?{usernameFragment:n.substring(12),password:r.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){let i={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(" ");i.profile=n[2];for(let r=3;r<n.length;r++){let a=n[r],s=t.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(s){let n=t.parseRtpMap(s),r=t.matchPrefix(e,"a=fmtp:"+a+" ");switch(n.parameters=r.length?t.parseFmtp(r[0]):{},n.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(t.parseRtcpFb),i.codecs.push(n),n.name.toUpperCase()){case"RED":case"ULPFEC":i.fecMechanisms.push(n.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach(e=>{i.headerExtensions.push(t.parseExtmap(e))});let r=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return i.codecs.forEach(e=>{r.forEach(t=>{e.rtcpFeedback.find(e=>e.type===t.type&&e.parameter===t.parameter)||e.rtcpFeedback.push(t)})}),i},t.writeRtpDescription=function(e,i){let n="";n+="m="+e+" "+(i.codecs.length>0?"9":"0")+" "+(i.profile||"UDP/TLS/RTP/SAVPF")+" "+i.codecs.map(e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType).join(" ")+"\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\n",i.codecs.forEach(e=>{n+=t.writeRtpMap(e)+t.writeFmtp(e)+t.writeRtcpFb(e)});let r=0;return i.codecs.forEach(e=>{e.maxptime>r&&(r=e.maxptime)}),r>0&&(n+="a=maxptime:"+r+"\r\n"),i.headerExtensions&&i.headerExtensions.forEach(e=>{n+=t.writeExtmap(e)}),n},t.parseRtpEncodingParameters=function(e){let i;let n=[],r=t.parseRtpParameters(e),a=-1!==r.fecMechanisms.indexOf("RED"),s=-1!==r.fecMechanisms.indexOf("ULPFEC"),o=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute),l=o.length>0&&o[0].ssrc,c=t.matchPrefix(e,"a=ssrc-group:FID").map(e=>e.substring(17).split(" ").map(e=>parseInt(e,10)));c.length>0&&c[0].length>1&&c[0][0]===l&&(i=c[0][1]),r.codecs.forEach(e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:l,codecPayloadType:parseInt(e.parameters.apt,10)};l&&i&&(t.rtx={ssrc:i}),n.push(t),a&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:l,mechanism:s?"red+ulpfec":"red"},n.push(t))}}),0===n.length&&l&&n.push({ssrc:l});let u=t.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substring(7),10):0===u[0].indexOf("b=AS:")?950*parseInt(u[0].substring(5),10)-16e3:void 0,n.forEach(e=>{e.maxBitrate=u})),n},t.parseRtcpParameters=function(e){let i={},n=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute)[0];n&&(i.cname=n.value,i.ssrc=n.ssrc);let r=t.matchPrefix(e,"a=rtcp-rsize");i.reducedSize=r.length>0,i.compound=0===r.length;let a=t.matchPrefix(e,"a=rtcp-mux");return i.mux=a.length>0,i},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let i;let n=t.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(i=n[0].substring(7).split(" "))[0],track:i[1]};let r=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"msid"===e.attribute);if(r.length>0)return{stream:(i=r[0].value.split(" "))[0],track:i[1]}},t.parseSctpDescription=function(e){let i;let n=t.parseMLine(e),r=t.matchPrefix(e,"a=max-message-size:");r.length>0&&(i=parseInt(r[0].substring(19),10)),isNaN(i)&&(i=65536);let a=t.matchPrefix(e,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substring(12),10),protocol:n.fmt,maxMessageSize:i};let s=t.matchPrefix(e,"a=sctpmap:");if(s.length>0){let e=s[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:i}}},t.writeSctpDescription=function(e,t){let i=[];return i="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&i.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,i,n){return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+(void 0!==i?i:2)+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,i){let n=t.splitLines(e);for(let e=0;e<n.length;e++)switch(n[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[e].substring(2)}return i?t.getDirection(i):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){let i=t.splitLines(e)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(e){let i=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;let i=t.splitLines(e);for(let e=0;e<i.length;e++)if(i[e].length<2||"="!==i[e].charAt(1))return!1;return!0},e.exports=t},84935:(e,t,i)=>{let n=Symbol("SemVer ANY");class r{static get ANY(){return n}constructor(e,t){if(t=a(t),e instanceof r){if(!!t.loose===e.loose)return e;e=e.value}c("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){let t=this.options.loose?s[o.COMPARATORLOOSE]:s[o.COMPARATOR],i=e.match(t);if(!i)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==i[1]?i[1]:"","="===this.operator&&(this.operator=""),i[2]?this.semver=new u(i[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=a(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=r;let a=i(52657),{safeRe:s,t:o}=i(31735),l=i(94720),c=i(24635),u=i(67770),d=i(10405)},10405:(e,t,i)=>{class n{constructor(e,t){if(t=a(t),e instanceof n){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new n(e.raw,t)}if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!g(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&y(e[0])){this.set=[e];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&f)|(this.options.loose&&m))+":"+e,i=r.get(t);if(i)return i;let n=this.options.loose,a=n?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];o("hyphen replace",e=e.replace(a,P(this.options.includePrerelease))),o("comparator trim",e=e.replace(c[u.COMPARATORTRIM],d)),o("tilde trim",e=e.replace(c[u.TILDETRIM],h)),o("caret trim",e=e.replace(c[u.CARETTRIM],p));let l=e.split(" ").map(e=>b(e,this.options)).join(" ").split(/\s+/).map(e=>C(e,this.options));n&&(l=l.filter(e=>(o("loose invalid filter",e,this.options),!!e.match(c[u.COMPARATORLOOSE])))),o("range list",l);let y=new Map;for(let e of l.map(e=>new s(e,this.options))){if(g(e))return[e];y.set(e.value,e)}y.size>1&&y.has("")&&y.delete("");let v=[...y.values()];return r.set(t,v),v}intersects(e,t){if(!(e instanceof n))throw TypeError("a Range is required");return this.set.some(i=>v(i,t)&&e.set.some(e=>v(e,t)&&i.every(i=>e.every(e=>i.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(A(this.set[t],e,this.options))return!0;return!1}}e.exports=n;let r=new(i(90206))({max:1e3}),a=i(52657),s=i(84935),o=i(24635),l=i(67770),{safeRe:c,t:u,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:p}=i(31735),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:m}=i(6237),g=e=>"<0.0.0-0"===e.value,y=e=>""===e.value,v=(e,t)=>{let i=!0,n=e.slice(),r=n.pop();for(;i&&n.length;)i=n.every(e=>r.intersects(e,t)),r=n.pop();return i},b=(e,t)=>(o("comp",e,t),o("caret",e=S(e,t)),o("tildes",e=x(e,t)),o("xrange",e=R(e,t)),o("stars",e=T(e,t)),e),w=e=>!e||"x"===e.toLowerCase()||"*"===e,x=(e,t)=>e.trim().split(/\s+/).map(e=>k(e,t)).join(" "),k=(e,t)=>{let i=t.loose?c[u.TILDELOOSE]:c[u.TILDE];return e.replace(i,(t,i,n,r,a)=>{let s;return o("tilde",e,t,i,n,r,a),w(i)?s="":w(n)?s=`>=${i}.0.0 <${+i+1}.0.0-0`:w(r)?s=`>=${i}.${n}.0 <${i}.${+n+1}.0-0`:a?(o("replaceTilde pr",a),s=`>=${i}.${n}.${r}-${a} <${i}.${+n+1}.0-0`):s=`>=${i}.${n}.${r} <${i}.${+n+1}.0-0`,o("tilde return",s),s})},S=(e,t)=>e.trim().split(/\s+/).map(e=>_(e,t)).join(" "),_=(e,t)=>{o("caret",e,t);let i=t.loose?c[u.CARETLOOSE]:c[u.CARET],n=t.includePrerelease?"-0":"";return e.replace(i,(t,i,r,a,s)=>{let l;return o("caret",e,t,i,r,a,s),w(i)?l="":w(r)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:w(a)?l="0"===i?`>=${i}.${r}.0${n} <${i}.${+r+1}.0-0`:`>=${i}.${r}.0${n} <${+i+1}.0.0-0`:s?(o("replaceCaret pr",s),l="0"===i?"0"===r?`>=${i}.${r}.${a}-${s} <${i}.${r}.${+a+1}-0`:`>=${i}.${r}.${a}-${s} <${i}.${+r+1}.0-0`:`>=${i}.${r}.${a}-${s} <${+i+1}.0.0-0`):(o("no pr"),l="0"===i?"0"===r?`>=${i}.${r}.${a}${n} <${i}.${r}.${+a+1}-0`:`>=${i}.${r}.${a}${n} <${i}.${+r+1}.0-0`:`>=${i}.${r}.${a} <${+i+1}.0.0-0`),o("caret return",l),l})},R=(e,t)=>(o("replaceXRanges",e,t),e.split(/\s+/).map(e=>E(e,t)).join(" ")),E=(e,t)=>{e=e.trim();let i=t.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return e.replace(i,(i,n,r,a,s,l)=>{o("xRange",e,i,n,r,a,s,l);let c=w(r),u=c||w(a),d=u||w(s);return"="===n&&d&&(n=""),l=t.includePrerelease?"-0":"",c?i=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(a=0),s=0,">"===n?(n=">=",u?(r=+r+1,a=0):a=+a+1,s=0):"<="===n&&(n="<",u?r=+r+1:a=+a+1),"<"===n&&(l="-0"),i=`${n+r}.${a}.${s}${l}`):u?i=`>=${r}.0.0${l} <${+r+1}.0.0-0`:d&&(i=`>=${r}.${a}.0${l} <${r}.${+a+1}.0-0`),o("xRange return",i),i})},T=(e,t)=>(o("replaceStars",e,t),e.trim().replace(c[u.STAR],"")),C=(e,t)=>(o("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),P=e=>(t,i,n,r,a,s,o,l,c,u,d,h,p)=>(i=w(n)?"":w(r)?`>=${n}.0.0${e?"-0":""}`:w(a)?`>=${n}.${r}.0${e?"-0":""}`:s?`>=${i}`:`>=${i}${e?"-0":""}`,l=w(c)?"":w(u)?`<${+c+1}.0.0-0`:w(d)?`<${c}.${+u+1}.0-0`:h?`<=${c}.${u}.${d}-${h}`:e?`<${c}.${u}.${+d+1}-0`:`<=${l}`,`${i} ${l}`.trim()),A=(e,t,i)=>{for(let i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!i.includePrerelease){for(let i=0;i<e.length;i++)if(o(e[i].semver),e[i].semver!==s.ANY&&e[i].semver.prerelease.length>0){let n=e[i].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},67770:(e,t,i)=>{let n=i(24635),{MAX_LENGTH:r,MAX_SAFE_INTEGER:a}=i(6237),{safeRe:s,t:o}=i(31735),l=i(52657),{compareIdentifiers:c}=i(82616);class u{constructor(e,t){if(t=l(t),e instanceof u){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>r)throw TypeError(`version is longer than ${r} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let i=e.trim().match(t.loose?s[o.LOOSE]:s[o.FULL]);if(!i)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>a||this.major<0)throw TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<a)return t}return e}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let i=this.prerelease[t],r=e.prerelease[t];if(n("prerelease compare",t,i,r),void 0===i&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===i)return -1;if(i===r)continue;else return c(i,r)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{let i=this.build[t],r=e.build[t];if(n("prerelease compare",t,i,r),void 0===i&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===i)return -1;if(i===r)continue;else return c(i,r)}while(++t)}inc(e,t,i){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,i),this.inc("pre",t,i);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,i),this.inc("pre",t,i);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(i)?1:0;if(!t&&!1===i)throw Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===i)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===i&&(n=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},83759:(e,t,i)=>{let n=i(70100);e.exports=(e,t)=>{let i=n(e.trim().replace(/^[=v]+/,""),t);return i?i.version:null}},94720:(e,t,i)=>{let n=i(3967),r=i(84828),a=i(12621),s=i(48137),o=i(44139),l=i(61186);e.exports=(e,t,i,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e===i;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e!==i;case"":case"=":case"==":return n(e,i,c);case"!=":return r(e,i,c);case">":return a(e,i,c);case">=":return s(e,i,c);case"<":return o(e,i,c);case"<=":return l(e,i,c);default:throw TypeError(`Invalid operator: ${t}`)}}},26209:(e,t,i)=>{let n=i(67770),r=i(70100),{safeRe:a,t:s}=i(31735);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let i=null;if((t=t||{}).rtl){let n;let r=t.includePrerelease?a[s.COERCERTLFULL]:a[s.COERCERTL];for(;(n=r.exec(e))&&(!i||i.index+i[0].length!==e.length);)i&&n.index+n[0].length===i.index+i[0].length||(i=n),r.lastIndex=n.index+n[1].length+n[2].length;r.lastIndex=-1}else i=e.match(t.includePrerelease?a[s.COERCEFULL]:a[s.COERCE]);if(null===i)return null;let o=i[2],l=i[3]||"0",c=i[4]||"0",u=t.includePrerelease&&i[5]?`-${i[5]}`:"",d=t.includePrerelease&&i[6]?`+${i[6]}`:"";return r(`${o}.${l}.${c}${u}${d}`,t)}},83968:(e,t,i)=>{let n=i(67770);e.exports=(e,t,i)=>{let r=new n(e,i),a=new n(t,i);return r.compare(a)||r.compareBuild(a)}},99061:(e,t,i)=>{let n=i(87188);e.exports=(e,t)=>n(e,t,!0)},87188:(e,t,i)=>{let n=i(67770);e.exports=(e,t,i)=>new n(e,i).compare(new n(t,i))},16390:(e,t,i)=>{let n=i(70100);e.exports=(e,t)=>{let i=n(e,null,!0),r=n(t,null,!0),a=i.compare(r);if(0===a)return null;let s=a>0,o=s?i:r,l=s?r:i,c=!!o.prerelease.length;if(l.prerelease.length&&!c)return l.patch||l.minor?o.patch?"patch":o.minor?"minor":"major":"major";let u=c?"pre":"";return i.major!==r.major?u+"major":i.minor!==r.minor?u+"minor":i.patch!==r.patch?u+"patch":"prerelease"}},3967:(e,t,i)=>{let n=i(87188);e.exports=(e,t,i)=>0===n(e,t,i)},12621:(e,t,i)=>{let n=i(87188);e.exports=(e,t,i)=>n(e,t,i)>0},48137:(e,t,i)=>{let n=i(87188);e.exports=(e,t,i)=>n(e,t,i)>=0},91394:(e,t,i)=>{let n=i(67770);e.exports=(e,t,i,r,a)=>{"string"==typeof i&&(a=r,r=i,i=void 0);try{return new n(e instanceof n?e.version:e,i).inc(t,r,a).version}catch(e){return null}}},44139:(e,t,i)=>{let n=i(87188);e.exports=(e,t,i)=>0>n(e,t,i)},61186:(e,t,i)=>{let n=i(87188);e.exports=(e,t,i)=>0>=n(e,t,i)},60762:(e,t,i)=>{let n=i(67770);e.exports=(e,t)=>new n(e,t).major},94088:(e,t,i)=>{let n=i(67770);e.exports=(e,t)=>new n(e,t).minor},84828:(e,t,i)=>{let n=i(87188);e.exports=(e,t,i)=>0!==n(e,t,i)},70100:(e,t,i)=>{let n=i(67770);e.exports=(e,t,i=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!i)return null;throw e}}},49878:(e,t,i)=>{let n=i(67770);e.exports=(e,t)=>new n(e,t).patch},82516:(e,t,i)=>{let n=i(70100);e.exports=(e,t)=>{let i=n(e,t);return i&&i.prerelease.length?i.prerelease:null}},80634:(e,t,i)=>{let n=i(87188);e.exports=(e,t,i)=>n(t,e,i)},43355:(e,t,i)=>{let n=i(83968);e.exports=(e,t)=>e.sort((e,i)=>n(i,e,t))},36764:(e,t,i)=>{let n=i(10405);e.exports=(e,t,i)=>{try{t=new n(t,i)}catch(e){return!1}return t.test(e)}},84021:(e,t,i)=>{let n=i(83968);e.exports=(e,t)=>e.sort((e,i)=>n(e,i,t))},82112:(e,t,i)=>{let n=i(70100);e.exports=(e,t)=>{let i=n(e,t);return i?i.version:null}},30555:(e,t,i)=>{let n=i(31735),r=i(6237),a=i(67770),s=i(82616),o=i(70100),l=i(82112),c=i(83759),u=i(91394),d=i(16390),h=i(60762),p=i(94088),f=i(49878),m=i(82516),g=i(87188),y=i(80634),v=i(99061),b=i(83968),w=i(84021),x=i(43355),k=i(12621),S=i(44139),_=i(3967),R=i(84828),E=i(48137),T=i(61186),C=i(94720),P=i(26209),A=i(84935),I=i(10405),O=i(36764),j=i(77804),N=i(69460),L=i(8459),D=i(48653),U=i(35415),q=i(39613),M=i(29156),F=i(97189),$=i(11773),B=i(51036),K=i(96938);e.exports={parse:o,valid:l,clean:c,inc:u,diff:d,major:h,minor:p,patch:f,prerelease:m,compare:g,rcompare:y,compareLoose:v,compareBuild:b,sort:w,rsort:x,gt:k,lt:S,eq:_,neq:R,gte:E,lte:T,cmp:C,coerce:P,Comparator:A,Range:I,satisfies:O,toComparators:j,maxSatisfying:N,minSatisfying:L,minVersion:D,validRange:U,outside:q,gtr:M,ltr:F,intersects:$,simplifyRange:B,subset:K,SemVer:a,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:r.SEMVER_SPEC_VERSION,RELEASE_TYPES:r.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},6237:e=>{let t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},24635:e=>{let t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},82616:e=>{let t=/^[0-9]+$/,i=(e,i)=>{let n=t.test(e),r=t.test(i);return n&&r&&(e=+e,i=+i),e===i?0:n&&!r?-1:r&&!n?1:e<i?-1:1};e.exports={compareIdentifiers:i,rcompareIdentifiers:(e,t)=>i(t,e)}},52657:e=>{let t=Object.freeze({loose:!0}),i=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:i},31735:(e,t,i)=>{let{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:a}=i(6237),s=i(24635),o=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.t={},d=0,h="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",a],[h,r]],f=e=>{for(let[t,i]of p)e=e.split(`${t}*`).join(`${t}{0,${i}}`).split(`${t}+`).join(`${t}{1,${i}}`);return e},m=(e,t,i)=>{let n=f(t),r=d++;s(e,r,t),u[e]=r,c[r]=t,o[r]=new RegExp(t,i?"g":void 0),l[r]=new RegExp(n,i?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),m("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${h}+`),m("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),m("FULL",`^${c[u.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),m("LOOSE",`^${c[u.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),m("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?`+`(?:${c[u.BUILD]})?`+"(?:$|[^\\d])"),m("COERCERTL",c[u.COERCE],!0),m("COERCERTLFULL",c[u.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},90206:(e,t,i)=>{"use strict";let n=i(71912),r=Symbol("max"),a=Symbol("length"),s=Symbol("lengthCalculator"),o=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),h=Symbol("cache"),p=Symbol("updateAgeOnGet"),f=()=>1;class m{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[r]=e.max||1/0;let t=e.length||f;if(this[s]="function"!=typeof t?f:t,this[o]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[r]=e||1/0,v(this)}get max(){return this[r]}set allowStale(e){this[o]=!!e}get allowStale(){return this[o]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[l]=e,v(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[s]&&(this[s]=e,this[a]=0,this[d].forEach(e=>{e.length=this[s](e.value,e.key),this[a]+=e.length})),v(this)}get lengthCalculator(){return this[s]}get length(){return this[a]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let i=this[d].tail;null!==i;){let n=i.prev;x(this,e,i,t),i=n}}forEach(e,t){t=t||this;for(let i=this[d].head;null!==i;){let n=i.next;x(this,e,i,t),i=n}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach(e=>this[c](e.key,e.value)),this[h]=new Map,this[d]=new n,this[a]=0}dump(){return this[d].map(e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,i){if((i=i||this[l])&&"number"!=typeof i)throw TypeError("maxAge must be a number");let n=i?Date.now():0,o=this[s](t,e);if(this[h].has(e)){if(o>this[r])return b(this,this[h].get(e)),!1;let s=this[h].get(e).value;return this[c]&&!this[u]&&this[c](e,s.value),s.now=n,s.maxAge=i,s.value=t,this[a]+=o-s.length,s.length=o,this.get(e),v(this),!0}let p=new w(e,t,o,n,i);return p.length>this[r]?(this[c]&&this[c](e,t),!1):(this[a]+=p.length,this[d].unshift(p),this[h].set(e,this[d].head),v(this),!0)}has(e){return!!this[h].has(e)&&!y(this,this[h].get(e).value)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){let e=this[d].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[h].get(e))}load(e){this.reset();let t=Date.now();for(let i=e.length-1;i>=0;i--){let n=e[i],r=n.e||0;if(0===r)this.set(n.k,n.v);else{let e=r-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[h].forEach((e,t)=>g(this,t,!1))}}let g=(e,t,i)=>{let n=e[h].get(t);if(n){let t=n.value;if(y(e,t)){if(b(e,n),!e[o])return}else i&&(e[p]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;let i=Date.now()-t.now;return t.maxAge?i>t.maxAge:e[l]&&i>e[l]},v=e=>{if(e[a]>e[r])for(let t=e[d].tail;e[a]>e[r]&&null!==t;){let i=t.prev;b(e,t),t=i}},b=(e,t)=>{if(t){let i=t.value;e[c]&&e[c](i.key,i.value),e[a]-=i.length,e[h].delete(i.key),e[d].removeNode(t)}};class w{constructor(e,t,i,n,r){this.key=e,this.value=t,this.length=i,this.now=n,this.maxAge=r||0}}let x=(e,t,i,n)=>{let r=i.value;y(e,r)&&(b(e,i),e[o]||(r=void 0)),r&&t.call(n,r.value,r.key,e)};e.exports=m},29156:(e,t,i)=>{let n=i(39613);e.exports=(e,t,i)=>n(e,t,">",i)},11773:(e,t,i)=>{let n=i(10405);e.exports=(e,t,i)=>(e=new n(e,i),t=new n(t,i),e.intersects(t,i))},97189:(e,t,i)=>{let n=i(39613);e.exports=(e,t,i)=>n(e,t,"<",i)},69460:(e,t,i)=>{let n=i(67770),r=i(10405);e.exports=(e,t,i)=>{let a=null,s=null,o=null;try{o=new r(t,i)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!a||-1===s.compare(e))&&(s=new n(a=e,i))}),a}},8459:(e,t,i)=>{let n=i(67770),r=i(10405);e.exports=(e,t,i)=>{let a=null,s=null,o=null;try{o=new r(t,i)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!a||1===s.compare(e))&&(s=new n(a=e,i))}),a}},48653:(e,t,i)=>{let n=i(67770),r=i(10405),a=i(12621);e.exports=(e,t)=>{e=new r(e,t);let i=new n("0.0.0");if(e.test(i)||(i=new n("0.0.0-0"),e.test(i)))return i;i=null;for(let t=0;t<e.set.length;++t){let r=e.set[t],s=null;r.forEach(e=>{let t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!s||a(t,s))&&(s=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),s&&(!i||a(i,s))&&(i=s)}return i&&e.test(i)?i:null}},39613:(e,t,i)=>{let n=i(67770),r=i(84935),{ANY:a}=r,s=i(10405),o=i(36764),l=i(12621),c=i(44139),u=i(61186),d=i(48137);e.exports=(e,t,i,h)=>{let p,f,m,g,y;switch(e=new n(e,h),t=new s(t,h),i){case">":p=l,f=u,m=c,g=">",y=">=";break;case"<":p=c,f=d,m=l,g="<",y="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(o(e,t,h))return!1;for(let i=0;i<t.set.length;++i){let n=t.set[i],s=null,o=null;if(n.forEach(e=>{e.semver===a&&(e=new r(">=0.0.0")),s=s||e,o=o||e,p(e.semver,s.semver,h)?s=e:m(e.semver,o.semver,h)&&(o=e)}),s.operator===g||s.operator===y||(!o.operator||o.operator===g)&&f(e,o.semver)||o.operator===y&&m(e,o.semver))return!1}return!0}},51036:(e,t,i)=>{let n=i(36764),r=i(87188);e.exports=(e,t,i)=>{let a=[],s=null,o=null,l=e.sort((e,t)=>r(e,t,i));for(let e of l)n(e,t,i)?(o=e,s||(s=e)):(o&&a.push([s,o]),o=null,s=null);s&&a.push([s,null]);let c=[];for(let[e,t]of a)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");let u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},96938:(e,t,i)=>{let n=i(10405),r=i(84935),{ANY:a}=r,s=i(36764),o=i(87188),l=[new r(">=0.0.0-0")],c=[new r(">=0.0.0")],u=(e,t,i)=>{let n,r,u,p,f,m,g;if(e===t)return!0;if(1===e.length&&e[0].semver===a){if(1===t.length&&t[0].semver===a)return!0;e=i.includePrerelease?l:c}if(1===t.length&&t[0].semver===a){if(i.includePrerelease)return!0;t=c}let y=new Set;for(let t of e)">"===t.operator||">="===t.operator?n=d(n,t,i):"<"===t.operator||"<="===t.operator?r=h(r,t,i):y.add(t.semver);if(y.size>1||n&&r&&((u=o(n.semver,r.semver,i))>0||0===u&&(">="!==n.operator||"<="!==r.operator)))return null;for(let e of y){if(n&&!s(e,String(n),i)||r&&!s(e,String(r),i))return null;for(let n of t)if(!s(e,String(n),i))return!1;return!0}let v=!!r&&!i.includePrerelease&&!!r.semver.prerelease.length&&r.semver,b=!!n&&!i.includePrerelease&&!!n.semver.prerelease.length&&n.semver;for(let e of(v&&1===v.prerelease.length&&"<"===r.operator&&0===v.prerelease[0]&&(v=!1),t)){if(g=g||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,n){if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if((p=d(n,e,i))===e&&p!==n)return!1}else if(">="===n.operator&&!s(n.semver,String(e),i))return!1}if(r){if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if((f=h(r,e,i))===e&&f!==r)return!1}else if("<="===r.operator&&!s(r.semver,String(e),i))return!1}if(!e.operator&&(r||n)&&0!==u)return!1}return(!n||!m||!!r||0===u)&&(!r||!g||!!n||0===u)&&!b&&!v},d=(e,t,i)=>{if(!e)return t;let n=o(e.semver,t.semver,i);return n>0?e:n<0?t:">"===t.operator&&">="===e.operator?t:e},h=(e,t,i)=>{if(!e)return t;let n=o(e.semver,t.semver,i);return n<0?e:n>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,i={})=>{if(e===t)return!0;e=new n(e,i),t=new n(t,i);let r=!1;e:for(let n of e.set){for(let e of t.set){let t=u(n,e,i);if(r=r||null!==t,t)continue e}if(r)return!1}return!0}},77804:(e,t,i)=>{let n=i(10405);e.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},35415:(e,t,i)=>{let n=i(10405);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},76839:(e,t,i)=>{"use strict";let n;let r=i(19801),a=i(74175),s=i(38060),{env:o}=process;function l(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function c(e,t){if(0===n)return 0;if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2;if(e&&!t&&void 0===n)return 0;let i=n||0;if("dumb"===o.TERM)return i;if("win32"===process.platform){let e=r.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in o)||"codeship"===o.CI_NAME?1:i;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){let e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:i}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?n=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(n=1),"FORCE_COLOR"in o&&(n="true"===o.FORCE_COLOR?1:"false"===o.FORCE_COLOR?0:0===o.FORCE_COLOR.length?1:Math.min(parseInt(o.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return l(c(e,e&&e.isTTY))},stdout:l(c(!0,a.isatty(1))),stderr:l(c(!0,a.isatty(2)))}},17453:function(e,t,i){var n;!function(r,a){"use strict";var s="function",o="undefined",l="object",c="string",u="major",d="model",h="name",p="type",f="vendor",m="version",g="architecture",y="console",v="mobile",b="tablet",w="smarttv",x="wearable",k="embedded",S="Amazon",_="Apple",R="ASUS",E="BlackBerry",T="Browser",C="Chrome",P="Firefox",A="Google",I="Huawei",O="Microsoft",j="Motorola",N="Opera",L="Samsung",D="Sharp",U="Sony",q="Xiaomi",M="Zebra",F="Facebook",$="Chromium OS",B="Mac OS",K=function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},z=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},V=function(e,t){return typeof e===c&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},H=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===o?e:e.substring(0,500)},G=function(e,t){for(var i,n,r,o,c,u,d=0;d<t.length&&!c;){var h=t[d],p=t[d+1];for(i=n=0;i<h.length&&!c&&h[i];)if(c=h[i++].exec(e))for(r=0;r<p.length;r++)u=c[++n],typeof(o=p[r])===l&&o.length>0?2===o.length?typeof o[1]==s?this[o[0]]=o[1].call(this,u):this[o[0]]=o[1]:3===o.length?typeof o[1]!==s||o[1].exec&&o[1].test?this[o[0]]=u?u.replace(o[1],o[2]):void 0:this[o[0]]=u?o[1].call(this,u,o[2]):void 0:4===o.length&&(this[o[0]]=u?o[3].call(this,u.replace(o[1],o[2])):void 0):this[o]=u||a;d+=2}},J=function(e,t){for(var i in t)if(typeof t[i]===l&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(V(t[i][n],e))return"?"===i?a:i}else if(V(t[i],e))return"?"===i?a:i;return e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,m],[/opios[\/ ]+([\w\.]+)/i],[m,[h,N+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[h,N]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[h,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[h,"Smart Lenovo "+T]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+T],m],[/\bfocus\/([\w\.]+)/i],[m,[h,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[h,N+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[h,N+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[h,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[m,[h,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+T]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+T],m],[/samsungbrowser\/([\w\.]+)/i],[m,[h,L+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,m],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,F],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[h,C+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,C+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[h,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[m,J,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[h,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[h,m],[/(cobalt)\/([\w\.]+)/i],[h,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,W]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[f,L],[p,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[f,L],[p,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[f,_],[p,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[f,_],[p,b]],[/(macintosh);/i],[d,[f,_]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[f,D],[p,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[f,I],[p,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[f,I],[p,v]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[f,q],[p,v]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[f,q],[p,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[f,"OPPO"],[p,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[f,"Vivo"],[p,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[f,"Realme"],[p,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[f,j],[p,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[f,j],[p,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[f,"LG"],[p,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[f,"LG"],[p,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[f,"Lenovo"],[p,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[f,"Nokia"],[p,v]],[/(pixel c)\b/i],[d,[f,A],[p,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[f,A],[p,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[f,U],[p,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[f,U],[p,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[f,"OnePlus"],[p,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[f,S],[p,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[f,S],[p,v]],[/(playbook);[-\w\),; ]+(rim)/i],[d,f,[p,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[f,E],[p,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[f,R],[p,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[f,R],[p,v]],[/(nexus 9)/i],[d,[f,"HTC"],[p,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[d,/_/g," "],[p,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[f,"Acer"],[p,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[f,"Meizu"],[p,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[f,"Ulefone"],[p,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,d,[p,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,d,[p,b]],[/(surface duo)/i],[d,[f,O],[p,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[f,"Fairphone"],[p,v]],[/(u304aa)/i],[d,[f,"AT&T"],[p,v]],[/\bsie-(\w*)/i],[d,[f,"Siemens"],[p,v]],[/\b(rct\w+) b/i],[d,[f,"RCA"],[p,b]],[/\b(venue[\d ]{2,7}) b/i],[d,[f,"Dell"],[p,b]],[/\b(q(?:mv|ta)\w+) b/i],[d,[f,"Verizon"],[p,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[f,"Barnes & Noble"],[p,b]],[/\b(tm\d{3}\w+) b/i],[d,[f,"NuVision"],[p,b]],[/\b(k88) b/i],[d,[f,"ZTE"],[p,b]],[/\b(nx\d{3}j) b/i],[d,[f,"ZTE"],[p,v]],[/\b(gen\d{3}) b.+49h/i],[d,[f,"Swiss"],[p,v]],[/\b(zur\d{3}) b/i],[d,[f,"Swiss"],[p,b]],[/\b((zeki)?tb.*\b) b/i],[d,[f,"Zeki"],[p,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],d,[p,b]],[/\b(ns-?\w{0,9}) b/i],[d,[f,"Insignia"],[p,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[f,"NextBook"],[p,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],d,[p,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],d,[p,v]],[/\b(ph-1) /i],[d,[f,"Essential"],[p,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[f,"Envizen"],[p,b]],[/\b(trio[-\w\. ]+) b/i],[d,[f,"MachSpeed"],[p,b]],[/\btu_(1491) b/i],[d,[f,"Rotor"],[p,b]],[/(shield[\w ]+) b/i],[d,[f,"Nvidia"],[p,b]],[/(sprint) (\w+)/i],[f,d,[p,v]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[f,O],[p,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[f,M],[p,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[f,M],[p,v]],[/smart-tv.+(samsung)/i],[f,[p,w]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[f,L],[p,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,"LG"],[p,w]],[/(apple) ?tv/i],[f,[d,_+" TV"],[p,w]],[/crkey/i],[[d,C+"cast"],[f,A],[p,w]],[/droid.+aft(\w+)( bui|\))/i],[d,[f,S],[p,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[f,D],[p,w]],[/(bravia[\w ]+)( bui|\))/i],[d,[f,U],[p,w]],[/(mitv-\w{5}) bui/i],[d,[f,q],[p,w]],[/Hbbtv.*(technisat) (.*);/i],[f,d,[p,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,H],[d,H],[p,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,d,[p,y]],[/droid.+; (shield) bui/i],[d,[f,"Nvidia"],[p,y]],[/(playstation [345portablevi]+)/i],[d,[f,U],[p,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[f,O],[p,y]],[/((pebble))app/i],[f,d,[p,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[f,_],[p,x]],[/droid.+; (glass) \d/i],[d,[f,A],[p,x]],[/droid.+; (wt63?0{2,3})\)/i],[d,[f,M],[p,x]],[/(quest( 2| pro)?)/i],[d,[f,F],[p,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[p,k]],[/(aeobc)\b/i],[d,[f,S],[p,k]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[p,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[p,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,v]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[m,J,Y]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,J,Y],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,B],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,m],[/\(bb(10);/i],[m,[h,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[h,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[h,C+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,$],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,m],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,m]]},Q=function(e,t){if(typeof e===l&&(t=e,e=a),!(this instanceof Q))return new Q(e,t).getResult();var i=typeof r!==o&&r.navigator?r.navigator:a,n=e||(i&&i.userAgent?i.userAgent:""),y=i&&i.userAgentData?i.userAgentData:a,w=t?K(X,t):X,x=i&&i.userAgent==n;return this.getBrowser=function(){var e,t={};return t[h]=a,t[m]=a,G.call(t,n,w.browser),t[u]=typeof(e=t[m])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:a,x&&i&&i.brave&&typeof i.brave.isBrave==s&&(t[h]="Brave"),t},this.getCPU=function(){var e={};return e[g]=a,G.call(e,n,w.cpu),e},this.getDevice=function(){var e={};return e[f]=a,e[d]=a,e[p]=a,G.call(e,n,w.device),x&&!e[p]&&y&&y.mobile&&(e[p]=v),x&&"Macintosh"==e[d]&&i&&typeof i.standalone!==o&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e[d]="iPad",e[p]=b),e},this.getEngine=function(){var e={};return e[h]=a,e[m]=a,G.call(e,n,w.engine),e},this.getOS=function(){var e={};return e[h]=a,e[m]=a,G.call(e,n,w.os),x&&!e[h]&&y&&"Unknown"!=y.platform&&(e[h]=y.platform.replace(/chrome os/i,$).replace(/macos/i,B)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>500?H(e,500):e,this},this.setUA(n),this};Q.VERSION="1.0.37",Q.BROWSER=z([h,m,u]),Q.CPU=z([g]),Q.DEVICE=z([d,f,p,y,v,w,b,x,k]),Q.ENGINE=Q.OS=z([h,m]),typeof t!==o?(e.exports&&(t=e.exports=Q),t.UAParser=Q):i.amdO?a!==(n=(function(){return Q}).call(t,i,t,e))&&(e.exports=n):typeof r!==o&&(r.UAParser=Q);var Z=typeof r!==o&&(r.jQuery||r.Zepto);if(Z&&!Z.ua){var ee=new Q;Z.ua=ee.getResult(),Z.ua.get=function(){return ee.getUA()},Z.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var i in t)Z.ua[i]=t[i]}}}("object"==typeof window?window:this)},89745:(e,t,i)=>{"use strict";let n=i(55555);n.createWebSocketStream=i(10723),n.Server=i(43167),n.Receiver=i(66374),n.Sender=i(75095),n.WebSocket=n,n.WebSocketServer=n.Server,e.exports=n},6901:(e,t,i)=>{"use strict";let{EMPTY_BUFFER:n}=i(27565),r=Buffer[Symbol.species];function a(e,t,i,n,r){for(let a=0;a<r;a++)i[n+a]=e[a]^t[3&a]}function s(e,t){for(let i=0;i<e.length;i++)e[i]^=t[3&i]}if(e.exports={concat:function(e,t){if(0===e.length)return n;if(1===e.length)return e[0];let i=Buffer.allocUnsafe(t),a=0;for(let t=0;t<e.length;t++){let n=e[t];i.set(n,a),a+=n.length}return a<t?new r(i.buffer,i.byteOffset,a):i},mask:a,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){let i;return(e.readOnly=!0,Buffer.isBuffer(t))?t:(t instanceof ArrayBuffer?i=new r(t):ArrayBuffer.isView(t)?i=new r(t.buffer,t.byteOffset,t.byteLength):(i=Buffer.from(t),e.readOnly=!1),i)},unmask:s},!process.env.WS_NO_BUFFER_UTIL)try{let t=i(58359);e.exports.mask=function(e,i,n,r,s){s<48?a(e,i,n,r,s):t.mask(e,i,n,r,s)},e.exports.unmask=function(e,i){e.length<32?s(e,i):t.unmask(e,i)}}catch(e){}},27565:e=>{"use strict";let t=["nodebuffer","arraybuffer","fragments"],i="undefined"!=typeof Blob;i&&t.push("blob"),e.exports={BINARY_TYPES:t,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:i,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},46773:(e,t,i)=>{"use strict";let{kForOnEventAttribute:n,kListener:r}=i(27565),a=Symbol("kCode"),s=Symbol("kData"),o=Symbol("kError"),l=Symbol("kMessage"),c=Symbol("kReason"),u=Symbol("kTarget"),d=Symbol("kType"),h=Symbol("kWasClean");class p{constructor(e){this[u]=null,this[d]=e}get target(){return this[u]}get type(){return this[d]}}Object.defineProperty(p.prototype,"target",{enumerable:!0}),Object.defineProperty(p.prototype,"type",{enumerable:!0});class f extends p{constructor(e,t={}){super(e),this[a]=void 0===t.code?0:t.code,this[c]=void 0===t.reason?"":t.reason,this[h]=void 0!==t.wasClean&&t.wasClean}get code(){return this[a]}get reason(){return this[c]}get wasClean(){return this[h]}}Object.defineProperty(f.prototype,"code",{enumerable:!0}),Object.defineProperty(f.prototype,"reason",{enumerable:!0}),Object.defineProperty(f.prototype,"wasClean",{enumerable:!0});class m extends p{constructor(e,t={}){super(e),this[o]=void 0===t.error?null:t.error,this[l]=void 0===t.message?"":t.message}get error(){return this[o]}get message(){return this[l]}}Object.defineProperty(m.prototype,"error",{enumerable:!0}),Object.defineProperty(m.prototype,"message",{enumerable:!0});class g extends p{constructor(e,t={}){super(e),this[s]=void 0===t.data?null:t.data}get data(){return this[s]}}function y(e,t,i){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,i):e.call(t,i)}Object.defineProperty(g.prototype,"data",{enumerable:!0}),e.exports={CloseEvent:f,ErrorEvent:m,Event:p,EventTarget:{addEventListener(e,t,i={}){let a;for(let a of this.listeners(e))if(!i[n]&&a[r]===t&&!a[n])return;if("message"===e)a=function(e,i){let n=new g("message",{data:i?e:e.toString()});n[u]=this,y(t,this,n)};else if("close"===e)a=function(e,i){let n=new f("close",{code:e,reason:i.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});n[u]=this,y(t,this,n)};else if("error"===e)a=function(e){let i=new m("error",{error:e,message:e.message});i[u]=this,y(t,this,i)};else{if("open"!==e)return;a=function(){let e=new p("open");e[u]=this,y(t,this,e)}}a[n]=!!i[n],a[r]=t,i.once?this.once(e,a):this.on(e,a)},removeEventListener(e,t){for(let i of this.listeners(e))if(i[r]===t&&!i[n]){this.removeListener(e,i);break}}},MessageEvent:g}},28337:(e,t,i)=>{"use strict";let{tokenChars:n}=i(10603);function r(e,t,i){void 0===e[t]?e[t]=[i]:e[t].push(i)}e.exports={format:function(e){return Object.keys(e).map(t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map(e=>[t].concat(Object.keys(e).map(t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let t,i;let a=Object.create(null),s=Object.create(null),o=!1,l=!1,c=!1,u=-1,d=-1,h=-1,p=0;for(;p<e.length;p++)if(d=e.charCodeAt(p),void 0===t){if(-1===h&&1===n[d])-1===u&&(u=p);else if(0!==p&&(32===d||9===d))-1===h&&-1!==u&&(h=p);else if(59===d||44===d){if(-1===u)throw SyntaxError(`Unexpected character at index ${p}`);-1===h&&(h=p);let i=e.slice(u,h);44===d?(r(a,i,s),s=Object.create(null)):t=i,u=h=-1}else throw SyntaxError(`Unexpected character at index ${p}`)}else if(void 0===i){if(-1===h&&1===n[d])-1===u&&(u=p);else if(32===d||9===d)-1===h&&-1!==u&&(h=p);else if(59===d||44===d){if(-1===u)throw SyntaxError(`Unexpected character at index ${p}`);-1===h&&(h=p),r(s,e.slice(u,h),!0),44===d&&(r(a,t,s),s=Object.create(null),t=void 0),u=h=-1}else if(61===d&&-1!==u&&-1===h)i=e.slice(u,p),u=h=-1;else throw SyntaxError(`Unexpected character at index ${p}`)}else if(l){if(1!==n[d])throw SyntaxError(`Unexpected character at index ${p}`);-1===u?u=p:o||(o=!0),l=!1}else if(c){if(1===n[d])-1===u&&(u=p);else if(34===d&&-1!==u)c=!1,h=p;else if(92===d)l=!0;else throw SyntaxError(`Unexpected character at index ${p}`)}else if(34===d&&61===e.charCodeAt(p-1))c=!0;else if(-1===h&&1===n[d])-1===u&&(u=p);else if(-1!==u&&(32===d||9===d))-1===h&&(h=p);else if(59===d||44===d){if(-1===u)throw SyntaxError(`Unexpected character at index ${p}`);-1===h&&(h=p);let n=e.slice(u,h);o&&(n=n.replace(/\\/g,""),o=!1),r(s,i,n),44===d&&(r(a,t,s),s=Object.create(null),t=void 0),i=void 0,u=h=-1}else throw SyntaxError(`Unexpected character at index ${p}`);if(-1===u||c||32===d||9===d)throw SyntaxError("Unexpected end of input");-1===h&&(h=p);let f=e.slice(u,h);return void 0===t?r(a,f,s):(void 0===i?r(s,f,!0):o?r(s,i,f.replace(/\\/g,"")):r(s,i,f),r(a,t,s)),a}}},82069:e=>{"use strict";let t=Symbol("kDone"),i=Symbol("kRun");class n{constructor(e){this[t]=()=>{this.pending--,this[i]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[i]()}[i](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[t])}}}e.exports=n},62488:(e,t,i)=>{"use strict";let n;let r=i(71568),a=i(6901),s=i(82069),{kStatusCode:o}=i(27565),l=Buffer[Symbol.species],c=Buffer.from([0,0,255,255]),u=Symbol("permessage-deflate"),d=Symbol("total-length"),h=Symbol("callback"),p=Symbol("buffers"),f=Symbol("error");class m{constructor(e,t,i){this._maxPayload=0|i,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,n||(n=new s(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[h];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,i=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!i)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(i.server_no_context_takeover=!0),t.clientNoContextTakeover&&(i.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(i.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?i.client_max_window_bits=t.clientMaxWindowBits:(!0===i.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete i.client_max_window_bits,i}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let i=e[t];if(i.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(i=i[0],"client_max_window_bits"===t){if(!0!==i){let e=+i;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${i}`)}else if("server_max_window_bits"===t){let e=+i;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==i)throw TypeError(`Invalid value for parameter "${t}": ${i}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=i})}),e}decompress(e,t,i){n.add(n=>{this._decompress(e,t,(e,t)=>{n(),i(e,t)})})}compress(e,t,i){n.add(n=>{this._compress(e,t,(e,t)=>{n(),i(e,t)})})}_decompress(e,t,i){let n=this._isServer?"client":"server";if(!this._inflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?r.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=r.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[u]=this,this._inflate[d]=0,this._inflate[p]=[],this._inflate.on("error",v),this._inflate.on("data",y)}this._inflate[h]=i,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{let e=this._inflate[f];if(e){this._inflate.close(),this._inflate=null,i(e);return}let r=a.concat(this._inflate[p],this._inflate[d]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[p]=[],t&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),i(null,r)})}_compress(e,t,i){let n=this._isServer?"server":"client";if(!this._deflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?r.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=r.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[d]=0,this._deflate[p]=[],this._deflate.on("data",g)}this._deflate[h]=i,this._deflate.write(e),this._deflate.flush(r.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=a.concat(this._deflate[p],this._deflate[d]);t&&(e=new l(e.buffer,e.byteOffset,e.length-4)),this._deflate[h]=null,this._deflate[d]=0,this._deflate[p]=[],t&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),i(null,e)})}}function g(e){this[p].push(e),this[d]+=e.length}function y(e){if(this[d]+=e.length,this[u]._maxPayload<1||this[d]<=this[u]._maxPayload){this[p].push(e);return}this[f]=RangeError("Max payload size exceeded"),this[f].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[f][o]=1009,this.removeListener("data",y),this.reset()}function v(e){this[u]._inflate=null,e[o]=1007,this[h](e)}e.exports=m},66374:(e,t,i)=>{"use strict";let{Writable:n}=i(76162),r=i(62488),{BINARY_TYPES:a,EMPTY_BUFFER:s,kStatusCode:o,kWebSocket:l}=i(27565),{concat:c,toArrayBuffer:u,unmask:d}=i(6901),{isValidStatusCode:h,isValidUTF8:p}=i(10603),f=Buffer[Symbol.species];class m extends n{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||a[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[l]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,i){if(8===this._opcode&&0==this._state)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=new f(t.buffer,t.byteOffset+e,t.length-e),new f(t.buffer,t.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let i=this._buffers[0],n=t.length-e;e>=i.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(i.buffer,i.byteOffset,e),n),this._buffers[0]=new f(i.buffer,i.byteOffset+e,i.length-e)),e-=i.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if((48&t[0])!=0){e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));return}let i=(64&t[0])==64;if(i&&!this._extensions[r.extensionName]){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._fin=(128&t[0])==128,this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(i){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(!this._fragmented){e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented){e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._compressed=i}else if(this._opcode>7&&this._opcode<11){if(!this._fin){e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));return}if(i){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength){e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"));return}}else{e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&t[1])==128,this._isServer){if(!this._masked){e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"));return}}else if(this._masked){e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));return}126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),i=t.readUInt32BE(0);if(i>2097151){e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"));return}this._payloadLength=4294967296*i+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._masked?this._state=3:this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&d(t,this._mask)}if(this._opcode>7){this.controlMessage(t,e);return}if(this._compressed){this._state=5,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[r.extensionName].decompress(e,this._fin,(e,i)=>{if(e)return t(e);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0){t(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._fragments.push(i)}this.dataMessage(t),0===this._state&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=0;return}let t=this._messageLength,i=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?c(i,t):"arraybuffer"===this._binaryType?u(c(i,t)):"blob"===this._binaryType?new Blob(i):i,this._allowSynchronousEvents?(this.emit("message",n,!0),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",n,!0),this._state=0,this.startLoop(e)}))}else{let n=c(i,t);if(!this._skipUTF8Validation&&!p(n)){e(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}5===this._state||this._allowSynchronousEvents?(this.emit("message",n,!1),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",n,!1),this._state=0,this.startLoop(e)}))}}controlMessage(e,t){if(8===this._opcode){if(0===e.length)this._loop=!1,this.emit("conclude",1005,s),this.end();else{let i=e.readUInt16BE(0);if(!h(i)){t(this.createError(RangeError,`invalid status code ${i}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));return}let n=new f(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!p(n)){t(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}this._loop=!1,this.emit("conclude",i,n),this.end()}this._state=0;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,setImmediate(()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)}))}createError(e,t,i,n,r){this._loop=!1,this._errored=!0;let a=new e(i?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(a,this.createError),a.code=r,a[o]=n,a}}e.exports=m},75095:(e,t,i)=>{"use strict";let n;let{Duplex:r}=i(76162),{randomFillSync:a}=i(84770),s=i(62488),{EMPTY_BUFFER:o,kWebSocket:l,NOOP:c}=i(27565),{isBlob:u,isValidStatusCode:d}=i(10603),{mask:h,toBuffer:p}=i(6901),f=Symbol("kByteLength"),m=Buffer.alloc(4),g=8192;class y{constructor(e,t,i){this._extensions=t||{},i&&(this._generateMask=i,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=0,this.onerror=c,this[l]=void 0}static frame(e,t){let i,r;let s=!1,o=2,l=!1;t.mask&&(i=t.maskBuffer||m,t.generateMask?t.generateMask(i):(8192===g&&(void 0===n&&(n=Buffer.alloc(8192)),a(n,0,8192),g=0),i[0]=n[g++],i[1]=n[g++],i[2]=n[g++],i[3]=n[g++]),l=(i[0]|i[1]|i[2]|i[3])==0,o=6),"string"==typeof e?r=(!t.mask||l)&&void 0!==t[f]?t[f]:(e=Buffer.from(e)).length:(r=e.length,s=t.mask&&t.readOnly&&!l);let c=r;r>=65536?(o+=8,c=127):r>125&&(o+=2,c=126);let u=Buffer.allocUnsafe(s?r+o:o);return(u[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(u[0]|=64),u[1]=c,126===c?u.writeUInt16BE(r,2):127===c&&(u[2]=u[3]=0,u.writeUIntBE(r,4,6)),t.mask)?(u[1]|=128,u[o-4]=i[0],u[o-3]=i[1],u[o-2]=i[2],u[o-1]=i[3],l)?[u,e]:s?(h(e,i,u,o,r),[u]):(h(e,i,e,0,r),[u,e]):[u,e]}close(e,t,i,n){let r;if(void 0===e)r=o;else if("number"==typeof e&&d(e)){if(void 0!==t&&t.length){let i=Buffer.byteLength(t);if(i>123)throw RangeError("The message must not be greater than 123 bytes");(r=Buffer.allocUnsafe(2+i)).writeUInt16BE(e,0),"string"==typeof t?r.write(t,2):r.set(t,2)}else(r=Buffer.allocUnsafe(2)).writeUInt16BE(e,0)}else throw TypeError("First argument must be a valid error code number");let a={[f]:r.length,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};0!==this._state?this.enqueue([this.dispatch,r,!1,a,n]):this.sendFrame(y.frame(r,a),n)}ping(e,t,i){let n,r;if("string"==typeof e?(n=Buffer.byteLength(e),r=!1):u(e)?(n=e.size,r=!1):(n=(e=p(e)).length,r=p.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let a={[f]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:r,rsv1:!1};u(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,a,i]):this.getBlobData(e,!1,a,i):0!==this._state?this.enqueue([this.dispatch,e,!1,a,i]):this.sendFrame(y.frame(e,a),i)}pong(e,t,i){let n,r;if("string"==typeof e?(n=Buffer.byteLength(e),r=!1):u(e)?(n=e.size,r=!1):(n=(e=p(e)).length,r=p.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let a={[f]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:r,rsv1:!1};u(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,a,i]):this.getBlobData(e,!1,a,i):0!==this._state?this.enqueue([this.dispatch,e,!1,a,i]):this.sendFrame(y.frame(e,a),i)}send(e,t,i){let n,r;let a=this._extensions[s.extensionName],o=t.binary?2:1,l=t.compress;"string"==typeof e?(n=Buffer.byteLength(e),r=!1):u(e)?(n=e.size,r=!1):(n=(e=p(e)).length,r=p.readOnly),this._firstFragment?(this._firstFragment=!1,l&&a&&a.params[a._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(l=n>=a._threshold),this._compress=l):(l=!1,o=0),t.fin&&(this._firstFragment=!0);let c={[f]:n,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:r,rsv1:l};u(e)?0!==this._state?this.enqueue([this.getBlobData,e,this._compress,c,i]):this.getBlobData(e,this._compress,c,i):0!==this._state?this.enqueue([this.dispatch,e,this._compress,c,i]):this.dispatch(e,this._compress,c,i)}getBlobData(e,t,i,n){this._bufferedBytes+=i[f],this._state=2,e.arrayBuffer().then(e=>{if(this._socket.destroyed){let e=Error("The socket was closed while the blob was being read");process.nextTick(v,this,e,n);return}this._bufferedBytes-=i[f];let r=p(e);t?this.dispatch(r,t,i,n):(this._state=0,this.sendFrame(y.frame(r,i),n),this.dequeue())}).catch(e=>{process.nextTick(b,this,e,n)})}dispatch(e,t,i,n){if(!t){this.sendFrame(y.frame(e,i),n);return}let r=this._extensions[s.extensionName];this._bufferedBytes+=i[f],this._state=1,r.compress(e,i.fin,(e,t)=>{if(this._socket.destroyed){v(this,Error("The socket was closed while data was being compressed"),n);return}this._bufferedBytes-=i[f],this._state=0,i.readOnly=!1,this.sendFrame(y.frame(t,i),n),this.dequeue()})}dequeue(){for(;0===this._state&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][f],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][f],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}function v(e,t,i){"function"==typeof i&&i(t);for(let i=0;i<e._queue.length;i++){let n=e._queue[i],r=n[n.length-1];"function"==typeof r&&r(t)}}function b(e,t,i){v(e,t,i),e.onerror(t)}e.exports=y},10723:(e,t,i)=>{"use strict";let{Duplex:n}=i(76162);function r(e){e.emit("close")}function a(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(e){this.removeListener("error",s),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let i=!0,o=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t,i){let n=!i&&o._readableState.objectMode?t.toString():t;o.push(n)||e.pause()}),e.once("error",function(e){o.destroyed||(i=!1,o.destroy(e))}),e.once("close",function(){o.destroyed||o.push(null)}),o._destroy=function(t,n){if(e.readyState===e.CLOSED){n(t),process.nextTick(r,o);return}let a=!1;e.once("error",function(e){a=!0,n(e)}),e.once("close",function(){a||n(t),process.nextTick(r,o)}),i&&e.terminate()},o._final=function(t){if(e.readyState===e.CONNECTING){e.once("open",function(){o._final(t)});return}null!==e._socket&&(e._socket._writableState.finished?(t(),o._readableState.endEmitted&&o.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},o._read=function(){e.isPaused&&e.resume()},o._write=function(t,i,n){if(e.readyState===e.CONNECTING){e.once("open",function(){o._write(t,i,n)});return}e.send(t,n)},o.on("end",a),o.on("error",s),o}},13352:(e,t,i)=>{"use strict";let{tokenChars:n}=i(10603);e.exports={parse:function(e){let t=new Set,i=-1,r=-1,a=0;for(;a<e.length;a++){let s=e.charCodeAt(a);if(-1===r&&1===n[s])-1===i&&(i=a);else if(0!==a&&(32===s||9===s))-1===r&&-1!==i&&(r=a);else if(44===s){if(-1===i)throw SyntaxError(`Unexpected character at index ${a}`);-1===r&&(r=a);let n=e.slice(i,r);if(t.has(n))throw SyntaxError(`The "${n}" subprotocol is duplicated`);t.add(n),i=r=-1}else throw SyntaxError(`Unexpected character at index ${a}`)}if(-1===i||-1!==r)throw SyntaxError("Unexpected end of input");let s=e.slice(i,a);if(t.has(s))throw SyntaxError(`The "${s}" subprotocol is duplicated`);return t.add(s),t}}},10603:(e,t,i)=>{"use strict";let{isUtf8:n}=i(78893),{hasBlob:r}=i(27565);function a(e){let t=e.length,i=0;for(;i<t;)if((128&e[i])==0)i++;else if((224&e[i])==192){if(i+1===t||(192&e[i+1])!=128||(254&e[i])==192)return!1;i+=2}else if((240&e[i])==224){if(i+2>=t||(192&e[i+1])!=128||(192&e[i+2])!=128||224===e[i]&&(224&e[i+1])==128||237===e[i]&&(224&e[i+1])==160)return!1;i+=3}else{if((248&e[i])!=240||i+3>=t||(192&e[i+1])!=128||(192&e[i+2])!=128||(192&e[i+3])!=128||240===e[i]&&(240&e[i+1])==128||244===e[i]&&e[i+1]>143||e[i]>244)return!1;i+=4}return!0}if(e.exports={isBlob:function(e){return r&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&("Blob"===e[Symbol.toStringTag]||"File"===e[Symbol.toStringTag])},isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:a,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},n)e.exports.isValidUTF8=function(e){return e.length<24?a(e):n(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=i(93739);e.exports.isValidUTF8=function(e){return e.length<32?a(e):t(e)}}catch(e){}},43167:(e,t,i)=>{"use strict";let n=i(17702),r=i(32615),{Duplex:a}=i(76162),{createHash:s}=i(84770),o=i(28337),l=i(62488),c=i(13352),u=i(55555),{GUID:d,kWebSocket:h}=i(27565),p=/^[+/0-9A-Za-z]{22}==$/;class f extends n{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:u,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=r.createServer((e,t)=>{let i=r.STATUS_CODES[426];t.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),t.end(i)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(let i of Object.keys(t))e.on(i,t[i]);return function(){for(let i of Object.keys(t))e.removeListener(i,t[i])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,i,n)=>{this.handleUpgrade(t,i,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state){e&&this.once("close",()=>{e(Error("The server is not running"))}),process.nextTick(m,this);return}if(e&&this.once("close",e),1!==this._state){if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(m,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{m(this)})}}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,i,n){t.on("error",g);let r=e.headers["sec-websocket-key"],a=e.headers.upgrade,s=+e.headers["sec-websocket-version"];if("GET"!==e.method){v(this,e,t,405,"Invalid HTTP method");return}if(void 0===a||"websocket"!==a.toLowerCase()){v(this,e,t,400,"Invalid Upgrade header");return}if(void 0===r||!p.test(r)){v(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(8!==s&&13!==s){v(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){y(t,400);return}let u=e.headers["sec-websocket-protocol"],d=new Set;if(void 0!==u)try{d=c.parse(u)}catch(i){v(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let h=e.headers["sec-websocket-extensions"],f={};if(this.options.perMessageDeflate&&void 0!==h){let i=new l(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let e=o.parse(h);e[l.extensionName]&&(i.accept(e[l.extensionName]),f[l.extensionName]=i)}catch(i){v(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let a={origin:e.headers[`${8===s?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length){this.options.verifyClient(a,(a,s,o,l)=>{if(!a)return y(t,s||401,o,l);this.completeUpgrade(f,r,d,e,t,i,n)});return}if(!this.options.verifyClient(a))return y(t,401)}this.completeUpgrade(f,r,d,e,t,i,n)}completeUpgrade(e,t,i,n,r,a,c){if(!r.readable||!r.writable)return r.destroy();if(r[h])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return y(r,503);let u=s("sha1").update(t+d).digest("base64"),p=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${u}`],f=new this.options.WebSocket(null,void 0,this.options);if(i.size){let e=this.options.handleProtocols?this.options.handleProtocols(i,n):i.values().next().value;e&&(p.push(`Sec-WebSocket-Protocol: ${e}`),f._protocol=e)}if(e[l.extensionName]){let t=e[l.extensionName].params,i=o.format({[l.extensionName]:[t]});p.push(`Sec-WebSocket-Extensions: ${i}`),f._extensions=e}this.emit("headers",p,n),r.write(p.concat("\r\n").join("\r\n")),r.removeListener("error",g),f.setSocket(r,a,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(f),f.on("close",()=>{this.clients.delete(f),this._shouldEmitClose&&!this.clients.size&&process.nextTick(m,this)})),c(f,n)}}function m(e){e._state=2,e.emit("close")}function g(){this.destroy()}function y(e,t,i,n){i=i||r.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(i),...n},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${r.STATUS_CODES[t]}\r
`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+i)}function v(e,t,i,n,r){if(e.listenerCount("wsClientError")){let n=Error(r);Error.captureStackTrace(n,v),e.emit("wsClientError",n,i,t)}else y(i,n,r)}e.exports=f},55555:(e,t,i)=>{"use strict";let n=i(17702),r=i(35240),a=i(32615),s=i(98216),o=i(82452),{randomBytes:l,createHash:c}=i(84770),{Duplex:u,Readable:d}=i(76162),{URL:h}=i(17360),p=i(62488),f=i(66374),m=i(75095),{isBlob:g}=i(10603),{BINARY_TYPES:y,EMPTY_BUFFER:v,GUID:b,kForOnEventAttribute:w,kListener:x,kStatusCode:k,kWebSocket:S,NOOP:_}=i(27565),{EventTarget:{addEventListener:R,removeEventListener:E}}=i(46773),{format:T,parse:C}=i(28337),{toBuffer:P}=i(6901),A=Symbol("kAborted"),I=[8,13],O=["CONNECTING","OPEN","CLOSING","CLOSED"],j=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class N extends n{constructor(e,t,i){super(),this._binaryType=y[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=v,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=N.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(i=t,t=[]):t=[t]),function e(t,i,n,s){let o,u,d,f;let m={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:I[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...s,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=m.autoPong,!I.includes(m.protocolVersion))throw RangeError(`Unsupported protocol version: ${m.protocolVersion} (supported versions: ${I.join(", ")})`);if(i instanceof h)o=i;else try{o=new h(i)}catch(e){throw SyntaxError(`Invalid URL: ${i}`)}"http:"===o.protocol?o.protocol="ws:":"https:"===o.protocol&&(o.protocol="wss:"),t._url=o.href;let g="wss:"===o.protocol,y="ws+unix:"===o.protocol;if("ws:"===o.protocol||g||y?y&&!o.pathname?u="The URL's pathname is empty":o.hash&&(u="The URL contains a fragment identifier"):u='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',u){let e=SyntaxError(u);if(0===t._redirects)throw e;L(t,e);return}let v=g?443:80,w=l(16).toString("base64"),x=g?r.request:a.request,k=new Set;if(m.createConnection=m.createConnection||(g?U:D),m.defaultPort=m.defaultPort||v,m.port=o.port||v,m.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,m.headers={...m.headers,"Sec-WebSocket-Version":m.protocolVersion,"Sec-WebSocket-Key":w,Connection:"Upgrade",Upgrade:"websocket"},m.path=o.pathname+o.search,m.timeout=m.handshakeTimeout,m.perMessageDeflate&&(d=new p(!0!==m.perMessageDeflate?m.perMessageDeflate:{},!1,m.maxPayload),m.headers["Sec-WebSocket-Extensions"]=T({[p.extensionName]:d.offer()})),n.length){for(let e of n){if("string"!=typeof e||!j.test(e)||k.has(e))throw SyntaxError("An invalid or duplicated subprotocol was specified");k.add(e)}m.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(m.origin&&(m.protocolVersion<13?m.headers["Sec-WebSocket-Origin"]=m.origin:m.headers.Origin=m.origin),(o.username||o.password)&&(m.auth=`${o.username}:${o.password}`),y){let e=m.path.split(":");m.socketPath=e[0],m.path=e[1]}if(m.followRedirects){if(0===t._redirects){t._originalIpc=y,t._originalSecure=g,t._originalHostOrSocketPath=y?m.socketPath:o.host;let e=s&&s.headers;if(s={...s,headers:{}},e)for(let[t,i]of Object.entries(e))s.headers[t.toLowerCase()]=i}else if(0===t.listenerCount("redirect")){let e=y?!!t._originalIpc&&m.socketPath===t._originalHostOrSocketPath:!t._originalIpc&&o.host===t._originalHostOrSocketPath;e&&(!t._originalSecure||g)||(delete m.headers.authorization,delete m.headers.cookie,e||delete m.headers.host,m.auth=void 0)}m.auth&&!s.headers.authorization&&(s.headers.authorization="Basic "+Buffer.from(m.auth).toString("base64")),f=t._req=x(m),t._redirects&&t.emit("redirect",t.url,f)}else f=t._req=x(m);m.timeout&&f.on("timeout",()=>{q(t,f,"Opening handshake has timed out")}),f.on("error",e=>{null===f||f[A]||(f=t._req=null,L(t,e))}),f.on("response",r=>{let a=r.headers.location,o=r.statusCode;if(a&&m.followRedirects&&o>=300&&o<400){let r;if(++t._redirects>m.maxRedirects){q(t,f,"Maximum redirects exceeded");return}f.abort();try{r=new h(a,i)}catch(e){L(t,SyntaxError(`Invalid URL: ${a}`));return}e(t,r,n,s)}else t.emit("unexpected-response",f,r)||q(t,f,`Unexpected server response: ${r.statusCode}`)}),f.on("upgrade",(e,i,n)=>{let r;if(t.emit("upgrade",e),t.readyState!==N.CONNECTING)return;f=t._req=null;let a=e.headers.upgrade;if(void 0===a||"websocket"!==a.toLowerCase()){q(t,i,"Invalid Upgrade header");return}let s=c("sha1").update(w+b).digest("base64");if(e.headers["sec-websocket-accept"]!==s){q(t,i,"Invalid Sec-WebSocket-Accept header");return}let o=e.headers["sec-websocket-protocol"];if(void 0!==o?k.size?k.has(o)||(r="Server sent an invalid subprotocol"):r="Server sent a subprotocol but none was requested":k.size&&(r="Server sent no subprotocol"),r){q(t,i,r);return}o&&(t._protocol=o);let l=e.headers["sec-websocket-extensions"];if(void 0!==l){let e;if(!d){q(t,i,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}try{e=C(l)}catch(e){q(t,i,"Invalid Sec-WebSocket-Extensions header");return}let n=Object.keys(e);if(1!==n.length||n[0]!==p.extensionName){q(t,i,"Server indicated an extension that was not requested");return}try{d.accept(e[p.extensionName])}catch(e){q(t,i,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[p.extensionName]=d}t.setSocket(i,n,{allowSynchronousEvents:m.allowSynchronousEvents,generateMask:m.generateMask,maxPayload:m.maxPayload,skipUTF8Validation:m.skipUTF8Validation})}),m.finishRequest?m.finishRequest(f,t):f.end()}(this,e,t,i)):(this._autoPong=i.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){y.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,i){let n=new f({allowSynchronousEvents:i.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation}),r=new m(e,this._extensions,i.generateMask);this._receiver=n,this._sender=r,this._socket=e,n[S]=this,r[S]=this,e[S]=this,n.on("conclude",F),n.on("drain",$),n.on("error",B),n.on("message",z),n.on("ping",V),n.on("pong",W),r.onerror=G,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",Y),e.on("data",X),e.on("end",Q),e.on("error",Z),this._readyState=N.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=N.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[p.extensionName]&&this._extensions[p.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=N.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==N.CLOSED){if(this.readyState===N.CONNECTING){q(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===N.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=N.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),J(this)}}pause(){this.readyState!==N.CONNECTING&&this.readyState!==N.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,i){if(this.readyState===N.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN){M(this,e,i);return}void 0===t&&(t=!this._isServer),this._sender.ping(e||v,t,i)}pong(e,t,i){if(this.readyState===N.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN){M(this,e,i);return}void 0===t&&(t=!this._isServer),this._sender.pong(e||v,t,i)}resume(){this.readyState!==N.CONNECTING&&this.readyState!==N.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,i){if(this.readyState===N.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(i=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN){M(this,e,i);return}let n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[p.extensionName]||(n.compress=!1),this._sender.send(e||v,n,i)}terminate(){if(this.readyState!==N.CLOSED){if(this.readyState===N.CONNECTING){q(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=N.CLOSING,this._socket.destroy())}}}function L(e,t){e._readyState=N.CLOSING,e._errorEmitted=!0,e.emit("error",t),e.emitClose()}function D(e){return e.path=e.socketPath,s.connect(e)}function U(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=s.isIP(e.host)?"":e.host),o.connect(e)}function q(e,t,i){e._readyState=N.CLOSING;let n=Error(i);Error.captureStackTrace(n,q),t.setHeader?(t[A]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(L,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function M(e,t,i){if(t){let i=g(t)?t.size:P(t).length;e._socket?e._sender._bufferedBytes+=i:e._bufferedAmount+=i}if(i){let t=Error(`WebSocket is not open: readyState ${e.readyState} (${O[e.readyState]})`);process.nextTick(i,t)}}function F(e,t){let i=this[S];i._closeFrameReceived=!0,i._closeMessage=t,i._closeCode=e,void 0!==i._socket[S]&&(i._socket.removeListener("data",X),process.nextTick(H,i._socket),1005===e?i.close():i.close(e,t))}function $(){let e=this[S];e.isPaused||e._socket.resume()}function B(e){let t=this[S];void 0!==t._socket[S]&&(t._socket.removeListener("data",X),process.nextTick(H,t._socket),t.close(e[k])),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e))}function K(){this[S].emitClose()}function z(e,t){this[S].emit("message",e,t)}function V(e){let t=this[S];t._autoPong&&t.pong(e,!this._isServer,_),t.emit("ping",e)}function W(e){this[S].emit("pong",e)}function H(e){e.resume()}function G(e){let t=this[S];t.readyState===N.CLOSED||(t.readyState===N.OPEN&&(t._readyState=N.CLOSING,J(t)),this._socket.end(),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e)))}function J(e){e._closeTimer=setTimeout(e._socket.destroy.bind(e._socket),3e4)}function Y(){let e;let t=this[S];this.removeListener("close",Y),this.removeListener("data",X),this.removeListener("end",Q),t._readyState=N.CLOSING,this._readableState.endEmitted||t._closeFrameReceived||t._receiver._writableState.errorEmitted||null===(e=t._socket.read())||t._receiver.write(e),t._receiver.end(),this[S]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",K),t._receiver.on("finish",K))}function X(e){this[S]._receiver.write(e)||this.pause()}function Q(){let e=this[S];e._readyState=N.CLOSING,e._receiver.end(),this.end()}function Z(){let e=this[S];this.removeListener("error",Z),this.on("error",_),e&&(e._readyState=N.CLOSING,this.destroy())}Object.defineProperty(N,"CONNECTING",{enumerable:!0,value:O.indexOf("CONNECTING")}),Object.defineProperty(N.prototype,"CONNECTING",{enumerable:!0,value:O.indexOf("CONNECTING")}),Object.defineProperty(N,"OPEN",{enumerable:!0,value:O.indexOf("OPEN")}),Object.defineProperty(N.prototype,"OPEN",{enumerable:!0,value:O.indexOf("OPEN")}),Object.defineProperty(N,"CLOSING",{enumerable:!0,value:O.indexOf("CLOSING")}),Object.defineProperty(N.prototype,"CLOSING",{enumerable:!0,value:O.indexOf("CLOSING")}),Object.defineProperty(N,"CLOSED",{enumerable:!0,value:O.indexOf("CLOSED")}),Object.defineProperty(N.prototype,"CLOSED",{enumerable:!0,value:O.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(N.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(N.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[w])return t[x];return null},set(t){for(let t of this.listeners(e))if(t[w]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[w]:!0})}})}),N.prototype.addEventListener=R,N.prototype.removeEventListener=E,e.exports=N},10534:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},71912:(e,t,i)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var i=0,r=arguments.length;i<r;i++)t.push(arguments[i]);return t}function r(e,t,i,n){if(!(this instanceof r))return new r(e,t,i,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,i?(i.prev=this,this.next=i):this.next=null}e.exports=n,n.Node=r,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,i=e.prev;return t&&(t.prev=i),i&&(i.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=i),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=arguments[t],this.tail=new r(e,this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length},n.prototype.unshift=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=arguments[t],this.head=new r(e,null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var i=this.head,n=0;null!==i;n++)e.call(t,i.value,n,this),i=i.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var i=this.tail,n=this.length-1;null!==i;n--)e.call(t,i.value,n,this),i=i.prev},n.prototype.get=function(e){for(var t=0,i=this.head;null!==i&&t<e;t++)i=i.next;if(t===e&&null!==i)return i.value},n.prototype.getReverse=function(e){for(var t=0,i=this.tail;null!==i&&t<e;t++)i=i.prev;if(t===e&&null!==i)return i.value},n.prototype.map=function(e,t){t=t||this;for(var i=new n,r=this.head;null!==r;)i.push(e.call(t,r.value,this)),r=r.next;return i},n.prototype.mapReverse=function(e,t){t=t||this;for(var i=new n,r=this.tail;null!==r;)i.push(e.call(t,r.value,this)),r=r.prev;return i},n.prototype.reduce=function(e,t){var i,n=this.head;if(arguments.length>1)i=t;else if(this.head)n=this.head.next,i=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var r=0;null!==n;r++)i=e(i,n.value,r),n=n.next;return i},n.prototype.reduceReverse=function(e,t){var i,n=this.tail;if(arguments.length>1)i=t;else if(this.tail)n=this.tail.prev,i=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var r=this.length-1;null!==n;r--)i=e(i,n.value,r),n=n.prev;return i},n.prototype.toArray=function(){for(var e=Array(this.length),t=0,i=this.head;null!==i;t++)e[t]=i.value,i=i.next;return e},n.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,i=this.tail;null!==i;t++)e[t]=i.value,i=i.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var i=new n;if(t<e||t<0)return i;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,a=this.head;null!==a&&r<e;r++)a=a.next;for(;null!==a&&r<t;r++,a=a.next)i.push(a.value);return i},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var i=new n;if(t<e||t<0)return i;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,a=this.tail;null!==a&&r>t;r--)a=a.prev;for(;null!==a&&r>e;r--,a=a.prev)i.push(a.value);return i},n.prototype.splice=function(e,t,...i){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,a=this.head;null!==a&&n<e;n++)a=a.next;for(var s=[],n=0;a&&n<t;n++)s.push(a.value),a=this.removeNode(a);null===a&&(a=this.tail),a!==this.head&&a!==this.tail&&(a=a.prev);for(var n=0;n<i.length;n++)a=function(e,t,i){var n=t===e.head?new r(i,null,t,e):new r(i,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}(this,a,i[n]);return s},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,i=e;null!==i;i=i.prev){var n=i.prev;i.prev=i.next,i.next=n}return this.head=t,this.tail=e,this};try{i(10534)(n)}catch(e){}},9362:(e,t,i)=>{"use strict";i.d(t,{a:()=>nt});var n,r,a,s,o,l,c,u,d,h,p,f,m,g,y,v,b,w,x,k={InvalidSecretKey:"clerk_key_invalid"},S={TokenExpired:"token-expired",TokenInvalid:"token-invalid",TokenInvalidAlgorithm:"token-invalid-algorithm",TokenInvalidAuthorizedParties:"token-invalid-authorized-parties",TokenInvalidSignature:"token-invalid-signature",TokenNotActiveYet:"token-not-active-yet",TokenIatInTheFuture:"token-iat-in-the-future",TokenVerificationFailed:"token-verification-failed",InvalidSecretKey:"secret-key-invalid",LocalJWKMissing:"jwk-local-missing",RemoteJWKFailedToLoad:"jwk-remote-failed-to-load",JWKFailedToResolve:"jwk-failed-to-resolve",JWKKidMismatch:"jwk-kid-mismatch"},_={ContactSupport:"Contact support@clerk.com",EnsureClerkJWT:"Make sure that this is a valid Clerk generate JWT.",SetClerkJWTKey:"Set the CLERK_JWT_KEY environment variable.",SetClerkSecretKey:"Set the CLERK_SECRET_KEY environment variable."},R=class e extends Error{constructor({action:t,message:i,reason:n}){super(i),Object.setPrototypeOf(this,e.prototype),this.reason=n,this.message=i,this.action=t}getFullMessage(){return`${[this.message,this.action].filter(e=>e).join(" ")} (reason=${this.reason}, token-carrier=${this.tokenCarrier})`}},E=class extends Error{},T=i(6005),C=e=>"undefined"!=typeof atob&&"function"==typeof atob?atob(e):"undefined"!=typeof global&&global.Buffer?new global.Buffer(e,"base64").toString():e,P=(Object.getOwnPropertyDescriptor,Object.getOwnPropertyNames,Object.prototype.hasOwnProperty,e=>{throw TypeError(e)}),A=(e,t,i)=>t.has(e)||P("Cannot "+i),I=(e,t,i)=>(A(e,t,"read from private field"),i?i.call(e):t.get(e)),O=(e,t,i)=>t.has(e)?P("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),j=(e,t,i,n)=>(A(e,t,"write to private field"),n?n.call(e,i):t.set(e,i),i),N=(e,t,i)=>(A(e,t,"access private method"),i),L=fetch.bind(globalThis),D={crypto:T.webcrypto,fetch:L,AbortController:globalThis.AbortController,Blob:globalThis.Blob,FormData:globalThis.FormData,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response},U={parse:(e,t)=>(function(e,t,i={}){if(!t.codes){t.codes={};for(let e=0;e<t.chars.length;++e)t.codes[t.chars[e]]=e}if(!i.loose&&e.length*t.bits&7)throw SyntaxError("Invalid padding");let n=e.length;for(;"="===e[n-1];)if(--n,!i.loose&&!((e.length-n)*t.bits&7))throw SyntaxError("Invalid padding");let r=new(i.out??Uint8Array)(n*t.bits/8|0),a=0,s=0,o=0;for(let i=0;i<n;++i){let n=t.codes[e[i]];if(void 0===n)throw SyntaxError("Invalid character "+e[i]);s=s<<t.bits|n,(a+=t.bits)>=8&&(a-=8,r[o++]=255&s>>a)}if(a>=t.bits||255&s<<8-a)throw SyntaxError("Unexpected end of data");return r})(e,q,t),stringify:(e,t)=>(function(e,t,i={}){let{pad:n=!0}=i,r=(1<<t.bits)-1,a="",s=0,o=0;for(let i=0;i<e.length;++i)for(o=o<<8|255&e[i],s+=8;s>t.bits;)s-=t.bits,a+=t.chars[r&o>>s];if(s&&(a+=t.chars[r&o<<t.bits-s]),n)for(;a.length*t.bits&7;)a+="=";return a})(e,q,t)},q={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6},M={RS256:"SHA-256",RS384:"SHA-384",RS512:"SHA-512"},F="RSASSA-PKCS1-v1_5",$={RS256:F,RS384:F,RS512:F},B=Object.keys(M);function K(e){let t=M[e],i=$[e];if(!t||!i)throw Error(`Unsupported algorithm ${e}, expected one of ${B.join(",")}.`);return{hash:{name:M[e]},name:$[e]}}var z=e=>Array.isArray(e)&&e.length>0&&e.every(e=>"string"==typeof e),V=(e,t)=>{let i=[t].flat().filter(e=>!!e),n=[e].flat().filter(e=>!!e);if(i.length>0&&n.length>0){if("string"==typeof e){if(!i.includes(e))throw new R({action:_.EnsureClerkJWT,reason:S.TokenVerificationFailed,message:`Invalid JWT audience claim (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(i)}".`})}else if(z(e)&&!e.some(e=>i.includes(e)))throw new R({action:_.EnsureClerkJWT,reason:S.TokenVerificationFailed,message:`Invalid JWT audience claim array (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(i)}".`})}},W=e=>{if(void 0!==e&&"JWT"!==e)throw new R({action:_.EnsureClerkJWT,reason:S.TokenInvalid,message:`Invalid JWT type ${JSON.stringify(e)}. Expected "JWT".`})},H=e=>{if(!B.includes(e))throw new R({action:_.EnsureClerkJWT,reason:S.TokenInvalidAlgorithm,message:`Invalid JWT algorithm ${JSON.stringify(e)}. Supported: ${B}.`})},G=e=>{if("string"!=typeof e)throw new R({action:_.EnsureClerkJWT,reason:S.TokenVerificationFailed,message:`Subject claim (sub) is required and must be a string. Received ${JSON.stringify(e)}.`})},J=(e,t)=>{if(e&&t&&0!==t.length&&!t.includes(e))throw new R({reason:S.TokenInvalidAuthorizedParties,message:`Invalid JWT Authorized party claim (azp) ${JSON.stringify(e)}. Expected "${t}".`})},Y=(e,t)=>{if("number"!=typeof e)throw new R({action:_.EnsureClerkJWT,reason:S.TokenVerificationFailed,message:`Invalid JWT expiry date claim (exp) ${JSON.stringify(e)}. Expected number.`});let i=new Date(Date.now()),n=new Date(0);if(n.setUTCSeconds(e),n.getTime()<=i.getTime()-t)throw new R({reason:S.TokenExpired,message:`JWT is expired. Expiry date: ${n.toUTCString()}, Current date: ${i.toUTCString()}.`})},X=(e,t)=>{if(void 0===e)return;if("number"!=typeof e)throw new R({action:_.EnsureClerkJWT,reason:S.TokenVerificationFailed,message:`Invalid JWT not before date claim (nbf) ${JSON.stringify(e)}. Expected number.`});let i=new Date(Date.now()),n=new Date(0);if(n.setUTCSeconds(e),n.getTime()>i.getTime()+t)throw new R({reason:S.TokenNotActiveYet,message:`JWT cannot be used prior to not before date claim (nbf). Not before date: ${n.toUTCString()}; Current date: ${i.toUTCString()};`})},Q=(e,t)=>{if(void 0===e)return;if("number"!=typeof e)throw new R({action:_.EnsureClerkJWT,reason:S.TokenVerificationFailed,message:`Invalid JWT issued at date claim (iat) ${JSON.stringify(e)}. Expected number.`});let i=new Date(Date.now()),n=new Date(0);if(n.setUTCSeconds(e),n.getTime()>i.getTime()+t)throw new R({reason:S.TokenIatInTheFuture,message:`JWT issued at date claim (iat) is in the future. Issued at date: ${n.toUTCString()}; Current date: ${i.toUTCString()};`})};function Z(e,t,i){if("object"==typeof e)return D.crypto.subtle.importKey("jwk",e,t,!1,[i]);let n=function(e){let t=C(e.replace(/-----BEGIN.*?-----/g,"").replace(/-----END.*?-----/g,"").replace(/\s/g,"")),i=new Uint8Array(new ArrayBuffer(t.length));for(let e=0,n=t.length;e<n;e++)i[e]=t.charCodeAt(e);return i}(e),r="sign"===i?"pkcs8":"spki";return D.crypto.subtle.importKey(r,n,t,!1,[i])}async function ee(e,t){let{header:i,signature:n,raw:r}=e,a=new TextEncoder().encode([r.header,r.payload].join(".")),s=K(i.alg);try{let e=await Z(t,s,"verify");return{data:await D.crypto.subtle.verify(s.name,e,n,a)}}catch(e){return{errors:[new R({reason:S.TokenInvalidSignature,message:e?.message})]}}}function et(e){let t=(e||"").toString().split(".");if(3!==t.length)return{errors:[new R({reason:S.TokenInvalid,message:"Invalid JWT form. A JWT consists of three parts separated by dots."})]};let[i,n,r]=t,a=new TextDecoder,s=JSON.parse(a.decode(U.parse(i,{loose:!0})));return{data:{header:s,payload:JSON.parse(a.decode(U.parse(n,{loose:!0}))),signature:U.parse(r,{loose:!0}),raw:{header:i,payload:n,signature:r,text:e}}}}async function ei(e,t){let{audience:i,authorizedParties:n,clockSkewInMs:r,key:a}=t,s=r||5e3,{data:o,errors:l}=et(e);if(l)return{errors:l};let{header:c,payload:u}=o;try{let{typ:e,alg:t}=c;W(e),H(t);let{azp:r,sub:a,aud:o,iat:l,exp:d,nbf:h}=u;G(a),V([o],[i]),J(r,n),Y(d,s),X(h,s),Q(l,s)}catch(e){return{errors:[e]}}let{data:d,errors:h}=await ee(o,a);return h?{errors:[new R({action:_.EnsureClerkJWT,reason:S.TokenVerificationFailed,message:`Error verifying JWT signature. ${h[0]}`})]}:d?{data:u}:{errors:[new R({reason:S.TokenInvalidSignature,message:"JWT signature is invalid."})]}}function en(e){var t,i,n,r,a;return{code:e.code,message:e.message,longMessage:e.long_message,meta:{paramName:null==(t=null==e?void 0:e.meta)?void 0:t.param_name,sessionId:null==(i=null==e?void 0:e.meta)?void 0:i.session_id,emailAddresses:null==(n=null==e?void 0:e.meta)?void 0:n.email_addresses,identifiers:null==(r=null==e?void 0:e.meta)?void 0:r.identifiers,zxcvbn:null==(a=null==e?void 0:e.meta)?void 0:a.zxcvbn}}}var er=class e extends Error{constructor(t,{data:i,status:n,clerkTraceId:r}){super(t),this.toString=()=>{let e=`[${this.name}]
Message:${this.message}
Status:${this.status}
Serialized errors: ${this.errors.map(e=>JSON.stringify(e))}`;return this.clerkTraceId&&(e+=`
Clerk Trace ID: ${this.clerkTraceId}`),e},Object.setPrototypeOf(this,e.prototype),this.status=n,this.message=t,this.clerkTraceId=r,this.clerkError=!0,this.errors=function(e=[]){return e.length>0?e.map(en):[]}(i)}},ea=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"}),es=i(39);async function eo(e,t=1,i=5){try{return await e()}catch(r){var n;if(t>=i)throw r;return await (n=2**t*100,new Promise(e=>setTimeout(e,n))),eo(e,t+1,i)}}var el=e=>"undefined"!=typeof btoa&&"function"==typeof btoa?btoa(e):"undefined"!=typeof global&&global.Buffer?new global.Buffer(e).toString("base64"):e,ec=[".lcl.dev",".lclstage.dev",".lclclerk.com"],eu=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],ed=[".lcl.dev","lclstage.dev",".lclclerk.com",".accounts.lclclerk.com"],eh=[".accountsstage.dev"],ep="https://api.clerk.com",ef="pk_live_";function em(e,t={}){if(!(e=e||"")||!function(e){let t=(e=e||"").startsWith(ef)||e.startsWith("pk_test_"),i=C(e.split("_")[2]||"").endsWith("$");return t&&i}(e)){if(t.fatal)throw Error("Publishable key not valid.");return null}let i=e.startsWith(ef)?"production":"development",n=C(e.split("_")[2]);return n=n.slice(0,-1),t.proxyUrl?n=t.proxyUrl:"development"!==i&&t.domain&&(n=`clerk.${t.domain}`),{instanceType:i,frontendApi:n}}async function eg(e,t=globalThis.crypto.subtle){let i=new TextEncoder().encode(e);return el(String.fromCharCode(...new Uint8Array(await t.digest("sha-1",i)))).replace(/\+/gi,"-").replace(/\//gi,"_").substring(0,8)}var ey=(e,t)=>`${e}_${t}`,ev=()=>!1,eb=()=>{try{return!0}catch(e){}return!1},ew=new Set,ex=(e,t,i)=>{let n=ev()||eb(),r=null!=i?i:e;ew.has(r)||n||(ew.add(r),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))},ek={veryStrict:{afterMinutes:10,level:"multiFactor"},strict:{afterMinutes:10,level:"secondFactor"},moderate:{afterMinutes:60,level:"secondFactor"},lax:{afterMinutes:1440,level:"secondFactor"}},eS=new Set(["firstFactor","secondFactor","multiFactor"]),e_=new Set(["veryStrict","strict","moderate","lax"]),eR=e=>"number"==typeof e&&e>0,eE=e=>eS.has(e),eT=e=>e_.has(e),eC=(e,t)=>{let{orgId:i,orgRole:n,orgPermissions:r}=t;return(e.role||e.permission)&&i&&n&&r?e.permission?r.includes(e.permission):e.role?n===e.role:null:null},eP=e=>!!("string"==typeof e&&eT(e)||"object"==typeof e&&eE(e.level)&&eR(e.afterMinutes))&&(e=>"string"==typeof e?ek[e]:e).bind(null,e),eA=(e,{__experimental_factorVerificationAge:t})=>{if(!e.__experimental_reverification||!t)return null;let i=eP(e.__experimental_reverification);if(!i)return null;let{level:n,afterMinutes:r}=i(),[a,s]=t,o=-1!==a?r>a:null,l=-1!==s?r>s:null;switch(n){case"firstFactor":return o;case"secondFactor":return -1!==s?l:o;case"multiFactor":return -1===s?o:o&&l}},eI=e=>t=>{if(!e.userId)return!1;let i=eC(t,e),n=eA(t,e);return[i,n].some(e=>null===e)?[i,n].some(e=>!0===e):[i,n].every(e=>!0===e)},eO=i(38829);function ej(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function eN(e){return e&&e.sensitive?"":"i"}function eL(e,t){try{var i,n,r,a,s;return i=[],n=function e(t,i,n){var r;return t instanceof RegExp?function(e,t){if(!t)return e;for(var i=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,r=i.exec(e.source);r;)t.push({name:r[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),r=i.exec(e.source);return e}(t,i):Array.isArray(t)?(r=t.map(function(t){return e(t,i,n).source}),new RegExp("(?:".concat(r.join("|"),")"),eN(n))):function(e,t,i){void 0===i&&(i={});for(var n=i.strict,r=void 0!==n&&n,a=i.start,s=i.end,o=i.encode,l=void 0===o?function(e){return e}:o,c=i.delimiter,u=i.endsWith,d="[".concat(ej(void 0===u?"":u),"]|$"),h="[".concat(ej(void 0===c?"/#?":c),"]"),p=void 0===a||a?"^":"",f=0;f<e.length;f++){var m=e[f];if("string"==typeof m)p+=ej(l(m));else{var g=ej(l(m.prefix)),y=ej(l(m.suffix));if(m.pattern){if(t&&t.push(m),g||y){if("+"===m.modifier||"*"===m.modifier){var v="*"===m.modifier?"?":"";p+="(?:".concat(g,"((?:").concat(m.pattern,")(?:").concat(y).concat(g,"(?:").concat(m.pattern,"))*)").concat(y,")").concat(v)}else p+="(?:".concat(g,"(").concat(m.pattern,")").concat(y,")").concat(m.modifier)}else{if("+"===m.modifier||"*"===m.modifier)throw TypeError('Can not repeat "'.concat(m.name,'" without a prefix and suffix'));p+="(".concat(m.pattern,")").concat(m.modifier)}}else p+="(?:".concat(g).concat(y,")").concat(m.modifier)}}if(void 0===s||s)r||(p+="".concat(h,"?")),p+=i.endsWith?"(?=".concat(d,")"):"$";else{var b=e[e.length-1],w="string"==typeof b?h.indexOf(b[b.length-1])>-1:void 0===b;r||(p+="(?:".concat(h,"(?=").concat(d,"))?")),w||(p+="(?=".concat(h,"|").concat(d,")"))}return new RegExp(p,eN(i))}(function(e,t){void 0===t&&(t={});for(var i=function(e){for(var t=[],i=0;i<e.length;){var n=e[i];if("*"===n||"+"===n||"?"===n){t.push({type:"MODIFIER",index:i,value:e[i++]});continue}if("\\"===n){t.push({type:"ESCAPED_CHAR",index:i++,value:e[i++]});continue}if("{"===n){t.push({type:"OPEN",index:i,value:e[i++]});continue}if("}"===n){t.push({type:"CLOSE",index:i,value:e[i++]});continue}if(":"===n){for(var r="",a=i+1;a<e.length;){var s=e.charCodeAt(a);if(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||95===s){r+=e[a++];continue}break}if(!r)throw TypeError("Missing parameter name at ".concat(i));t.push({type:"NAME",index:i,value:r}),i=a;continue}if("("===n){var o=1,l="",a=i+1;if("?"===e[a])throw TypeError('Pattern cannot start with "?" at '.concat(a));for(;a<e.length;){if("\\"===e[a]){l+=e[a++]+e[a++];continue}if(")"===e[a]){if(0==--o){a++;break}}else if("("===e[a]&&(o++,"?"!==e[a+1]))throw TypeError("Capturing groups are not allowed at ".concat(a));l+=e[a++]}if(o)throw TypeError("Unbalanced pattern at ".concat(i));if(!l)throw TypeError("Missing pattern at ".concat(i));t.push({type:"PATTERN",index:i,value:l}),i=a;continue}t.push({type:"CHAR",index:i,value:e[i++]})}return t.push({type:"END",index:i,value:""}),t}(e),n=t.prefixes,r=void 0===n?"./":n,a=t.delimiter,s=void 0===a?"/#?":a,o=[],l=0,c=0,u="",d=function(e){if(c<i.length&&i[c].type===e)return i[c++].value},h=function(e){var t=d(e);if(void 0!==t)return t;var n=i[c],r=n.type,a=n.index;throw TypeError("Unexpected ".concat(r," at ").concat(a,", expected ").concat(e))},p=function(){for(var e,t="";e=d("CHAR")||d("ESCAPED_CHAR");)t+=e;return t},f=function(e){for(var t=0;t<s.length;t++){var i=s[t];if(e.indexOf(i)>-1)return!0}return!1},m=function(e){var t=o[o.length-1],i=e||(t&&"string"==typeof t?t:"");if(t&&!i)throw TypeError('Must have text between two parameters, missing text after "'.concat(t.name,'"'));return!i||f(i)?"[^".concat(ej(s),"]+?"):"(?:(?!".concat(ej(i),")[^").concat(ej(s),"])+?")};c<i.length;){var g=d("CHAR"),y=d("NAME"),v=d("PATTERN");if(y||v){var b=g||"";-1===r.indexOf(b)&&(u+=b,b=""),u&&(o.push(u),u=""),o.push({name:y||l++,prefix:b,suffix:"",pattern:v||m(b),modifier:d("MODIFIER")||""});continue}var w=g||d("ESCAPED_CHAR");if(w){u+=w;continue}if(u&&(o.push(u),u=""),d("OPEN")){var b=p(),x=d("NAME")||"",k=d("PATTERN")||"",S=p();h("CLOSE"),o.push({name:x||(k?l++:""),pattern:x&&!k?m(b):k,prefix:b,suffix:S,modifier:d("MODIFIER")||""});continue}h("END")}return o}(t,n),i,n)}(e,i,t),r=t,void 0===r&&(r={}),a=r.decode,s=void 0===a?function(e){return e}:a,function(e){var t=n.exec(e);if(!t)return!1;for(var r=t[0],a=t.index,o=Object.create(null),l=1;l<t.length;l++)!function(e){if(void 0!==t[e]){var n=i[e-1];"*"===n.modifier||"+"===n.modifier?o[n.name]=t[e].split(n.prefix+n.suffix).map(function(e){return s(e,n)}):o[n.name]=s(t[e],n)}}(l);return{path:r,index:a,params:o}}}catch(e){throw Error(`Invalid path and options: Consult the documentation of path-to-regexp here: https://github.com/pillarjs/path-to-regexp/tree/6.x
${e.message}`)}}var eD="https://api.clerk.com",eU={Session:"__session",Refresh:"__refresh",ClientUat:"__client_uat",Handshake:"__clerk_handshake",DevBrowser:"__clerk_db_jwt",RedirectCount:"__clerk_redirect_count"},eq={ClerkSynced:"__clerk_synced",ClerkRedirectUrl:"__clerk_redirect_url",DevBrowser:eU.DevBrowser,Handshake:eU.Handshake,HandshakeHelp:"__clerk_help",LegacyDevBrowser:"__dev_session",HandshakeReason:"__clerk_hs_reason"},eM={Attributes:{AuthToken:"__clerkAuthToken",AuthSignature:"__clerkAuthSignature",AuthStatus:"__clerkAuthStatus",AuthReason:"__clerkAuthReason",AuthMessage:"__clerkAuthMessage",ClerkUrl:"__clerkUrl"},Cookies:eU,Headers:{AuthToken:"x-clerk-auth-token",AuthSignature:"x-clerk-auth-signature",AuthStatus:"x-clerk-auth-status",AuthReason:"x-clerk-auth-reason",AuthMessage:"x-clerk-auth-message",ClerkUrl:"x-clerk-clerk-url",EnableDebug:"x-clerk-debug",ClerkRequestData:"x-clerk-request-data",ClerkRedirectTo:"x-clerk-redirect-to",CloudFrontForwardedProto:"cloudfront-forwarded-proto",Authorization:"authorization",ForwardedPort:"x-forwarded-port",ForwardedProto:"x-forwarded-proto",ForwardedHost:"x-forwarded-host",Accept:"accept",Referrer:"referer",UserAgent:"user-agent",Origin:"origin",Host:"host",ContentType:"content-type",SecFetchDest:"sec-fetch-dest",Location:"location",CacheControl:"cache-control"},ContentTypes:{Json:"application/json"},QueryParameters:eq},eF=class{constructor(e){this.request=e}requireId(e){if(!e)throw Error("A valid resource ID is required.")}},e$=RegExp("(?<!:)/{1,}","g");function eB(...e){return e.filter(e=>e).join("/").replace(e$,"/")}var eK="/allowlist_identifiers",ez=class extends eF{async getAllowlistIdentifierList(){return this.request({method:"GET",path:eK,queryParams:{paginated:!0}})}async createAllowlistIdentifier(e){return this.request({method:"POST",path:eK,bodyParams:e})}async deleteAllowlistIdentifier(e){return this.requireId(e),this.request({method:"DELETE",path:eB(eK,e)})}},eV="/clients",eW=class extends eF{async getClientList(e={}){return this.request({method:"GET",path:eV,queryParams:{...e,paginated:!0}})}async getClient(e){return this.requireId(e),this.request({method:"GET",path:eB(eV,e)})}verifyClient(e){return this.request({method:"POST",path:eB(eV,"verify"),bodyParams:{token:e}})}},eH=class extends eF{async deleteDomain(e){return this.request({method:"DELETE",path:eB("/domains",e)})}},eG="/email_addresses",eJ=class extends eF{async getEmailAddress(e){return this.requireId(e),this.request({method:"GET",path:eB(eG,e)})}async createEmailAddress(e){return this.request({method:"POST",path:eG,bodyParams:e})}async updateEmailAddress(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:eB(eG,e),bodyParams:t})}async deleteEmailAddress(e){return this.requireId(e),this.request({method:"DELETE",path:eB(eG,e)})}},eY="/invitations",eX=class extends eF{async getInvitationList(e={}){return this.request({method:"GET",path:eY,queryParams:{...e,paginated:!0}})}async createInvitation(e){return this.request({method:"POST",path:eY,bodyParams:e})}async revokeInvitation(e){return this.requireId(e),this.request({method:"POST",path:eB(eY,e,"revoke")})}},eQ="/organizations",eZ=class extends eF{async getOrganizationList(e){return this.request({method:"GET",path:eQ,queryParams:e})}async createOrganization(e){return this.request({method:"POST",path:eQ,bodyParams:e})}async getOrganization(e){let{includeMembersCount:t}=e,i="organizationId"in e?e.organizationId:e.slug;return this.requireId(i),this.request({method:"GET",path:eB(eQ,i),queryParams:{includeMembersCount:t}})}async updateOrganization(e,t){return this.requireId(e),this.request({method:"PATCH",path:eB(eQ,e),bodyParams:t})}async updateOrganizationLogo(e,t){this.requireId(e);let i=new D.FormData;return i.append("file",t?.file),t?.uploaderUserId&&i.append("uploader_user_id",t?.uploaderUserId),this.request({method:"PUT",path:eB(eQ,e,"logo"),formData:i})}async deleteOrganizationLogo(e){return this.requireId(e),this.request({method:"DELETE",path:eB(eQ,e,"logo")})}async updateOrganizationMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:eB(eQ,e,"metadata"),bodyParams:t})}async deleteOrganization(e){return this.request({method:"DELETE",path:eB(eQ,e)})}async getOrganizationMembershipList(e){let{organizationId:t,limit:i,offset:n}=e;return this.requireId(t),this.request({method:"GET",path:eB(eQ,t,"memberships"),queryParams:{limit:i,offset:n}})}async createOrganizationMembership(e){let{organizationId:t,userId:i,role:n}=e;return this.requireId(t),this.request({method:"POST",path:eB(eQ,t,"memberships"),bodyParams:{userId:i,role:n}})}async updateOrganizationMembership(e){let{organizationId:t,userId:i,role:n}=e;return this.requireId(t),this.request({method:"PATCH",path:eB(eQ,t,"memberships",i),bodyParams:{role:n}})}async updateOrganizationMembershipMetadata(e){let{organizationId:t,userId:i,publicMetadata:n,privateMetadata:r}=e;return this.request({method:"PATCH",path:eB(eQ,t,"memberships",i,"metadata"),bodyParams:{publicMetadata:n,privateMetadata:r}})}async deleteOrganizationMembership(e){let{organizationId:t,userId:i}=e;return this.requireId(t),this.request({method:"DELETE",path:eB(eQ,t,"memberships",i)})}async getOrganizationInvitationList(e){let{organizationId:t,status:i,limit:n,offset:r}=e;return this.requireId(t),this.request({method:"GET",path:eB(eQ,t,"invitations"),queryParams:{status:i,limit:n,offset:r}})}async createOrganizationInvitation(e){let{organizationId:t,...i}=e;return this.requireId(t),this.request({method:"POST",path:eB(eQ,t,"invitations"),bodyParams:{...i}})}async getOrganizationInvitation(e){let{organizationId:t,invitationId:i}=e;return this.requireId(t),this.requireId(i),this.request({method:"GET",path:eB(eQ,t,"invitations",i)})}async revokeOrganizationInvitation(e){let{organizationId:t,invitationId:i,requestingUserId:n}=e;return this.requireId(t),this.request({method:"POST",path:eB(eQ,t,"invitations",i,"revoke"),bodyParams:{requestingUserId:n}})}async getOrganizationDomainList(e){let{organizationId:t,limit:i,offset:n}=e;return this.requireId(t),this.request({method:"GET",path:eB(eQ,t,"domains"),queryParams:{limit:i,offset:n}})}async createOrganizationDomain(e){let{organizationId:t,name:i,enrollmentMode:n,verified:r=!0}=e;return this.requireId(t),this.request({method:"POST",path:eB(eQ,t,"domains"),bodyParams:{name:i,enrollmentMode:n,verified:r}})}async updateOrganizationDomain(e){let{organizationId:t,domainId:i,...n}=e;return this.requireId(t),this.requireId(i),this.request({method:"PATCH",path:eB(eQ,t,"domains",i),bodyParams:n})}async deleteOrganizationDomain(e){let{organizationId:t,domainId:i}=e;return this.requireId(t),this.requireId(i),this.request({method:"DELETE",path:eB(eQ,t,"domains",i)})}},e0="/phone_numbers",e1=class extends eF{async getPhoneNumber(e){return this.requireId(e),this.request({method:"GET",path:eB(e0,e)})}async createPhoneNumber(e){return this.request({method:"POST",path:e0,bodyParams:e})}async updatePhoneNumber(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:eB(e0,e),bodyParams:t})}async deletePhoneNumber(e){return this.requireId(e),this.request({method:"DELETE",path:eB(e0,e)})}},e2="/redirect_urls",e3=class extends eF{async getRedirectUrlList(){return this.request({method:"GET",path:e2,queryParams:{paginated:!0}})}async getRedirectUrl(e){return this.requireId(e),this.request({method:"GET",path:eB(e2,e)})}async createRedirectUrl(e){return this.request({method:"POST",path:e2,bodyParams:e})}async deleteRedirectUrl(e){return this.requireId(e),this.request({method:"DELETE",path:eB(e2,e)})}},e4="/sessions",e5=class extends eF{async getSessionList(e={}){return this.request({method:"GET",path:e4,queryParams:{...e,paginated:!0}})}async getSession(e){return this.requireId(e),this.request({method:"GET",path:eB(e4,e)})}async revokeSession(e){return this.requireId(e),this.request({method:"POST",path:eB(e4,e,"revoke")})}async verifySession(e,t){return this.requireId(e),this.request({method:"POST",path:eB(e4,e,"verify"),bodyParams:{token:t}})}async getToken(e,t){return this.requireId(e),this.request({method:"POST",path:eB(e4,e,"tokens",t||"")})}async refreshSession(e,t){return this.requireId(e),this.request({method:"POST",path:eB(e4,e,"refresh"),bodyParams:t})}},e6="/sign_in_tokens",e8=class extends eF{async createSignInToken(e){return this.request({method:"POST",path:e6,bodyParams:e})}async revokeSignInToken(e){return this.requireId(e),this.request({method:"POST",path:eB(e6,e,"revoke")})}},e9="/users",e7=class extends eF{async getUserList(e={}){let{limit:t,offset:i,orderBy:n,...r}=e,[a,s]=await Promise.all([this.request({method:"GET",path:e9,queryParams:e}),this.getCount(r)]);return{data:a,totalCount:s}}async getUser(e){return this.requireId(e),this.request({method:"GET",path:eB(e9,e)})}async createUser(e){return this.request({method:"POST",path:e9,bodyParams:e})}async updateUser(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:eB(e9,e),bodyParams:t})}async updateUserProfileImage(e,t){this.requireId(e);let i=new D.FormData;return i.append("file",t?.file),this.request({method:"POST",path:eB(e9,e,"profile_image"),formData:i})}async updateUserMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:eB(e9,e,"metadata"),bodyParams:t})}async deleteUser(e){return this.requireId(e),this.request({method:"DELETE",path:eB(e9,e)})}async getCount(e={}){return this.request({method:"GET",path:eB(e9,"count"),queryParams:e})}async getUserOauthAccessToken(e,t){return this.requireId(e),this.request({method:"GET",path:eB(e9,e,"oauth_access_tokens",t),queryParams:{paginated:!0}})}async disableUserMFA(e){return this.requireId(e),this.request({method:"DELETE",path:eB(e9,e,"mfa")})}async getOrganizationMembershipList(e){let{userId:t,limit:i,offset:n}=e;return this.requireId(t),this.request({method:"GET",path:eB(e9,t,"organization_memberships"),queryParams:{limit:i,offset:n}})}async verifyPassword(e){let{userId:t,password:i}=e;return this.requireId(t),this.request({method:"POST",path:eB(e9,t,"verify_password"),bodyParams:{password:i}})}async verifyTOTP(e){let{userId:t,code:i}=e;return this.requireId(t),this.request({method:"POST",path:eB(e9,t,"verify_totp"),bodyParams:{code:i}})}async banUser(e){return this.requireId(e),this.request({method:"POST",path:eB(e9,e,"ban")})}async unbanUser(e){return this.requireId(e),this.request({method:"POST",path:eB(e9,e,"unban")})}async lockUser(e){return this.requireId(e),this.request({method:"POST",path:eB(e9,e,"lock")})}async unlockUser(e){return this.requireId(e),this.request({method:"POST",path:eB(e9,e,"unlock")})}async deleteUserProfileImage(e){return this.requireId(e),this.request({method:"DELETE",path:eB(e9,e,"profile_image")})}},te="/saml_connections",tt=class extends eF{async getSamlConnectionList(e={}){return this.request({method:"GET",path:te,queryParams:e})}async createSamlConnection(e){return this.request({method:"POST",path:te,bodyParams:e})}async getSamlConnection(e){return this.requireId(e),this.request({method:"GET",path:eB(te,e)})}async updateSamlConnection(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:eB(te,e),bodyParams:t})}async deleteSamlConnection(e){return this.requireId(e),this.request({method:"DELETE",path:eB(te,e)})}},ti=class extends eF{async createTestingToken(){return this.request({method:"POST",path:"/testing_tokens"})}},tn=function({packageName:e,customMessages:t}){let i=e,n={...ea,...t};function r(e,t){if(!t)return`${i}: ${e}`;let n=e;for(let i of e.matchAll(/{{([a-zA-Z0-9-_]+)}}/g)){let e=(t[i[1]]||"").toString();n=n.replace(`{{${i[1]}}}`,e)}return`${i}: ${n}`}return{setPackageName({packageName:e}){return"string"==typeof e&&(i=e),this},setMessages({customMessages:e}){return Object.assign(n,e||{}),this},throwInvalidPublishableKeyError(e){throw Error(r(n.InvalidPublishableKeyErrorMessage,e))},throwInvalidProxyUrl(e){throw Error(r(n.InvalidProxyUrlErrorMessage,e))},throwMissingPublishableKeyError(){throw Error(r(n.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw Error(r(n.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(e){throw Error(r(n.MissingClerkProvider,e))},throw(e){throw Error(r(e))}}}({packageName:"@clerk/backend"}),{isDevOrStagingUrl:tr}=function(){let e=new Map;return{isDevOrStagingUrl:t=>{if(!t)return!1;let i="string"==typeof t?t:t.hostname,n=e.get(i);return void 0===n&&(n=eu.some(e=>i.endsWith(e)),e.set(i,n)),n}}}();function ta(e){if(!e||"string"!=typeof e)throw Error("Missing Clerk Secret Key. Go to https://dashboard.clerk.com and get your key for your instance.")}var ts=class e{constructor(e,t,i,n,r){this.id=e,this.identifier=t,this.createdAt=i,this.updatedAt=n,this.invitationId=r}static fromJSON(t){return new e(t.id,t.identifier,t.created_at,t.updated_at,t.invitation_id)}},to=class e{constructor(e,t,i,n,r,a,s,o,l){this.id=e,this.clientId=t,this.userId=i,this.status=n,this.lastActiveAt=r,this.expireAt=a,this.abandonAt=s,this.createdAt=o,this.updatedAt=l}static fromJSON(t){return new e(t.id,t.client_id,t.user_id,t.status,t.last_active_at,t.expire_at,t.abandon_at,t.created_at,t.updated_at)}},tl=class e{constructor(e,t,i,n,r,a,s,o){this.id=e,this.sessionIds=t,this.sessions=i,this.signInId=n,this.signUpId=r,this.lastActiveSessionId=a,this.createdAt=s,this.updatedAt=o}static fromJSON(t){return new e(t.id,t.session_ids,t.sessions.map(e=>to.fromJSON(e)),t.sign_in_id,t.sign_up_id,t.last_active_session_id,t.created_at,t.updated_at)}},tc=class e{constructor(e,t,i,n){this.object=e,this.id=t,this.slug=i,this.deleted=n}static fromJSON(t){return new e(t.object,t.id||null,t.slug||null,t.deleted)}},tu=class e{constructor(e,t,i,n,r,a,s,o,l,c,u){this.id=e,this.fromEmailName=t,this.emailAddressId=i,this.toEmailAddress=n,this.subject=r,this.body=a,this.bodyPlain=s,this.status=o,this.slug=l,this.data=c,this.deliveredByClerk=u}static fromJSON(t){return new e(t.id,t.from_email_name,t.email_address_id,t.to_email_address,t.subject,t.body,t.body_plain,t.status,t.slug,t.data,t.delivered_by_clerk)}},td=class e{constructor(e,t){this.id=e,this.type=t}static fromJSON(t){return new e(t.id,t.type)}},th=class e{constructor(e,t,i=null,n=null,r=null,a=null){this.status=e,this.strategy=t,this.externalVerificationRedirectURL=i,this.attempts=n,this.expireAt=r,this.nonce=a}static fromJSON(t){return new e(t.status,t.strategy,t.external_verification_redirect_url?new URL(t.external_verification_redirect_url):null,t.attempts,t.expire_at,t.nonce)}},tp=class e{constructor(e,t,i,n){this.id=e,this.emailAddress=t,this.verification=i,this.linkedTo=n}static fromJSON(t){return new e(t.id,t.email_address,t.verification&&th.fromJSON(t.verification),t.linked_to.map(e=>td.fromJSON(e)))}},tf=class e{constructor(e,t,i,n,r,a,s,o,l,c,u={},d,h){this.id=e,this.provider=t,this.identificationId=i,this.externalId=n,this.approvedScopes=r,this.emailAddress=a,this.firstName=s,this.lastName=o,this.imageUrl=l,this.username=c,this.publicMetadata=u,this.label=d,this.verification=h}static fromJSON(t){return new e(t.id,t.provider,t.identification_id,t.provider_user_id,t.approved_scopes,t.email_address,t.first_name,t.last_name,t.image_url||"",t.username,t.public_metadata,t.label,t.verification&&th.fromJSON(t.verification))}},tm=class e{constructor(e,t,i,n,r,a,s,o){this.id=e,this.emailAddress=t,this.publicMetadata=i,this.createdAt=n,this.updatedAt=r,this.status=a,this.url=s,this.revoked=o}static fromJSON(t){return new e(t.id,t.email_address,t.public_metadata,t.created_at,t.updated_at,t.status,t.url,t.revoked)}},tg={AllowlistIdentifier:"allowlist_identifier",Client:"client",Email:"email",EmailAddress:"email_address",Invitation:"invitation",OauthAccessToken:"oauth_access_token",Organization:"organization",OrganizationInvitation:"organization_invitation",OrganizationMembership:"organization_membership",PhoneNumber:"phone_number",RedirectUrl:"redirect_url",Session:"session",SignInToken:"sign_in_token",SmsMessage:"sms_message",User:"user",Token:"token",TotalCount:"total_count"},ty=class e{constructor(e,t,i,n={},r,a,s){this.externalAccountId=e,this.provider=t,this.token=i,this.publicMetadata=n,this.label=r,this.scopes=a,this.tokenSecret=s}static fromJSON(t){return new e(t.external_account_id,t.provider,t.token,t.public_metadata,t.label||"",t.scopes,t.token_secret)}},tv=class e{constructor(e,t,i,n,r,a,s,o,l={},c={},u,d,h){this.id=e,this.name=t,this.slug=i,this.imageUrl=n,this.hasImage=r,this.createdBy=a,this.createdAt=s,this.updatedAt=o,this.publicMetadata=l,this.privateMetadata=c,this.maxAllowedMemberships=u,this.adminDeleteEnabled=d,this.membersCount=h}static fromJSON(t){return new e(t.id,t.name,t.slug,t.image_url||"",t.has_image,t.created_by,t.created_at,t.updated_at,t.public_metadata,t.private_metadata,t.max_allowed_memberships,t.admin_delete_enabled,t.members_count)}},tb=class e{constructor(e,t,i,n,r,a,s,o={},l={}){this.id=e,this.emailAddress=t,this.role=i,this.organizationId=n,this.createdAt=r,this.updatedAt=a,this.status=s,this.publicMetadata=o,this.privateMetadata=l}static fromJSON(t){return new e(t.id,t.email_address,t.role,t.organization_id,t.created_at,t.updated_at,t.status,t.public_metadata,t.private_metadata)}},tw=class e{constructor(e,t,i,n={},r={},a,s,o,l){this.id=e,this.role=t,this.permissions=i,this.publicMetadata=n,this.privateMetadata=r,this.createdAt=a,this.updatedAt=s,this.organization=o,this.publicUserData=l}static fromJSON(t){return new e(t.id,t.role,t.permissions,t.public_metadata,t.private_metadata,t.created_at,t.updated_at,tv.fromJSON(t.organization),tx.fromJSON(t.public_user_data))}},tx=class e{constructor(e,t,i,n,r,a){this.identifier=e,this.firstName=t,this.lastName=i,this.imageUrl=n,this.hasImage=r,this.userId=a}static fromJSON(t){return new e(t.identifier,t.first_name,t.last_name,t.image_url,t.has_image,t.user_id)}},tk=class e{constructor(e,t,i,n,r,a){this.id=e,this.phoneNumber=t,this.reservedForSecondFactor=i,this.defaultSecondFactor=n,this.verification=r,this.linkedTo=a}static fromJSON(t){return new e(t.id,t.phone_number,t.reserved_for_second_factor,t.default_second_factor,t.verification&&th.fromJSON(t.verification),t.linked_to.map(e=>td.fromJSON(e)))}},tS=class e{constructor(e,t,i,n){this.id=e,this.url=t,this.createdAt=i,this.updatedAt=n}static fromJSON(t){return new e(t.id,t.url,t.created_at,t.updated_at)}},t_=class e{constructor(e,t,i,n,r,a,s){this.id=e,this.userId=t,this.token=i,this.status=n,this.url=r,this.createdAt=a,this.updatedAt=s}static fromJSON(t){return new e(t.id,t.user_id,t.token,t.status,t.url,t.created_at,t.updated_at)}},tR=class e{constructor(e,t,i,n,r,a,s){this.id=e,this.fromPhoneNumber=t,this.toPhoneNumber=i,this.message=n,this.status=r,this.phoneNumberId=a,this.data=s}static fromJSON(t){return new e(t.id,t.from_phone_number,t.to_phone_number,t.message,t.status,t.phone_number_id,t.data)}},tE=class e{constructor(e){this.jwt=e}static fromJSON(t){return new e(t.jwt)}},tT=class e{constructor(e,t,i,n,r,a,s,o,l,c){this.id=e,this.name=t,this.domain=i,this.active=n,this.provider=r,this.syncUserAttributes=a,this.allowSubdomains=s,this.allowIdpInitiated=o,this.createdAt=l,this.updatedAt=c}static fromJSON(t){return new e(t.id,t.name,t.domain,t.active,t.provider,t.sync_user_attributes,t.allow_subdomains,t.allow_idp_initiated,t.created_at,t.updated_at)}},tC=class e{constructor(e,t,i,n,r,a,s,o,l){this.id=e,this.provider=t,this.providerUserId=i,this.active=n,this.emailAddress=r,this.firstName=a,this.lastName=s,this.verification=o,this.samlConnection=l}static fromJSON(t){return new e(t.id,t.provider,t.provider_user_id,t.active,t.email_address,t.first_name,t.last_name,t.verification&&th.fromJSON(t.verification),t.saml_connection&&tT.fromJSON(t.saml_connection))}},tP=class e{constructor(e,t,i){this.id=e,this.web3Wallet=t,this.verification=i}static fromJSON(t){return new e(t.id,t.web3_wallet,t.verification&&th.fromJSON(t.verification))}},tA=class e{constructor(e,t,i,n,r,a,s,o,l,c,u,d,h,p,f,m,g,y,v,b={},w={},x={},k=[],S=[],_=[],R=[],E=[],T,C,P=null,A){this.id=e,this.passwordEnabled=t,this.totpEnabled=i,this.backupCodeEnabled=n,this.twoFactorEnabled=r,this.banned=a,this.locked=s,this.createdAt=o,this.updatedAt=l,this.imageUrl=c,this.hasImage=u,this.primaryEmailAddressId=d,this.primaryPhoneNumberId=h,this.primaryWeb3WalletId=p,this.lastSignInAt=f,this.externalId=m,this.username=g,this.firstName=y,this.lastName=v,this.publicMetadata=b,this.privateMetadata=w,this.unsafeMetadata=x,this.emailAddresses=k,this.phoneNumbers=S,this.web3Wallets=_,this.externalAccounts=R,this.samlAccounts=E,this.lastActiveAt=T,this.createOrganizationEnabled=C,this.createOrganizationsLimit=P,this.deleteSelfEnabled=A}static fromJSON(t){return new e(t.id,t.password_enabled,t.totp_enabled,t.backup_code_enabled,t.two_factor_enabled,t.banned,t.locked,t.created_at,t.updated_at,t.image_url,t.has_image,t.primary_email_address_id,t.primary_phone_number_id,t.primary_web3_wallet_id,t.last_sign_in_at,t.external_id,t.username,t.first_name,t.last_name,t.public_metadata,t.private_metadata,t.unsafe_metadata,(t.email_addresses||[]).map(e=>tp.fromJSON(e)),(t.phone_numbers||[]).map(e=>tk.fromJSON(e)),(t.web3_wallets||[]).map(e=>tP.fromJSON(e)),(t.external_accounts||[]).map(e=>tf.fromJSON(e)),(t.saml_accounts||[]).map(e=>tC.fromJSON(e)),t.last_active_at,t.create_organization_enabled,t.create_organizations_limit,t.delete_self_enabled)}get primaryEmailAddress(){return this.emailAddresses.find(({id:e})=>e===this.primaryEmailAddressId)??null}get primaryPhoneNumber(){return this.phoneNumbers.find(({id:e})=>e===this.primaryPhoneNumberId)??null}get primaryWeb3Wallet(){return this.web3Wallets.find(({id:e})=>e===this.primaryWeb3WalletId)??null}get fullName(){return[this.firstName,this.lastName].join(" ").trim()||null}};function tI(e){if("string"!=typeof e&&"object"in e&&"deleted"in e)return tc.fromJSON(e);switch(e.object){case tg.AllowlistIdentifier:return ts.fromJSON(e);case tg.Client:return tl.fromJSON(e);case tg.EmailAddress:return tp.fromJSON(e);case tg.Email:return tu.fromJSON(e);case tg.Invitation:return tm.fromJSON(e);case tg.OauthAccessToken:return ty.fromJSON(e);case tg.Organization:return tv.fromJSON(e);case tg.OrganizationInvitation:return tb.fromJSON(e);case tg.OrganizationMembership:return tw.fromJSON(e);case tg.PhoneNumber:return tk.fromJSON(e);case tg.RedirectUrl:return tS.fromJSON(e);case tg.SignInToken:return t_.fromJSON(e);case tg.Session:return to.fromJSON(e);case tg.SmsMessage:return tR.fromJSON(e);case tg.Token:return tE.fromJSON(e);case tg.TotalCount:return e.total_count;case tg.User:return tA.fromJSON(e);default:return e}}function tO(e,t){return e&&"object"==typeof e&&"clerk_trace_id"in e&&"string"==typeof e.clerk_trace_id?e.clerk_trace_id:t?.get("cf-ray")||""}function tj(e){if(e&&"object"==typeof e&&"errors"in e){let t=e.errors;return t.length>0?t.map(en):[]}return[]}function tN(e){var t;let i=(t=async t=>{let i;let{secretKey:n,apiUrl:r=eD,apiVersion:a="v1",userAgent:s="@clerk/backend@1.13.10"}=e,{path:o,method:l,queryParams:c,headerParams:u,bodyParams:d,formData:h}=t;ta(n);let p=new URL(eB(r,a,o));if(c)for(let[e,t]of Object.entries(es({...c})))t&&[t].flat().forEach(t=>p.searchParams.append(e,t));let f={Authorization:`Bearer ${n}`,"User-Agent":s,...u};try{if(h)i=await D.fetch(p.href,{method:l,headers:f,body:h});else{f["Content-Type"]="application/json";let e="GET"!==l&&d&&Object.keys(d).length>0?{body:JSON.stringify(es(d,{deep:!1}))}:null;i=await D.fetch(p.href,{method:l,headers:f,...e})}let e=i?.headers&&i.headers?.get(eM.Headers.ContentType)===eM.ContentTypes.Json,t=await (e?i.json():i.text());if(!i.ok)return{data:null,errors:tj(t),status:i?.status,statusText:i?.statusText,clerkTraceId:tO(t,i?.headers)};return{...Array.isArray(t)?{data:t.map(e=>tI(e))}:t&&"object"==typeof t&&"data"in t&&Array.isArray(t.data)&&void 0!==t.data?{data:t.data.map(e=>tI(e)),totalCount:t.total_count}:{data:tI(t)},errors:null}}catch(e){if(e instanceof Error)return{data:null,errors:[{code:"unexpected_error",message:e.message||"Unexpected error"}],clerkTraceId:tO(e,i?.headers)};return{data:null,errors:tj(e),status:i?.status,statusText:i?.statusText,clerkTraceId:tO(e,i?.headers)}}},async(...e)=>{let{data:i,errors:n,totalCount:r,status:a,statusText:s,clerkTraceId:o}=await t(...e);if(n){let e=new er(s||"",{data:[],status:a,clerkTraceId:o});throw e.errors=n,e}return void 0!==r?{data:i,totalCount:r}:i});return{allowlistIdentifiers:new ez(i),clients:new eW(i),emailAddresses:new eJ(i),invitations:new eX(i),organizations:new eZ(i),phoneNumbers:new e1(i),redirectUrls:new e3(i),sessions:new e5(i),signInTokens:new e8(i),users:new e7(i),domains:new eH(i),samlConnections:new tt(i),testingTokens:new ti(i)}}var tL=e=>()=>{let t={...e};return t.secretKey=(t.secretKey||"").substring(0,7),t.jwtKey=(t.jwtKey||"").substring(0,7),{...t}};function tD(e,t,i){let{act:n,sid:r,org_id:a,org_role:s,org_slug:o,org_permissions:l,sub:c,fva:u}=i,d=tN(e),h=tq({sessionId:r,sessionToken:t,fetcher:async(...e)=>(await d.sessions.getToken(...e)).jwt}),p=u??null;return{actor:n,sessionClaims:i,sessionId:r,userId:c,orgId:a,orgRole:s,orgSlug:o,orgPermissions:l,__experimental_factorVerificationAge:p,getToken:h,has:eI({orgId:a,orgRole:s,orgPermissions:l,userId:c,__experimental_factorVerificationAge:p}),debug:tL({...e,sessionToken:t})}}function tU(e){return{sessionClaims:null,sessionId:null,userId:null,actor:null,orgId:null,orgRole:null,orgSlug:null,orgPermissions:null,__experimental_factorVerificationAge:null,getToken:()=>Promise.resolve(null),has:()=>!1,debug:tL(e)}}var tq=e=>{let{fetcher:t,sessionToken:i,sessionId:n}=e||{};return async(e={})=>n?e.template?t(n,e.template):i:null},tM={SignedIn:"signed-in",SignedOut:"signed-out",Handshake:"handshake"},tF={ClientUATWithoutSessionToken:"client-uat-but-no-session-token",DevBrowserMissing:"dev-browser-missing",DevBrowserSync:"dev-browser-sync",PrimaryRespondsToSyncing:"primary-responds-to-syncing",SatelliteCookieNeedsSyncing:"satellite-needs-syncing",SessionTokenAndUATMissing:"session-token-and-uat-missing",SessionTokenMissing:"session-token-missing",SessionTokenExpired:"session-token-expired",SessionTokenIATBeforeClientUAT:"session-token-iat-before-client-uat",SessionTokenNBF:"session-token-nbf",SessionTokenIatInTheFuture:"session-token-iat-in-the-future",SessionTokenWithoutClientUAT:"session-token-but-no-client-uat",ActiveOrganizationMismatch:"active-organization-mismatch",UnexpectedError:"unexpected-error"};function t$(e,t,i=new Headers,n){let r=tD(e,n,t);return{status:tM.SignedIn,reason:null,message:null,proxyUrl:e.proxyUrl||"",publishableKey:e.publishableKey||"",isSatellite:e.isSatellite||!1,domain:e.domain||"",signInUrl:e.signInUrl||"",signUpUrl:e.signUpUrl||"",afterSignInUrl:e.afterSignInUrl||"",afterSignUpUrl:e.afterSignUpUrl||"",isSignedIn:!0,toAuth:()=>r,headers:i,token:n}}function tB(e,t,i="",n=new Headers){return tK({status:tM.SignedOut,reason:t,message:i,proxyUrl:e.proxyUrl||"",publishableKey:e.publishableKey||"",isSatellite:e.isSatellite||!1,domain:e.domain||"",signInUrl:e.signInUrl||"",signUpUrl:e.signUpUrl||"",afterSignInUrl:e.afterSignInUrl||"",afterSignUpUrl:e.afterSignUpUrl||"",isSignedIn:!1,headers:n,toAuth:()=>tU({...e,status:tM.SignedOut,reason:t,message:i}),token:null})}var tK=e=>{let t=new Headers(e.headers||{});if(e.message)try{t.set(eM.Headers.AuthMessage,e.message)}catch(e){}if(e.reason)try{t.set(eM.Headers.AuthReason,e.reason)}catch(e){}if(e.status)try{t.set(eM.Headers.AuthStatus,e.status)}catch(e){}return e.headers=t,e},tz=class extends URL{isCrossOrigin(e){return this.origin!==new URL(e.toString()).origin}},tV=(...e)=>new tz(...e),tW=class extends Request{constructor(e,t){super("string"!=typeof e&&"url"in e?e.url:String(e),t||"string"==typeof e?void 0:e),this.clerkUrl=this.deriveUrlFromHeaders(this),this.cookies=this.parseCookies(this)}toJSON(){return{url:this.clerkUrl.href,method:this.method,headers:JSON.stringify(Object.fromEntries(this.headers)),clerkUrl:this.clerkUrl.toString(),cookies:JSON.stringify(Object.fromEntries(this.cookies))}}deriveUrlFromHeaders(e){let t=new URL(e.url),i=e.headers.get(eM.Headers.ForwardedProto),n=e.headers.get(eM.Headers.ForwardedHost),r=e.headers.get(eM.Headers.Host),a=t.protocol,s=this.getFirstValueFromHeader(n)??r,o=this.getFirstValueFromHeader(i)??a?.replace(/[:/]/,""),l=s&&o?`${o}://${s}`:t.origin;return l===t.origin?tV(t):tV(t.pathname+t.search,l)}getFirstValueFromHeader(e){return e?.split(",")[0]}parseCookies(e){return new Map(Object.entries((0,eO.Q)(this.decodeCookieValue(e.headers.get("cookie")||""))))}decodeCookieValue(e){return e?e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):e}},tH=(...e)=>e[0]instanceof tW?e[0]:new tW(...e),tG={},tJ=0;function tY(e,t=!0){tG[e.kid]=e,tJ=t?Date.now():-1}var tX="local";function tQ(e){if(!tG[tX]){if(!e)throw new R({action:_.SetClerkJWTKey,message:"Missing local JWK.",reason:S.LocalJWKMissing});tY({kid:"local",kty:"RSA",alg:"RS256",n:e.replace(/(\r\n|\n|\r)/gm,"").replace("-----BEGIN PUBLIC KEY-----","").replace("-----END PUBLIC KEY-----","").replace("MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA","").replace("IDAQAB","").replace(/\+/g,"-").replace(/\//g,"_"),e:"AQAB"},!1)}return tG[tX]}async function tZ({secretKey:e,apiUrl:t=eD,apiVersion:i="v1",kid:n,skipJwksCache:r}){if(r||function(){if(-1===tJ)return!1;let e=Date.now()-tJ>=3e5;return e&&(tG={}),e}()||!tG[n]){if(!e)throw new R({action:_.ContactSupport,message:"Failed to load JWKS from Clerk Backend or Frontend API.",reason:S.RemoteJWKFailedToLoad});let{keys:n}=await eo(()=>t0(t,e,i));if(!n||!n.length)throw new R({action:_.ContactSupport,message:"The JWKS endpoint did not contain any signing keys. Contact support@clerk.com.",reason:S.RemoteJWKFailedToLoad});n.forEach(e=>tY(e))}let a=tG[n];if(!a){let e=Object.values(tG).map(e=>e.kid).sort().join(", ");throw new R({action:`Go to your Dashboard and validate your secret and public keys are correct. ${_.ContactSupport} if the issue persists.`,message:`Unable to find a signing key in JWKS that matches the kid='${n}' of the provided session token. Please make sure that the __session cookie or the HTTP authorization header contain a Clerk-generated session JWT. The following kid is available: ${e}`,reason:S.JWKKidMismatch})}return a}async function t0(e,t,i){if(!t)throw new R({action:_.SetClerkSecretKey,message:"Missing Clerk Secret Key or API Key. Go to https://dashboard.clerk.com and get your key for your instance.",reason:S.RemoteJWKFailedToLoad});let n=new URL(e);n.pathname=eB(n.pathname,i,"/jwks");let r=await D.fetch(n.href,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!r.ok){let e=await r.json(),t=t1(e?.errors,k.InvalidSecretKey);if(t){let e=S.InvalidSecretKey;throw new R({action:_.ContactSupport,message:t.message,reason:e})}throw new R({action:_.ContactSupport,message:`Error loading Clerk JWKS from ${n.href} with code=${r.status}`,reason:S.RemoteJWKFailedToLoad})}return r.json()}var t1=(e,t)=>e?e.find(e=>e.code===t):null;async function t2(e,t){let{data:i,errors:n}=et(e);if(n)return{errors:n};let{header:r}=i,{kid:a}=r;try{let i;if(t.jwtKey)i=tQ(t.jwtKey);else{if(!t.secretKey)return{errors:[new R({action:_.SetClerkJWTKey,message:"Failed to resolve JWK during verification.",reason:S.JWKFailedToResolve})]};i=await tZ({...t,kid:a})}return await ei(e,{...t,key:i})}catch(e){return{errors:[e]}}}var t3=class{constructor(e,t,i){this.cookieSuffix=e,this.clerkRequest=t,this.initPublishableKeyValues(i),this.initHeaderValues(),this.initCookieValues(),this.initHandshakeValues(),Object.assign(this,i),this.clerkUrl=this.clerkRequest.clerkUrl}get sessionToken(){return this.sessionTokenInCookie||this.sessionTokenInHeader}initPublishableKeyValues(e){em(e.publishableKey,{fatal:!0}),this.publishableKey=e.publishableKey;let t=em(this.publishableKey,{fatal:!0,proxyUrl:e.proxyUrl,domain:e.domain});this.instanceType=t.instanceType,this.frontendApi=t.frontendApi}initHeaderValues(){this.sessionTokenInHeader=this.stripAuthorizationHeader(this.getHeader(eM.Headers.Authorization)),this.origin=this.getHeader(eM.Headers.Origin),this.host=this.getHeader(eM.Headers.Host),this.forwardedHost=this.getHeader(eM.Headers.ForwardedHost),this.forwardedProto=this.getHeader(eM.Headers.CloudFrontForwardedProto)||this.getHeader(eM.Headers.ForwardedProto),this.referrer=this.getHeader(eM.Headers.Referrer),this.userAgent=this.getHeader(eM.Headers.UserAgent),this.secFetchDest=this.getHeader(eM.Headers.SecFetchDest),this.accept=this.getHeader(eM.Headers.Accept)}initCookieValues(){this.suffixedCookies=this.shouldUseSuffixed(),this.sessionTokenInCookie=this.getSuffixedOrUnSuffixedCookie(eM.Cookies.Session),this.refreshTokenInCookie=this.getSuffixedCookie(eM.Cookies.Refresh),this.clientUat=Number.parseInt(this.getSuffixedOrUnSuffixedCookie(eM.Cookies.ClientUat)||"")||0}initHandshakeValues(){this.devBrowserToken=this.getQueryParam(eM.QueryParameters.DevBrowser)||this.getSuffixedOrUnSuffixedCookie(eM.Cookies.DevBrowser),this.handshakeToken=this.getQueryParam(eM.QueryParameters.Handshake)||this.getCookie(eM.Cookies.Handshake),this.handshakeRedirectLoopCounter=Number(this.getCookie(eM.Cookies.RedirectCount))||0}stripAuthorizationHeader(e){return e?.replace("Bearer ","")}getQueryParam(e){return this.clerkRequest.clerkUrl.searchParams.get(e)}getHeader(e){return this.clerkRequest.headers.get(e)||void 0}getCookie(e){return this.clerkRequest.cookies.get(e)||void 0}getSuffixedCookie(e){return this.getCookie(ey(e,this.cookieSuffix))||void 0}getSuffixedOrUnSuffixedCookie(e){return this.suffixedCookies?this.getSuffixedCookie(e):this.getCookie(e)}shouldUseSuffixed(){let e=this.getSuffixedCookie(eM.Cookies.ClientUat),t=this.getCookie(eM.Cookies.ClientUat),i=this.getSuffixedCookie(eM.Cookies.Session)||"",n=this.getCookie(eM.Cookies.Session)||"";if(n&&!this.tokenHasIssuer(n))return!1;if(n&&!this.tokenBelongsToInstance(n))return!0;if(!e&&!i)return!1;let{data:r}=et(n),a=r?.payload.iat||0,{data:s}=et(i),o=s?.payload.iat||0;if("0"!==e&&"0"!==t&&a>o||"0"===e&&"0"!==t)return!1;if("production"!==this.instanceType){let i=this.sessionExpired(s);if("0"!==e&&"0"===t&&i)return!1}return!!e||!i}tokenHasIssuer(e){let{data:t,errors:i}=et(e);return!i&&!!t.payload.iss}tokenBelongsToInstance(e){if(!e)return!1;let{data:t,errors:i}=et(e);if(i)return!1;let n=t.payload.iss.replace(/https?:\/\//gi,"");return this.frontendApi===n}sessionExpired(e){return!!e&&e?.payload.exp<=Date.now()/1e3>>0}},t4=async(e,t)=>new t3(t.publishableKey?await eg(t.publishableKey,D.crypto.subtle):"",e,t),t5=e=>e.split(";")[0]?.split("=")[0],t6=e=>e.split(";")[0]?.split("=")[1];async function t8(e,{key:t}){let{data:i,errors:n}=et(e);if(n)throw n[0];let{header:r,payload:a}=i,{typ:s,alg:o}=r;W(s),H(o);let{data:l,errors:c}=await ee(i,t);if(c)throw new R({reason:S.TokenVerificationFailed,message:`Error verifying handshake token. ${c[0]}`});if(!l)throw new R({reason:S.TokenInvalidSignature,message:"Handshake signature is invalid."});return a}async function t9(e,t){let i;let{secretKey:n,apiUrl:r,apiVersion:a,jwksCacheTtlInMs:s,jwtKey:o,skipJwksCache:l}=t,{data:c,errors:u}=et(e);if(u)throw u[0];let{kid:d}=c.header;if(o)i=tQ(o);else if(n)i=await tZ({secretKey:n,apiUrl:r,apiVersion:a,kid:d,jwksCacheTtlInMs:s,skipJwksCache:l});else throw new R({action:_.SetClerkJWTKey,message:"Failed to resolve JWK during handshake verification.",reason:S.JWKFailedToResolve});return await t8(e,{key:i})}var t7={NonEligibleNoCookie:"non-eligible-no-refresh-cookie",NonEligibleNonGet:"non-eligible-non-get",InvalidSessionToken:"invalid-session-token",MissingApiClient:"missing-api-client",MissingSessionToken:"missing-session-token",MissingRefreshToken:"missing-refresh-token",ExpiredSessionTokenDecodeFailed:"expired-session-token-decode-failed",ExpiredSessionTokenMissingSidClaim:"expired-session-token-missing-sid-claim",FetchError:"fetch-error",UnexpectedSDKError:"unexpected-sdk-error"};async function ie(e,t){let i=await t4(tH(e),t);ta(i.secretKey),i.isSatellite&&(function(e,t){if(!e&&(t.startsWith("test_")||t.startsWith("sk_test_")))throw Error("Missing signInUrl. Pass a signInUrl for dev instances if an app is satellite")}(i.signInUrl,i.secretKey),i.signInUrl&&i.origin&&function(e,t){let i;try{i=new URL(e)}catch{throw Error("The signInUrl needs to have a absolute url format.")}if(i.origin===t)throw Error("The signInUrl needs to be on a different origin than your satellite application.")}(i.signInUrl,i.origin),function(e){if(!e)throw Error("Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl")}(i.proxyUrl||i.domain));let n=function(e){let t=null;if(e?.personalAccountPatterns)try{t=eL(e.personalAccountPatterns)}catch(t){throw Error(`Invalid personal account pattern "${e.personalAccountPatterns}": "${t}"`)}let i=null;if(e?.organizationPatterns)try{i=eL(e.organizationPatterns)}catch(t){throw Error(`Clerk: Invalid organization pattern "${e.organizationPatterns}": "${t}"`)}return{OrganizationMatcher:i,PersonalAccountMatcher:t}}(t.organizationSyncOptions);async function r(){let e=new Headers({"Access-Control-Allow-Origin":"null","Access-Control-Allow-Credentials":"true"}),t=(await t9(i.handshakeToken,i)).handshake,n="";if(t.forEach(t=>{e.append("Set-Cookie",t),t5(t).startsWith(eM.Cookies.Session)&&(n=t6(t))}),"development"===i.instanceType){let t=new URL(i.clerkUrl);t.searchParams.delete(eM.QueryParameters.Handshake),t.searchParams.delete(eM.QueryParameters.HandshakeHelp),e.append(eM.Headers.Location,t.toString()),e.set(eM.Headers.CacheControl,"no-store")}if(""===n)return tB(i,tF.SessionTokenMissing,"",e);let{data:r,errors:[a]=[]}=await t2(n,i);if(r)return t$(i,r,e,n);if("development"===i.instanceType&&(a?.reason===S.TokenExpired||a?.reason===S.TokenNotActiveYet||a?.reason===S.TokenIatInTheFuture)){a.tokenCarrier="cookie",console.error(`Clerk: Clock skew detected. This usually means that your system clock is inaccurate. Clerk will attempt to account for the clock skew in development.

To resolve this issue, make sure your system's clock is set to the correct time (e.g. turn off and on automatic time synchronization).

---

${a.getFullMessage()}`);let{data:t,errors:[r]=[]}=await t2(n,{...i,clockSkewInMs:864e5});if(t)return t$(i,t,e,n);throw r}throw a}async function a(i){if(!t.apiClient)return{data:null,error:{message:"An apiClient is needed to perform token refresh.",cause:{reason:t7.MissingApiClient}}};let{sessionToken:n,refreshTokenInCookie:r}=i;if(!n)return{data:null,error:{message:"Session token must be provided.",cause:{reason:t7.MissingSessionToken}}};if(!r)return{data:null,error:{message:"Refresh token must be provided.",cause:{reason:t7.MissingRefreshToken}}};let{data:a,errors:s}=et(n);if(!a||s)return{data:null,error:{message:"Unable to decode the expired session token.",cause:{reason:t7.ExpiredSessionTokenDecodeFailed,errors:s}}};if(!a?.payload?.sid)return{data:null,error:{message:"Expired session token is missing the `sid` claim.",cause:{reason:t7.ExpiredSessionTokenMissingSidClaim}}};try{return{data:(await t.apiClient.sessions.refreshSession(a.payload.sid,{expired_token:n||"",refresh_token:r||"",request_origin:i.clerkUrl.origin,request_headers:Object.fromEntries(Array.from(e.headers.entries()).map(([e,t])=>[e,[t]]))})).jwt,error:null}}catch(e){if(!e?.errors?.length)return{data:null,error:e};if("unexpected_error"===e.errors[0].code)return{data:null,error:{message:"Fetch unexpected error",cause:{reason:t7.FetchError,errors:e.errors}}};return{data:null,error:{message:e.errors[0].code,cause:{reason:e.errors[0].code,errors:e.errors}}}}}async function s(e){let{data:t,error:i}=await a(e);if(!t)return{data:null,error:i};let{data:n,errors:r}=await t2(t,e);return r?{data:null,error:{message:"Clerk: unable to verify refreshed session token.",cause:{reason:t7.InvalidSessionToken,errors:r}}}:{data:{jwtPayload:n,sessionToken:t},error:null}}function o(e,r,a,s){if(function(e){let{accept:t,secFetchDest:i}=e;return!!("document"===i||"iframe"===i||!i&&t?.startsWith("text/html"))}(e)){let o=s??function({handshakeReason:e}){let r=function(e){let t=new URL(e);return t.searchParams.delete(eM.QueryParameters.DevBrowser),t.searchParams.delete(eM.QueryParameters.LegacyDevBrowser),t}(i.clerkUrl),a=i.frontendApi.replace(/http(s)?:\/\//,""),s=new URL(`https://${a}/v1/client/handshake`);s.searchParams.append("redirect_url",r?.href||""),s.searchParams.append("suffixed_cookies",i.suffixedCookies.toString()),s.searchParams.append(eM.QueryParameters.HandshakeReason,e),"development"===i.instanceType&&i.devBrowserToken&&s.searchParams.append(eM.QueryParameters.DevBrowser,i.devBrowserToken);let o=ii(i.clerkUrl,t.organizationSyncOptions,n);return o&&(function(e){let t=new Map;return"personalAccount"===e.type&&t.set("organization_id",""),"organization"===e.type&&(e.organizationId&&t.set("organization_id",e.organizationId),e.organizationSlug&&t.set("organization_id",e.organizationSlug)),t})(o).forEach((e,t)=>{s.searchParams.append(t,e)}),new Headers({[eM.Headers.Location]:s.href})}({handshakeReason:r});return(o.get(eM.Headers.Location)&&o.set(eM.Headers.CacheControl,"no-store"),function(e){if(3===i.handshakeRedirectLoopCounter)return!0;let t=i.handshakeRedirectLoopCounter+1,n=eM.Cookies.RedirectCount;return e.append("Set-Cookie",`${n}=${t}; SameSite=Lax; HttpOnly; Max-Age=3`),!1}(o))?(console.log("Clerk: Refreshing the session token resulted in an infinite redirect loop. This usually means that your Clerk instance keys do not match - make sure to copy the correct publishable and secret keys from the Clerk dashboard."),tB(e,r,a)):function(e,t,i="",n){return tK({status:tM.Handshake,reason:t,message:i,publishableKey:e.publishableKey||"",isSatellite:e.isSatellite||!1,domain:e.domain||"",proxyUrl:e.proxyUrl||"",signInUrl:e.signInUrl||"",signUpUrl:e.signUpUrl||"",afterSignInUrl:e.afterSignInUrl||"",afterSignUpUrl:e.afterSignUpUrl||"",isSignedIn:!1,headers:n,toAuth:()=>null,token:null})}(e,r,a,o)}return tB(e,r,a)}async function l(){let{sessionTokenInHeader:e}=i;try{let{data:t,errors:n}=await t2(e,i);if(n)throw n[0];return t$(i,t,void 0,e)}catch(e){return u(e,"header")}}async function c(){let e=i.clientUat,a=!!i.sessionTokenInCookie,s=!!i.devBrowserToken,l=i.isSatellite&&"document"===i.secFetchDest&&!i.clerkUrl.searchParams.has(eM.QueryParameters.ClerkSynced);if(i.handshakeToken)try{return await r()}catch(e){e instanceof R&&"development"===i.instanceType?function(e){if(e.reason===S.TokenInvalidSignature)throw Error("Clerk: Handshake token verification failed due to an invalid signature. If you have switched Clerk keys locally, clear your cookies and try again.");throw Error(`Clerk: Handshake token verification failed: ${e.getFullMessage()}.`)}(e):console.error("Clerk: unable to resolve handshake:",e)}if("development"===i.instanceType&&i.clerkUrl.searchParams.has(eM.QueryParameters.DevBrowser))return o(i,tF.DevBrowserSync,"");if("production"===i.instanceType&&l)return o(i,tF.SatelliteCookieNeedsSyncing,"");if("development"===i.instanceType&&l){let e=new URL(i.signInUrl);e.searchParams.append(eM.QueryParameters.ClerkRedirectUrl,i.clerkUrl.toString());let t=tF.SatelliteCookieNeedsSyncing;return e.searchParams.append(eM.QueryParameters.HandshakeReason,t),o(i,t,"",new Headers({[eM.Headers.Location]:e.toString()}))}let c=new URL(i.clerkUrl).searchParams.get(eM.QueryParameters.ClerkRedirectUrl);if("development"===i.instanceType&&!i.isSatellite&&c){let e=new URL(c);i.devBrowserToken&&e.searchParams.append(eM.QueryParameters.DevBrowser,i.devBrowserToken),e.searchParams.append(eM.QueryParameters.ClerkSynced,"true");let t=tF.PrimaryRespondsToSyncing;return e.searchParams.append(eM.QueryParameters.HandshakeReason,t),o(i,t,"",new Headers({[eM.Headers.Location]:e.toString()}))}if("development"===i.instanceType&&!s)return o(i,tF.DevBrowserMissing,"");if(!e&&!a)return tB(i,tF.SessionTokenAndUATMissing,"");if(!e&&a)return o(i,tF.SessionTokenWithoutClientUAT,"");if(e&&!a)return o(i,tF.ClientUATWithoutSessionToken,"");let{data:d,errors:h}=et(i.sessionTokenInCookie);if(h)return u(h[0],"cookie");if(d.payload.iat<i.clientUat)return o(i,tF.SessionTokenIATBeforeClientUAT,"");try{let{data:e,errors:r}=await t2(i.sessionTokenInCookie,i);if(r)throw r[0];let a=t$(i,e,void 0,i.sessionTokenInCookie),s=function(e,i){let r=ii(e.clerkUrl,t.organizationSyncOptions,n);if(!r)return null;let a=!1;if("organization"===r.type&&(r.organizationSlug&&r.organizationSlug!==i.orgSlug&&(a=!0),r.organizationId&&r.organizationId!==i.orgId&&(a=!0)),"personalAccount"===r.type&&i.orgId&&(a=!0),!a)return null;if(e.handshakeRedirectLoopCounter>0)return console.warn("Clerk: Organization activation handshake loop detected. This is likely due to an invalid organization ID or slug. Skipping organization activation."),null;let s=o(e,tF.ActiveOrganizationMismatch,"");return"handshake"!==s.status?null:s}(i,a.toAuth());if(s)return s;return a}catch(e){return u(e,"cookie")}return tB(i,tF.UnexpectedError)}async function u(t,n){let r;if(!(t instanceof R))return tB(i,tF.UnexpectedError);if(t.reason===S.TokenExpired&&i.refreshTokenInCookie&&"GET"===e.method){let{data:e,error:t}=await s(i);if(e)return t$(i,e.jwtPayload,void 0,e.sessionToken);console.error("Clerk: unable to refresh token:",t?.message||t),r=t?.cause?.reason?t.cause.reason:t7.UnexpectedSDKError}else r="GET"!==e.method?t7.NonEligibleNonGet:i.refreshTokenInCookie?null:t7.NonEligibleNoCookie;return(t.tokenCarrier=n,[S.TokenExpired,S.TokenNotActiveYet,S.TokenIatInTheFuture].includes(t.reason))?o(i,ir({tokenError:t.reason,refreshError:r}),t.getFullMessage()):tB(i,t.reason,t.getFullMessage())}return i.sessionTokenInHeader?l():c()}var it=e=>{let{isSignedIn:t,proxyUrl:i,reason:n,message:r,publishableKey:a,isSatellite:s,domain:o}=e;return{isSignedIn:t,proxyUrl:i,reason:n,message:r,publishableKey:a,isSatellite:s,domain:o}};function ii(e,t,i){if(!t)return null;if(i.PersonalAccountMatcher){let n;try{n=i.PersonalAccountMatcher(e.pathname)}catch(e){return console.error(`Failed to apply personal account pattern "${t.personalAccountPatterns}" to a path`,e),null}if(n)return{type:"personalAccount"}}if(i.OrganizationMatcher){let n;try{n=i.OrganizationMatcher(e.pathname)}catch(e){return console.error(`Clerk: Failed to apply organization pattern "${t.organizationPatterns}" to a path`,e),null}if(n&&"params"in n){let e=n.params;if("id"in e&&"string"==typeof e.id)return{type:"organization",organizationId:e.id};if("slug"in e&&"string"==typeof e.slug)return{type:"organization",organizationSlug:e.slug};console.warn("Clerk: Detected an organization pattern match, but no organization ID or slug was found in the URL. Does the pattern include `:id` or `:slug`?")}}return null}var ir=({tokenError:e,refreshError:t})=>{switch(e){case S.TokenExpired:return`${tF.SessionTokenExpired}-refresh-${t}`;case S.TokenNotActiveYet:return tF.SessionTokenNBF;case S.TokenIatInTheFuture:return tF.SessionTokenIatInTheFuture;default:return tF.UnexpectedError}};function ia(e,t){return Object.keys(e).reduce((e,i)=>({...e,[i]:t[i]||e[i]}),{...e})}var is={secretKey:"",jwtKey:"",apiUrl:void 0,apiVersion:void 0,proxyUrl:"",publishableKey:"",isSatellite:!1,domain:"",audience:""};function io(e){return async(...t)=>{let{data:i,errors:n}=await e(...t);if(n)throw n[0];return i}}var il=e=>{let t=i=>{if(!i)return i;if(Array.isArray(i))return i.map(e=>"object"==typeof e||Array.isArray(e)?t(e):e);let n={...i};for(let i of Object.keys(n)){let r=e(i.toString());r!==i&&(n[r]=n[i],delete n[i]),"object"==typeof n[r]&&(n[r]=t(n[r]))}return n};return t};function ic(e){if("boolean"==typeof e)return e;if(null==e)return!1;if("string"==typeof e){if("true"===e.toLowerCase())return!0;if("false"===e.toLowerCase())return!1}let t=parseInt(e,10);return!isNaN(t)&&t>0}il(function(e){return e?e.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`):""}),il(function(e){return e?e.replace(/([-_][a-z])/g,e=>e.toUpperCase().replace(/-|_/,"")):""});var iu=class{constructor(){O(this,a),O(this,n,"clerk_telemetry_throttler"),O(this,r,864e5)}isEventThrottled(e){var t;if(!I(this,a,l))return!1;let i=Date.now(),c=N(this,a,s).call(this,e),u=null==(t=I(this,a,o))?void 0:t[c];if(!u){let e={...I(this,a,o),[c]:i};localStorage.setItem(I(this,n),JSON.stringify(e))}if(u&&i-u>I(this,r)){let e=I(this,a,o);delete e[c],localStorage.setItem(I(this,n),JSON.stringify(e))}return!!u}};n=new WeakMap,r=new WeakMap,a=new WeakSet,s=function(e){let{sk:t,pk:i,payload:n,...r}=e,a={...n,...r};return JSON.stringify(Object.keys({...n,...r}).sort().map(e=>a[e]))},o=function(){let e=localStorage.getItem(I(this,n));return e?JSON.parse(e):{}},l=function(){if("undefined"==typeof window)return!1;let e=window.localStorage;if(!e)return!1;try{let t="test";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&("QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e.length>0&&e.removeItem(I(this,n)),!1}};var id={samplingRate:1,maxBufferSize:5,endpoint:"https://clerk-telemetry.com"},ih=class{constructor(e){var t,i,n,r,a,s;O(this,f),O(this,c),O(this,u),O(this,d,{}),O(this,h,[]),O(this,p),j(this,c,{maxBufferSize:null!=(t=e.maxBufferSize)?t:id.maxBufferSize,samplingRate:null!=(i=e.samplingRate)?i:id.samplingRate,disabled:null!=(n=e.disabled)&&n,debug:null!=(r=e.debug)&&r,endpoint:id.endpoint}),e.clerkVersion||"undefined"!=typeof window?I(this,d).clerkVersion=null!=(a=e.clerkVersion)?a:"":I(this,d).clerkVersion="",I(this,d).sdk=e.sdk,I(this,d).sdkVersion=e.sdkVersion,I(this,d).publishableKey=null!=(s=e.publishableKey)?s:"";let o=em(e.publishableKey);o&&(I(this,d).instanceType=o.instanceType),e.secretKey&&(I(this,d).secretKey=e.secretKey.substring(0,16)),j(this,u,new iu)}get isEnabled(){var e;return!("development"!==I(this,d).instanceType||I(this,c).disabled||"undefined"!=typeof process&&ic(process.env.CLERK_TELEMETRY_DISABLED))&&("undefined"==typeof window||null==(e=null==window?void 0:window.navigator)||!e.webdriver)}get isDebug(){return I(this,c).debug||"undefined"!=typeof process&&ic(process.env.CLERK_TELEMETRY_DEBUG)}record(e){let t=N(this,f,x).call(this,e.event,e.payload);N(this,f,b).call(this,t.event,t),N(this,f,m).call(this,t,e.eventSamplingRate)&&(I(this,h).push(t),N(this,f,y).call(this))}};function ip(e){let t={...e},i=tN(t),n=function(e){let t=ia(is,e.options),i=e.apiClient;return{authenticateRequest:(e,n={})=>{let{apiUrl:r,apiVersion:a}=t,s=ia(t,n);return ie(e,{...n,...s,apiUrl:r,apiVersion:a,apiClient:i})},debugRequestState:it}}({options:t,apiClient:i}),r=new ih({...e.telemetry,publishableKey:t.publishableKey,secretKey:t.secretKey,...t.sdkMetadata?{sdk:t.sdkMetadata.name,sdkVersion:t.sdkMetadata.version}:{}});return{...i,...n,telemetry:r}}c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakSet,m=function(e,t){return this.isEnabled&&!this.isDebug&&N(this,f,g).call(this,e,t)},g=function(e,t){let i=Math.random();return!I(this,u).isEventThrottled(e)&&i<=I(this,c).samplingRate&&(void 0===t||i<=t)},y=function(){if("undefined"==typeof window){N(this,f,v).call(this);return}if(I(this,h).length>=I(this,c).maxBufferSize){I(this,p)&&("undefined"!=typeof cancelIdleCallback?cancelIdleCallback:clearTimeout)(I(this,p)),N(this,f,v).call(this);return}I(this,p)||("requestIdleCallback"in window?j(this,p,requestIdleCallback(()=>{N(this,f,v).call(this)})):j(this,p,setTimeout(()=>{N(this,f,v).call(this)},0)))},v=function(){fetch(new URL("/v1/event",I(this,c).endpoint),{method:"POST",body:JSON.stringify({events:I(this,h)}),headers:{"Content-Type":"application/json"}}).catch(()=>void 0).then(()=>{j(this,h,[])}).catch(()=>void 0)},b=function(e,t){this.isDebug&&(void 0!==console.groupCollapsed?(console.groupCollapsed("[clerk/telemetry]",e),console.log(t),console.groupEnd()):console.log("[clerk/telemetry]",e,t))},w=function(){let e={name:I(this,d).sdk,version:I(this,d).sdkVersion};return"undefined"!=typeof window&&window.Clerk&&(e={...e,...window.Clerk.constructor.sdkMetadata}),e},x=function(e,t){var i,n;let r=N(this,f,w).call(this);return{event:e,cv:null!=(i=I(this,d).clerkVersion)?i:"",it:null!=(n=I(this,d).instanceType)?n:"",sdk:r.name,sdkv:r.version,...I(this,d).publishableKey?{pk:I(this,d).publishableKey}:{},...I(this,d).secretKey?{sk:I(this,d).secretKey}:{},payload:t}},io(t2);var im=(e,t,i,n)=>{if(""===e)return ig(t.toString(),i?.toString());let r=new URL(e),a=i?new URL(i,r):void 0,s=new URL(t,r);return a&&s.searchParams.set("redirect_url",a.toString()),n&&r.hostname!==s.hostname&&s.searchParams.set(eM.QueryParameters.DevBrowser,n),s.toString()},ig=(e,t)=>{let i;if(e.startsWith("http"))i=new URL(e);else{if(!t||!t.startsWith("http"))throw Error("destination url or return back url should be an absolute path url!");let n=new URL(t);i=new URL(e,n.origin)}return t&&i.searchParams.set("redirect_url",t),i.toString()},iy=e=>{if(!e)return"";let t=e.replace(/(clerk\.accountsstage\.)/,"accountsstage.").replace(/(clerk\.accounts\.|clerk\.)/,"accounts.");return`https://${t}`},iv=e=>{let{publishableKey:t,redirectAdapter:i,signInUrl:n,signUpUrl:r,baseUrl:a}=e,s=em(t),o=s?.frontendApi,l=s?.instanceType==="development",c=iy(o);return{redirectToSignUp:({returnBackUrl:t}={})=>{r||c||tn.throwMissingPublishableKeyError();let n=`${c}/sign-up`;return i(im(a,r||n,t,l?e.devBrowserToken:null))},redirectToSignIn:({returnBackUrl:t}={})=>{n||c||tn.throwMissingPublishableKeyError();let r=`${c}/sign-in`;return i(im(a,n||r,t,l?e.devBrowserToken:null))}}},ib=i(56495);let iw=e=>{if(!(e instanceof Error)||!("message"in e))return!1;let{message:t}=e,i=t.toLowerCase(),n=i.includes("dynamic server usage"),r=i.includes("this page needs to bail out of prerendering");return/Route .*? needs to bail out of prerendering at this point because it used .*?./.test(t)||n||r},ix=()=>{try{let{headers:e}=i(53020);return new ib.NextRequest("https://placeholder.com",{headers:e()})}catch(e){if(e&&iw(e))throw e;throw Error(`Clerk: auth() and currentUser() are only supported in App Router (/app directory).
If you're using /pages, try getAuth() instead.
Original error: ${e}`)}},ik=new(i(92761)).AsyncLocalStorage;process.env.NEXT_PUBLIC_CLERK_JS_VERSION,process.env.NEXT_PUBLIC_CLERK_JS_URL;let iS=process.env.CLERK_API_VERSION||"v1",i_=process.env.CLERK_SECRET_KEY||"",iR="pk_test_bWFqb3ItbGFkeWJpcmQtNDguY2xlcmsuYWNjb3VudHMuZGV2JA",iE=process.env.CLERK_ENCRYPTION_KEY||"",iT=process.env.CLERK_API_URL||(e=>{var t;let i=null==(t=em(e))?void 0:t.frontendApi;return(null==i?void 0:i.startsWith("clerk."))&&ec.some(e=>null==i?void 0:i.endsWith(e))?ep:ed.some(e=>null==i?void 0:i.endsWith(e))?"https://api.lclclerk.com":eh.some(e=>null==i?void 0:i.endsWith(e))?"https://api.clerkstage.dev":ep})(iR),iC=process.env.NEXT_PUBLIC_CLERK_DOMAIN||"",iP=process.env.NEXT_PUBLIC_CLERK_PROXY_URL||"",iA=ic(process.env.NEXT_PUBLIC_CLERK_IS_SATELLITE)||!1,iI=ic(process.env.NEXT_PUBLIC_CLERK_TELEMETRY_DISABLED),iO=ic(process.env.NEXT_PUBLIC_CLERK_TELEMETRY_DEBUG);var ij=i(30520),iN=i.n(ij),iL=i(45484),iD=i.n(iL),iU=i(44426),iq=i.n(iU);let iM=(e="auth")=>`Clerk: ${e}() was called but Clerk can't detect usage of clerkMiddleware() (or the deprecated authMiddleware()). Please ensure the following:
-  clerkMiddleware() (or the deprecated authMiddleware()) is used in your Next.js Middleware.
- Your Middleware matcher is configured to match this route or page.
- If you are using the src directory, make sure the Middleware file is inside of it.

For more details, see https://clerk.com/docs/quickstarts/nextjs
`;function iF(e,t){var i;return((i=eM.Attributes[t])in e?e[i]:void 0)||i$(e,eM.Headers[t])}function i$(e,t){var i,n;return!function(e){try{let{headers:t,nextUrl:i,cookies:n}=e||{};return"function"==typeof(null==t?void 0:t.get)&&"function"==typeof(null==i?void 0:i.searchParams.get)&&"function"==typeof(null==n?void 0:n.get)}catch(e){return!1}}(e)?e.headers[t]||e.headers[t.toLowerCase()]||(null==(n=null==(i=e.socket)?void 0:i._httpMessage)?void 0:n.getHeader(t)):e.headers.get(t)}function iB(e){if(!e)return{};try{let t=iN().decrypt(e,iE||i_).toString(iD());return JSON.parse(t)}catch(e){throw Error("Clerk: Unable to decrypt request data, this usually means the encryption key is invalid. Ensure the encryption key is properly set. For more information, see: https://clerk.com/docs/references/nextjs/clerk-middleware#dynamic-keys. (code=encryption_key_invalid)")}}let iK={secretKey:i_,publishableKey:iR,apiUrl:iT,apiVersion:iS,userAgent:"@clerk/nextjs@5.7.3",proxyUrl:iP,domain:iC,isSatellite:iA,sdkMetadata:{name:"@clerk/nextjs",version:"5.7.3",environment:"production"},telemetry:{disabled:iI,debug:iO}},iz=e=>ip({...iK,...e}),iV=ip(iK),iW=new Proxy(Object.assign(()=>{var e,t;let i;try{let e=ix(),t=i$(e,eM.Headers.ClerkRequestData);i=iB(t)}catch(e){if(e&&iw(e))throw e}let n=null!=(t=null==(e=ik.getStore())?void 0:e.get("requestData"))?t:i;return(null==n?void 0:n.secretKey)||(null==n?void 0:n.publishableKey)?iz(n):iV},iV),{get:(e,t,i)=>(ex("clerkClient singleton","Use `clerkClient()` as a function instead."),Reflect.get(e,t,i))});var iH=i(9881);function iG(e){let t=JSON.stringify(e),i=new TextEncoder().encode(t);return U.stringify(i,{pad:!1})}async function iJ(e,t,i){if(!i.algorithm)throw Error("No algorithm specified");let n=new TextEncoder,r=K(i.algorithm);if(!r)return{errors:[new E(`Unsupported algorithm ${i.algorithm}`)]};let a=await Z(t,r,"sign"),s=i.header||{typ:"JWT"};s.alg=i.algorithm,e.iat=Math.floor(Date.now()/1e3);let o=iG(s),l=iG(e),c=`${o}.${l}`;try{let e=await D.crypto.subtle.sign(r,a,n.encode(c));return{data:`${c}.${U.stringify(new Uint8Array(e),{pad:!1})}`}}catch(e){return{errors:[new E(e?.message)]}}}io(ei);var iY=(...e)=>{let{data:t,errors:i}=et(...e);if(i)throw i[0];return t};io(iJ),io(ee);let iX={i8:"14.2.15"},iQ=e=>{if(!e||"string"!=typeof e)return e;try{return(e||"").replace(/^(sk_(live|test)_)(.+?)(.{3})$/,"$1*********$4")}catch(e){return""}},iZ=e=>(Array.isArray(e)?e:[e]).map(e=>"string"==typeof e?iQ(e):JSON.stringify(Object.fromEntries(Object.entries(e).map(([e,t])=>[e,iQ(t)])),null,2)).join(", "),i0=(e,t)=>()=>{let i=[],n=!1;return{enable:()=>{n=!0},debug:(...e)=>{n&&i.push(e.map(e=>"function"==typeof e?e():e))},commit:()=>{if(n){for(let n of(console.log(`[clerk debug start: ${e}]`),i)){let e=t(n);e=e.split("\n").map(e=>`  ${e}`).join("\n"),process.env.VERCEL&&(e=function(e,t){let i=new TextEncoder,n=new TextDecoder("utf-8"),r=i.encode(e).slice(0,4096);return n.decode(r).replace(/\uFFFD/g,"")}(e,0)),console.log(e)}console.log(`[clerk debug end: ${e}] (@clerk/nextjs=5.7.3,next=${iX.i8})`)}}}},i1=(e,t)=>(...i)=>{let n=("string"==typeof e?i0(e,iZ):e)(),r=t(n);try{let e=r(...i);if("object"==typeof e&&"then"in e&&"function"==typeof e.then)return e.then(e=>(n.commit(),e)).catch(e=>{throw n.commit(),e});return n.commit(),e}catch(e){throw n.commit(),e}},i2=({noAuthStatusMessage:e,debugLoggerName:t})=>i1(t,t=>(i,n)=>{"true"===i$(i,eM.Headers.EnableDebug)&&t.enable();let r=iF(i,"AuthToken"),a=iF(i,"AuthSignature"),s=iF(i,"AuthMessage"),o=iF(i,"AuthReason"),l=iF(i,"AuthStatus");if(t.debug("Headers debug",{authStatus:l,authMessage:s,authReason:o}),!l)throw Error(e);let c=iB(i$(i,eM.Headers.ClerkRequestData)),u={authStatus:l,apiUrl:iT,apiVersion:iS,authMessage:s,secretKey:(null==n?void 0:n.secretKey)||c.secretKey||i_,authReason:o};if(t.debug("Options debug",u),l===tM.SignedIn){!function(e,t,i){if(!i||iq()(e,t).toString()!==i)throw Error("Clerk: Unable to verify request, this usually means the Clerk middleware did not run. Ensure Clerk's middleware is properly integrated and matches the current route. For more information, see: https://clerk.com/docs/nextjs/middleware. (code=auth_signature_invalid)")}(r,u.secretKey,a);let e=iY(r);return t.debug("JWT debug",e.raw.text),tD(u,e.raw.text,e.payload)}return tU(u)});i2({debugLoggerName:"getAuth()",noAuthStatusMessage:iM("getAuth")});let i3={Headers:{NextRewrite:"x-middleware-rewrite",NextResume:"x-middleware-next",NextRedirect:"Location",NextUrl:"next-url",NextAction:"next-action",NextjsData:"x-nextjs-data"}},i4=e=>{let{redirectToSignIn:t,authObject:i,redirect:n,notFound:r,request:a}=e;return(...e)=>{var s,o,l,c,u,d;let h=(null==(s=e[0])?void 0:s.unauthenticatedUrl)||(null==(o=e[0])?void 0:o.unauthorizedUrl)?void 0:e[0],p=(null==(l=e[0])?void 0:l.unauthenticatedUrl)||(null==(c=e[1])?void 0:c.unauthenticatedUrl),f=(null==(u=e[0])?void 0:u.unauthorizedUrl)||(null==(d=e[1])?void 0:d.unauthorizedUrl),m=()=>f?n(f):r();return i.userId?h?"function"==typeof h?h(i.has)?i:m():i.has(h)?i:m():i:p?n(p):i6(a)?t():r()}},i5=e=>{var t,i;return!!e.headers.get(i3.Headers.NextUrl)&&((null==(t=e.headers.get(eM.Headers.Accept))?void 0:t.includes("text/x-component"))||(null==(i=e.headers.get(eM.Headers.ContentType))?void 0:i.includes("multipart/form-data"))||!!e.headers.get(i3.Headers.NextAction))},i6=e=>{var t;return"document"===e.headers.get(eM.Headers.SecFetchDest)||"iframe"===e.headers.get(eM.Headers.SecFetchDest)||(null==(t=e.headers.get(eM.Headers.Accept))?void 0:t.includes("text/html"))||i8(e)||i7(e)},i8=e=>!!e.headers.get(i3.Headers.NextUrl)&&!i5(e)||i9(),i9=()=>{var e;let t=globalThis.fetch;return!!(function(e){return"__nextPatched"in e&&!0===e.__nextPatched}(t)&&(null==(e=t.__nextGetStaticStore().getStore())?void 0:e.pagePath))},i7=e=>!!e.headers.get(i3.Headers.NextjsData),ne=()=>{i(82650);let e=ix(),t=i2({debugLoggerName:"auth()",noAuthStatusMessage:iM()})(e),n=iF(e,"ClerkUrl"),r=(t={})=>{let i=tH(e),r=i.clerkUrl.searchParams.get(eM.QueryParameters.DevBrowser)||i.cookies.get(eM.Cookies.DevBrowser),a=iB(i$(e,eM.Headers.ClerkRequestData));return iv({redirectAdapter:iH.redirect,devBrowserToken:r,baseUrl:i.clerkUrl.toString(),publishableKey:a.publishableKey||iR,signInUrl:a.signInUrl||"/sign-in",signUpUrl:a.signUpUrl||"/sign-up"}).redirectToSignIn({returnBackUrl:null===t.returnBackUrl?"":t.returnBackUrl||(null==n?void 0:n.toString())})},a=i4({request:e,authObject:t,redirectToSignIn:r,notFound:iH.notFound,redirect:iH.redirect});return Object.assign(t,{protect:a,redirectToSignIn:r})};async function nt(){i(82650);let{userId:e}=ne();return e?iW().users.getUser(e):null}},66424:(e,t,i)=>{"use strict";i.d(t,{nV:()=>Z});var n=i(84770),r=i.n(n);let a={randomUUID:r().randomUUID},s=new Uint8Array(256),o=s.length,l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));let c=function(e,t,i){if(a.randomUUID&&!t&&!e)return a.randomUUID();let n=(e=e||{}).random||(e.rng||function(){return o>s.length-16&&(r().randomFillSync(s),o=0),s.slice(o,o+=16)})();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=n[e];return t}return function(e,t=0){return l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]}(n)};var u=i(53868),d=i.n(u);function h(e,t,i,n){return new(i||(i=Promise))(function(r,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(s,o)}l((n=n.apply(e,t||[])).next())})}let p="https://chat.stream-io-api.com".replace(/\/+$/,""),f=new class{constructor(e={}){this.configuration=e}set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:p}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||function e(t,i=""){return Object.keys(t).map(n=>(function t(i,n,r=""){let a=r+(r.length?`[${i}]`:i);if(n instanceof Array){let e=n.map(e=>encodeURIComponent(String(e))).join(`&${encodeURIComponent(a)}=`);return`${encodeURIComponent(a)}=${e}`}return n instanceof Set?t(i,Array.from(n),r):n instanceof Date?`${encodeURIComponent(a)}=${encodeURIComponent(n.toISOString())}`:n instanceof Object?e(n,a):`${encodeURIComponent(a)}=${encodeURIComponent(String(n))}`})(n,t[n],i)).filter(e=>e.length>0).join("&")}}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){let e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){let e=this.configuration.accessToken;if(e)return"function"==typeof e?e:()=>h(this,void 0,void 0,function*(){return e})}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}},m=class e{constructor(e=f){this.configuration=e,this.fetchApi=(e,t)=>h(this,void 0,void 0,function*(){let i,n={url:e,init:t};for(let e of this.middleware)e.pre&&(n=(yield e.pre(Object.assign({fetch:this.fetchApi},n)))||n);try{i=yield(this.configuration.fetchApi||fetch)(n.url,n.init)}catch(e){for(let t of this.middleware)t.onError&&(i=(yield t.onError({fetch:this.fetchApi,url:n.url,init:n.init,error:e,response:i?i.clone():void 0}))||i);if(void 0===i){if(e instanceof Error)throw new y(e,"The request failed and the interceptors did not return an alternative response");throw e}}for(let e of this.middleware)e.post&&(i=(yield e.post({fetch:this.fetchApi,url:n.url,init:n.init,response:i.clone()}))||i);return i}),this.middleware=e.middleware}withMiddleware(...e){let t=this.clone();return t.middleware=t.middleware.concat(...e),t}withPreMiddleware(...e){let t=e.map(e=>({pre:e}));return this.withMiddleware(...t)}withPostMiddleware(...e){let t=e.map(e=>({post:e}));return this.withMiddleware(...t)}isJsonMime(t){return!!t&&e.jsonRegex.test(t)}request(e,t){return h(this,void 0,void 0,function*(){let{url:i,init:n}=yield this.createFetchParams(e,t),r=yield this.fetchApi(i,n);if(r&&r.status>=200&&r.status<300)return r;throw new g(r,"Response returned an error code")})}createFetchParams(e,t){return h(this,void 0,void 0,function*(){var i,n;let r=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(r+="?"+this.configuration.queryParamsStringify(e.query));let a=Object.assign({},this.configuration.headers,e.headers);Object.keys(a).forEach(e=>void 0===a[e]?delete a[e]:{});let s={method:e.method,headers:a,body:e.body,credentials:this.configuration.credentials},o=Object.assign(Object.assign({},s),(yield("function"==typeof t?t:()=>h(this,void 0,void 0,function*(){return t}))({init:s,context:e})));return{url:r,init:Object.assign(Object.assign({},o),{body:(i=o.body,"undefined"!=typeof FormData&&i instanceof FormData||o.body instanceof URLSearchParams||(n=o.body,"undefined"!=typeof Blob&&n instanceof Blob))?o.body:JSON.stringify(o.body)})}})}clone(){let e=new this.constructor(this.configuration);return e.middleware=this.middleware.slice(),e}};m.jsonRegex=RegExp("^(:?application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(:?;.*)?$","i");let g=class extends Error{constructor(e,t){super(t),this.response=e,this.name="ResponseError"}},y=class extends Error{constructor(e,t){super(t),this.cause=e,this.name="FetchError"}},v=class extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}},b={csv:","};function w(e){for(let t of e)if("multipart/form-data"===t.contentType)return!0;return!1}let x=class{constructor(e,t=e=>e){this.raw=e,this.transformer=t}value(){return h(this,void 0,void 0,function*(){return this.transformer((yield this.raw.json()))})}},k=class{constructor(e){this.raw=e}value(){return h(this,void 0,void 0,function*(){})}};class S extends m{createChannelTypeRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.createChannelTypeRequest||void 0===e.createChannelTypeRequest)throw new v("createChannelTypeRequest","Required parameter requestParameters.createChannelTypeRequest was null or undefined when calling createChannelType.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channeltypes",method:"POST",headers:n,query:i,body:e.createChannelTypeRequest},t)))})}createChannelType(e,t){return h(this,void 0,void 0,function*(){let i=yield this.createChannelTypeRaw(e,t);return yield i.value()})}deleteChannelTypeRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new v("name","Required parameter requestParameters.name was null or undefined when calling deleteChannelType.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channeltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:n,query:i},t)))})}deleteChannelType(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deleteChannelTypeRaw(e,t);return yield i.value()})}getChannelTypeRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new v("name","Required parameter requestParameters.name was null or undefined when calling getChannelType.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channeltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"GET",headers:n,query:i},t)))})}getChannelType(e,t){return h(this,void 0,void 0,function*(){let i=yield this.getChannelTypeRaw(e,t);return yield i.value()})}listChannelTypesRaw(e){return h(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channeltypes",method:"GET",headers:i,query:t},e)))})}listChannelTypes(e){return h(this,void 0,void 0,function*(){let t=yield this.listChannelTypesRaw(e);return yield t.value()})}updateChannelTypeRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new v("name","Required parameter requestParameters.name was null or undefined when calling updateChannelType.");if(null===e.updateChannelTypeRequest||void 0===e.updateChannelTypeRequest)throw new v("updateChannelTypeRequest","Required parameter requestParameters.updateChannelTypeRequest was null or undefined when calling updateChannelType.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channeltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"PUT",headers:n,query:i,body:e.updateChannelTypeRequest},t)))})}updateChannelType(e,t){return h(this,void 0,void 0,function*(){let i=yield this.updateChannelTypeRaw(e,t);return yield i.value()})}}class _ extends m{deleteChannelRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling deleteChannel.");if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling deleteChannel.");let i={};void 0!==e.hardDelete&&(i.hard_delete=e.hardDelete);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/{type}/{id}".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"DELETE",headers:n,query:i},t)))})}deleteChannel(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deleteChannelRaw(e,t);return yield i.value()})}deleteChannelsRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.deleteChannelsRequest||void 0===e.deleteChannelsRequest)throw new v("deleteChannelsRequest","Required parameter requestParameters.deleteChannelsRequest was null or undefined when calling deleteChannels.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/delete",method:"POST",headers:n,query:i,body:e.deleteChannelsRequest},t)))})}deleteChannels(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deleteChannelsRaw(e,t);return yield i.value()})}exportChannelsRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.exportChannelsRequest||void 0===e.exportChannelsRequest)throw new v("exportChannelsRequest","Required parameter requestParameters.exportChannelsRequest was null or undefined when calling exportChannels.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/export_channels",method:"POST",headers:n,query:i,body:e.exportChannelsRequest},t)))})}exportChannels(e,t){return h(this,void 0,void 0,function*(){let i=yield this.exportChannelsRaw(e,t);return yield i.value()})}getExportChannelsStatusRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling getExportChannelsStatus.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/export_channels/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:n,query:i},t)))})}getExportChannelsStatus(e,t){return h(this,void 0,void 0,function*(){let i=yield this.getExportChannelsStatusRaw(e,t);return yield i.value()})}getOrCreateChannelRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling getOrCreateChannel.");if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling getOrCreateChannel.");if(null===e.channelGetOrCreateRequest||void 0===e.channelGetOrCreateRequest)throw new v("channelGetOrCreateRequest","Required parameter requestParameters.channelGetOrCreateRequest was null or undefined when calling getOrCreateChannel.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/{type}/{id}/query".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.channelGetOrCreateRequest},t)))})}getOrCreateChannel(e,t){return h(this,void 0,void 0,function*(){let i=yield this.getOrCreateChannelRaw(e,t);return yield i.value()})}hideChannelRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling hideChannel.");if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling hideChannel.");if(null===e.hideChannelRequest||void 0===e.hideChannelRequest)throw new v("hideChannelRequest","Required parameter requestParameters.hideChannelRequest was null or undefined when calling hideChannel.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/{type}/{id}/hide".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.hideChannelRequest},t)))})}hideChannel(e,t){return h(this,void 0,void 0,function*(){let i=yield this.hideChannelRaw(e,t);return yield i.value()})}markChannelsReadRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.markChannelsReadRequest||void 0===e.markChannelsReadRequest)throw new v("markChannelsReadRequest","Required parameter requestParameters.markChannelsReadRequest was null or undefined when calling markChannelsRead.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/read",method:"POST",headers:n,query:i,body:e.markChannelsReadRequest},t)))})}markChannelsRead(e,t){return h(this,void 0,void 0,function*(){let i=yield this.markChannelsReadRaw(e,t);return yield i.value()})}markReadRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling markRead.");if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling markRead.");if(null===e.markReadRequest||void 0===e.markReadRequest)throw new v("markReadRequest","Required parameter requestParameters.markReadRequest was null or undefined when calling markRead.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/{type}/{id}/read".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.markReadRequest},t)))})}markRead(e,t){return h(this,void 0,void 0,function*(){let i=yield this.markReadRaw(e,t);return yield i.value()})}markUnreadRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling markUnread.");if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling markUnread.");if(null===e.markUnreadRequest||void 0===e.markUnreadRequest)throw new v("markUnreadRequest","Required parameter requestParameters.markUnreadRequest was null or undefined when calling markUnread.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/{type}/{id}/unread".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.markUnreadRequest},t)))})}markUnread(e,t){return h(this,void 0,void 0,function*(){let i=yield this.markUnreadRaw(e,t);return yield i.value()})}muteChannelRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.muteChannelRequest||void 0===e.muteChannelRequest)throw new v("muteChannelRequest","Required parameter requestParameters.muteChannelRequest was null or undefined when calling muteChannel.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/moderation/mute/channel",method:"POST",headers:n,query:i,body:e.muteChannelRequest},t)))})}muteChannel(e,t){return h(this,void 0,void 0,function*(){let i=yield this.muteChannelRaw(e,t);return yield i.value()})}queryChannelsRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.queryChannelsRequest||void 0===e.queryChannelsRequest)throw new v("queryChannelsRequest","Required parameter requestParameters.queryChannelsRequest was null or undefined when calling queryChannels.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels",method:"POST",headers:n,query:i,body:e.queryChannelsRequest},t)))})}queryChannels(e,t){return h(this,void 0,void 0,function*(){let i=yield this.queryChannelsRaw(e,t);return yield i.value()})}queryMembersRaw(e,t){return h(this,void 0,void 0,function*(){let i={};void 0!==e.payload&&(i.payload=e.payload);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/members",method:"GET",headers:n,query:i},t)))})}queryMembers(e={},t){return h(this,void 0,void 0,function*(){let i=yield this.queryMembersRaw(e,t);return yield i.value()})}searchRaw(e,t){return h(this,void 0,void 0,function*(){let i={};void 0!==e.payload&&(i.payload=e.payload);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/search",method:"GET",headers:n,query:i},t)))})}search(e={},t){return h(this,void 0,void 0,function*(){let i=yield this.searchRaw(e,t);return yield i.value()})}showChannelRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling showChannel.");if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling showChannel.");if(null===e.showChannelRequest||void 0===e.showChannelRequest)throw new v("showChannelRequest","Required parameter requestParameters.showChannelRequest was null or undefined when calling showChannel.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/{type}/{id}/show".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.showChannelRequest},t)))})}showChannel(e,t){return h(this,void 0,void 0,function*(){let i=yield this.showChannelRaw(e,t);return yield i.value()})}truncateChannelRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling truncateChannel.");if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling truncateChannel.");if(null===e.truncateChannelRequest||void 0===e.truncateChannelRequest)throw new v("truncateChannelRequest","Required parameter requestParameters.truncateChannelRequest was null or undefined when calling truncateChannel.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/{type}/{id}/truncate".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.truncateChannelRequest},t)))})}truncateChannel(e,t){return h(this,void 0,void 0,function*(){let i=yield this.truncateChannelRaw(e,t);return yield i.value()})}unmuteChannelRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.unmuteChannelRequest||void 0===e.unmuteChannelRequest)throw new v("unmuteChannelRequest","Required parameter requestParameters.unmuteChannelRequest was null or undefined when calling unmuteChannel.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/moderation/unmute/channel",method:"POST",headers:n,query:i,body:e.unmuteChannelRequest},t)))})}unmuteChannel(e,t){return h(this,void 0,void 0,function*(){let i=yield this.unmuteChannelRaw(e,t);return yield i.value()})}unreadCountsRaw(e){return h(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/unread",method:"GET",headers:i,query:t},e)))})}unreadCounts(e){return h(this,void 0,void 0,function*(){let t=yield this.unreadCountsRaw(e);return yield t.value()})}updateChannelRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling updateChannel.");if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling updateChannel.");if(null===e.updateChannelRequest||void 0===e.updateChannelRequest)throw new v("updateChannelRequest","Required parameter requestParameters.updateChannelRequest was null or undefined when calling updateChannel.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/{type}/{id}".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.updateChannelRequest},t)))})}updateChannel(e,t){return h(this,void 0,void 0,function*(){let i=yield this.updateChannelRaw(e,t);return yield i.value()})}updateChannelPartialRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling updateChannelPartial.");if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling updateChannelPartial.");if(null===e.updateChannelPartialRequest||void 0===e.updateChannelPartialRequest)throw new v("updateChannelPartialRequest","Required parameter requestParameters.updateChannelPartialRequest was null or undefined when calling updateChannelPartial.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/{type}/{id}".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"PATCH",headers:n,query:i,body:e.updateChannelPartialRequest},t)))})}updateChannelPartial(e,t){return h(this,void 0,void 0,function*(){let i=yield this.updateChannelPartialRaw(e,t);return yield i.value()})}}class R extends m{createCommandRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.createCommandRequest||void 0===e.createCommandRequest)throw new v("createCommandRequest","Required parameter requestParameters.createCommandRequest was null or undefined when calling createCommand.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/commands",method:"POST",headers:n,query:i,body:e.createCommandRequest},t)))})}createCommand(e,t){return h(this,void 0,void 0,function*(){let i=yield this.createCommandRaw(e,t);return yield i.value()})}deleteCommandRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new v("name","Required parameter requestParameters.name was null or undefined when calling deleteCommand.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/commands/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:n,query:i},t)))})}deleteCommand(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deleteCommandRaw(e,t);return yield i.value()})}getCommandRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new v("name","Required parameter requestParameters.name was null or undefined when calling getCommand.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/commands/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"GET",headers:n,query:i},t)))})}getCommand(e,t){return h(this,void 0,void 0,function*(){let i=yield this.getCommandRaw(e,t);return yield i.value()})}listCommandsRaw(e){return h(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/commands",method:"GET",headers:i,query:t},e)))})}listCommands(e){return h(this,void 0,void 0,function*(){let t=yield this.listCommandsRaw(e);return yield t.value()})}updateCommandRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new v("name","Required parameter requestParameters.name was null or undefined when calling updateCommand.");if(null===e.updateCommandRequest||void 0===e.updateCommandRequest)throw new v("updateCommandRequest","Required parameter requestParameters.updateCommandRequest was null or undefined when calling updateCommand.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/commands/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"PUT",headers:n,query:i,body:e.updateCommandRequest},t)))})}updateCommand(e,t){return h(this,void 0,void 0,function*(){let i=yield this.updateCommandRaw(e,t);return yield i.value()})}}class E extends m{createDeviceRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.createDeviceRequest||void 0===e.createDeviceRequest)throw new v("createDeviceRequest","Required parameter requestParameters.createDeviceRequest was null or undefined when calling createDevice.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new k((yield this.request({path:"/devices",method:"POST",headers:n,query:i,body:e.createDeviceRequest},t)))})}createDevice(e,t){return h(this,void 0,void 0,function*(){yield this.createDeviceRaw(e,t)})}deleteDeviceRaw(e,t){return h(this,void 0,void 0,function*(){let i={};void 0!==e.id&&(i.id=e.id),void 0!==e.userId&&(i.user_id=e.userId);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/devices",method:"DELETE",headers:n,query:i},t)))})}deleteDevice(e={},t){return h(this,void 0,void 0,function*(){let i=yield this.deleteDeviceRaw(e,t);return yield i.value()})}listDevicesRaw(e,t){return h(this,void 0,void 0,function*(){let i={};void 0!==e.userId&&(i.user_id=e.userId);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/devices",method:"GET",headers:n,query:i},t)))})}listDevices(e={},t){return h(this,void 0,void 0,function*(){let i=yield this.listDevicesRaw(e,t);return yield i.value()})}}class T extends m{sendEventRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling sendEvent.");if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling sendEvent.");if(null===e.sendEventRequest||void 0===e.sendEventRequest)throw new v("sendEventRequest","Required parameter requestParameters.sendEventRequest was null or undefined when calling sendEvent.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/{type}/{id}/event".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.sendEventRequest},t)))})}sendEvent(e,t){return h(this,void 0,void 0,function*(){let i=yield this.sendEventRaw(e,t);return yield i.value()})}sendUserCustomEventRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.userId||void 0===e.userId)throw new v("userId","Required parameter requestParameters.userId was null or undefined when calling sendUserCustomEvent.");if(null===e.sendUserCustomEventRequest||void 0===e.sendUserCustomEventRequest)throw new v("sendUserCustomEventRequest","Required parameter requestParameters.sendUserCustomEventRequest was null or undefined when calling sendUserCustomEvent.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/users/{user_id}/event".replace("{user_id}",encodeURIComponent(String(e.userId))),method:"POST",headers:n,query:i,body:e.sendUserCustomEventRequest},t)))})}sendUserCustomEvent(e,t){return h(this,void 0,void 0,function*(){let i=yield this.sendUserCustomEventRaw(e,t);return yield i.value()})}}class C extends m{deleteFileRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling deleteFile.");if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling deleteFile.");let i={};void 0!==e.url&&(i.url=e.url);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/{type}/{id}/file".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"DELETE",headers:n,query:i},t)))})}deleteFile(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deleteFileRaw(e,t);return yield i.value()})}deleteImageRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling deleteImage.");if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling deleteImage.");let i={};void 0!==e.url&&(i.url=e.url);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/{type}/{id}/image".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"DELETE",headers:n,query:i},t)))})}deleteImage(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deleteImageRaw(e,t);return yield i.value()})}deleteMessageRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling deleteMessage.");let i={};void 0!==e.hard&&(i.hard=e.hard),void 0!==e.deletedBy&&(i.deleted_by=e.deletedBy);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/messages/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"DELETE",headers:n,query:i},t)))})}deleteMessage(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deleteMessageRaw(e,t);return yield i.value()})}deleteReactionRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling deleteReaction.");if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling deleteReaction.");let i={};void 0!==e.userId&&(i.user_id=e.userId);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/messages/{id}/reaction/{type}".replace("{id}",encodeURIComponent(String(e.id))).replace("{type}",encodeURIComponent(String(e.type))),method:"DELETE",headers:n,query:i},t)))})}deleteReaction(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deleteReactionRaw(e,t);return yield i.value()})}flagRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.flagRequest||void 0===e.flagRequest)throw new v("flagRequest","Required parameter requestParameters.flagRequest was null or undefined when calling flag.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/moderation/flag",method:"POST",headers:n,query:i,body:e.flagRequest},t)))})}flag(e,t){return h(this,void 0,void 0,function*(){let i=yield this.flagRaw(e,t);return yield i.value()})}getManyMessagesRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling getManyMessages.");if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling getManyMessages.");let i={};e.ids&&(i.ids=e.ids.join(","));let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/{type}/{id}/messages".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:n,query:i},t)))})}getManyMessages(e,t){return h(this,void 0,void 0,function*(){let i=yield this.getManyMessagesRaw(e,t);return yield i.value()})}getMessageRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling getMessage.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/messages/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:n,query:i},t)))})}getMessage(e,t){return h(this,void 0,void 0,function*(){let i=yield this.getMessageRaw(e,t);return yield i.value()})}getOGRaw(e,t){return h(this,void 0,void 0,function*(){let i={};void 0!==e.url&&(i.url=e.url);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/og",method:"GET",headers:n,query:i},t)))})}getOG(e={},t){return h(this,void 0,void 0,function*(){let i=yield this.getOGRaw(e,t);return yield i.value()})}getReactionsRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling getReactions.");let i={};void 0!==e.limit&&(i.limit=e.limit),void 0!==e.offset&&(i.offset=e.offset);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/messages/{id}/reactions".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:n,query:i},t)))})}getReactions(e,t){return h(this,void 0,void 0,function*(){let i=yield this.getReactionsRaw(e,t);return yield i.value()})}getRepliesRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.parentId||void 0===e.parentId)throw new v("parentId","Required parameter requestParameters.parentId was null or undefined when calling getReplies.");let i={};void 0!==e.idGte&&(i.id_gte=e.idGte),void 0!==e.idGt&&(i.id_gt=e.idGt),void 0!==e.idLte&&(i.id_lte=e.idLte),void 0!==e.idLt&&(i.id_lt=e.idLt),void 0!==e.createdAtAfterOrEqual&&(i.created_at_after_or_equal=e.createdAtAfterOrEqual),void 0!==e.createdAtAfter&&(i.created_at_after=e.createdAtAfter),void 0!==e.createdAtBeforeOrEqual&&(i.created_at_before_or_equal=e.createdAtBeforeOrEqual),void 0!==e.createdAtBefore&&(i.created_at_before=e.createdAtBefore),void 0!==e.idAround&&(i.id_around=e.idAround),void 0!==e.createdAtAround&&(i.created_at_around=e.createdAtAround);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/messages/{parent_id}/replies".replace("{parent_id}",encodeURIComponent(String(e.parentId))),method:"GET",headers:n,query:i},t)))})}getReplies(e,t){return h(this,void 0,void 0,function*(){let i=yield this.getRepliesRaw(e,t);return yield i.value()})}markChannelsReadRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.markChannelsReadRequest||void 0===e.markChannelsReadRequest)throw new v("markChannelsReadRequest","Required parameter requestParameters.markChannelsReadRequest was null or undefined when calling markChannelsRead.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/read",method:"POST",headers:n,query:i,body:e.markChannelsReadRequest},t)))})}markChannelsRead(e,t){return h(this,void 0,void 0,function*(){let i=yield this.markChannelsReadRaw(e,t);return yield i.value()})}markReadRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling markRead.");if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling markRead.");if(null===e.markReadRequest||void 0===e.markReadRequest)throw new v("markReadRequest","Required parameter requestParameters.markReadRequest was null or undefined when calling markRead.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/{type}/{id}/read".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.markReadRequest},t)))})}markRead(e,t){return h(this,void 0,void 0,function*(){let i=yield this.markReadRaw(e,t);return yield i.value()})}markUnreadRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling markUnread.");if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling markUnread.");if(null===e.markUnreadRequest||void 0===e.markUnreadRequest)throw new v("markUnreadRequest","Required parameter requestParameters.markUnreadRequest was null or undefined when calling markUnread.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/{type}/{id}/unread".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.markUnreadRequest},t)))})}markUnread(e,t){return h(this,void 0,void 0,function*(){let i=yield this.markUnreadRaw(e,t);return yield i.value()})}queryMessageFlagsRaw(e,t){return h(this,void 0,void 0,function*(){let i={};void 0!==e.payload&&(i.payload=e.payload);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/moderation/flags/message",method:"GET",headers:n,query:i},t)))})}queryMessageFlags(e={},t){return h(this,void 0,void 0,function*(){let i=yield this.queryMessageFlagsRaw(e,t);return yield i.value()})}runMessageActionRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling runMessageAction.");if(null===e.messageActionRequest||void 0===e.messageActionRequest)throw new v("messageActionRequest","Required parameter requestParameters.messageActionRequest was null or undefined when calling runMessageAction.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/messages/{id}/action".replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.messageActionRequest},t)))})}runMessageAction(e,t){return h(this,void 0,void 0,function*(){let i=yield this.runMessageActionRaw(e,t);return yield i.value()})}searchRaw(e,t){return h(this,void 0,void 0,function*(){let i={};void 0!==e.payload&&(i.payload=e.payload);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/search",method:"GET",headers:n,query:i},t)))})}search(e={},t){return h(this,void 0,void 0,function*(){let i=yield this.searchRaw(e,t);return yield i.value()})}sendMessageRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling sendMessage.");if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling sendMessage.");if(null===e.sendMessageRequest||void 0===e.sendMessageRequest)throw new v("sendMessageRequest","Required parameter requestParameters.sendMessageRequest was null or undefined when calling sendMessage.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channels/{type}/{id}/message".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.sendMessageRequest},t)))})}sendMessage(e,t){return h(this,void 0,void 0,function*(){let i=yield this.sendMessageRaw(e,t);return yield i.value()})}sendReactionRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling sendReaction.");if(null===e.sendReactionRequest||void 0===e.sendReactionRequest)throw new v("sendReactionRequest","Required parameter requestParameters.sendReactionRequest was null or undefined when calling sendReaction.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/messages/{id}/reaction".replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.sendReactionRequest},t)))})}sendReaction(e,t){return h(this,void 0,void 0,function*(){let i=yield this.sendReactionRaw(e,t);return yield i.value()})}translateMessageRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling translateMessage.");if(null===e.translateMessageRequest||void 0===e.translateMessageRequest)throw new v("translateMessageRequest","Required parameter requestParameters.translateMessageRequest was null or undefined when calling translateMessage.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/messages/{id}/translate".replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.translateMessageRequest},t)))})}translateMessage(e,t){return h(this,void 0,void 0,function*(){let i=yield this.translateMessageRaw(e,t);return yield i.value()})}unflagRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.flagRequest||void 0===e.flagRequest)throw new v("flagRequest","Required parameter requestParameters.flagRequest was null or undefined when calling unflag.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/moderation/unflag",method:"POST",headers:n,query:i,body:e.flagRequest},t)))})}unflag(e,t){return h(this,void 0,void 0,function*(){let i=yield this.unflagRaw(e,t);return yield i.value()})}updateMessageRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling updateMessage.");if(null===e.updateMessageRequest||void 0===e.updateMessageRequest)throw new v("updateMessageRequest","Required parameter requestParameters.updateMessageRequest was null or undefined when calling updateMessage.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/messages/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.updateMessageRequest},t)))})}updateMessage(e,t){return h(this,void 0,void 0,function*(){let i=yield this.updateMessageRaw(e,t);return yield i.value()})}updateMessagePartialRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling updateMessagePartial.");if(null===e.updateMessagePartialRequest||void 0===e.updateMessagePartialRequest)throw new v("updateMessagePartialRequest","Required parameter requestParameters.updateMessagePartialRequest was null or undefined when calling updateMessagePartial.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/messages/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"PUT",headers:n,query:i,body:e.updateMessagePartialRequest},t)))})}updateMessagePartial(e,t){return h(this,void 0,void 0,function*(){let i=yield this.updateMessagePartialRaw(e,t);return yield i.value()})}uploadFileRaw(e,t){return h(this,void 0,void 0,function*(){let i;if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling uploadFile.");if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling uploadFile.");let n={},r={};return this.configuration&&this.configuration.apiKey&&(r["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(n.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization")),w([{contentType:"multipart/form-data"}]),i=new URLSearchParams,void 0!==e.file&&i.append("file",e.file),void 0!==e.user&&i.append("user",new Blob([JSON.stringify(e.user)],{type:"application/json"})),new x((yield this.request({path:"/channels/{type}/{id}/file".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:r,query:n,body:i},t)))})}uploadFile(e,t){return h(this,void 0,void 0,function*(){let i=yield this.uploadFileRaw(e,t);return yield i.value()})}uploadImageRaw(e,t){return h(this,void 0,void 0,function*(){let i;if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling uploadImage.");if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling uploadImage.");let n={},r={};return this.configuration&&this.configuration.apiKey&&(r["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(n.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization")),w([{contentType:"multipart/form-data"}]),i=new URLSearchParams,void 0!==e.file&&i.append("file",e.file),e.uploadSizes&&i.append("upload_sizes",e.uploadSizes.join(b.csv)),void 0!==e.user&&i.append("user",new Blob([JSON.stringify(e.user)],{type:"application/json"})),new x((yield this.request({path:"/channels/{type}/{id}/image".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:r,query:n,body:i},t)))})}uploadImage(e,t){return h(this,void 0,void 0,function*(){let i=yield this.uploadImageRaw(e,t);return yield i.value()})}}class P extends m{createRoleRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.createRoleRequest||void 0===e.createRoleRequest)throw new v("createRoleRequest","Required parameter requestParameters.createRoleRequest was null or undefined when calling createRole.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/roles",method:"POST",headers:n,query:i,body:e.createRoleRequest},t)))})}createRole(e,t){return h(this,void 0,void 0,function*(){let i=yield this.createRoleRaw(e,t);return yield i.value()})}deleteRoleRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new v("name","Required parameter requestParameters.name was null or undefined when calling deleteRole.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/roles/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:n,query:i},t)))})}deleteRole(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deleteRoleRaw(e,t);return yield i.value()})}getPermissionRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling getPermission.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/permissions/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:n,query:i},t)))})}getPermission(e,t){return h(this,void 0,void 0,function*(){let i=yield this.getPermissionRaw(e,t);return yield i.value()})}listPermissionsRaw(e){return h(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/permissions",method:"GET",headers:i,query:t},e)))})}listPermissions(e){return h(this,void 0,void 0,function*(){let t=yield this.listPermissionsRaw(e);return yield t.value()})}listRolesRaw(e){return h(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/roles",method:"GET",headers:i,query:t},e)))})}listRoles(e){return h(this,void 0,void 0,function*(){let t=yield this.listRolesRaw(e);return yield t.value()})}}class A extends m{createDeviceRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.createDeviceRequest||void 0===e.createDeviceRequest)throw new v("createDeviceRequest","Required parameter requestParameters.createDeviceRequest was null or undefined when calling createDevice.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new k((yield this.request({path:"/devices",method:"POST",headers:n,query:i,body:e.createDeviceRequest},t)))})}createDevice(e,t){return h(this,void 0,void 0,function*(){yield this.createDeviceRaw(e,t)})}deletePushProviderRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling deletePushProvider.");if(null===e.name||void 0===e.name)throw new v("name","Required parameter requestParameters.name was null or undefined when calling deletePushProvider.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/push_providers/{type}/{name}".replace("{type}",encodeURIComponent(String(e.type))).replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:n,query:i},t)))})}deletePushProvider(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deletePushProviderRaw(e,t);return yield i.value()})}listPushProvidersRaw(e){return h(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/push_providers",method:"GET",headers:i,query:t},e)))})}listPushProviders(e){return h(this,void 0,void 0,function*(){let t=yield this.listPushProvidersRaw(e);return yield t.value()})}}let I=class extends m{upsertPushProviderRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.upsertPushProviderRequest||void 0===e.upsertPushProviderRequest)throw new v("upsertPushProviderRequest","Required parameter requestParameters.upsertPushProviderRequest was null or undefined when calling upsertPushProvider.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/push_providers",method:"POST",headers:n,query:i,body:e.upsertPushProviderRequest},t)))})}upsertPushProvider(e,t){return h(this,void 0,void 0,function*(){let i=yield this.upsertPushProviderRaw(e,t);return yield i.value()})}},O=class extends m{checkPushRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.checkPushRequest||void 0===e.checkPushRequest)throw new v("checkPushRequest","Required parameter requestParameters.checkPushRequest was null or undefined when calling checkPush.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/check_push",method:"POST",headers:n,query:i,body:e.checkPushRequest},t)))})}checkPush(e,t){return h(this,void 0,void 0,function*(){let i=yield this.checkPushRaw(e,t);return yield i.value()})}checkSNSRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.checkSNSRequest||void 0===e.checkSNSRequest)throw new v("checkSNSRequest","Required parameter requestParameters.checkSNSRequest was null or undefined when calling checkSNS.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/check_sns",method:"POST",headers:n,query:i,body:e.checkSNSRequest},t)))})}checkSNS(e,t){return h(this,void 0,void 0,function*(){let i=yield this.checkSNSRaw(e,t);return yield i.value()})}checkSQSRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.checkSQSRequest||void 0===e.checkSQSRequest)throw new v("checkSQSRequest","Required parameter requestParameters.checkSQSRequest was null or undefined when calling checkSQS.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/check_sqs",method:"POST",headers:n,query:i,body:e.checkSQSRequest},t)))})}checkSQS(e,t){return h(this,void 0,void 0,function*(){let i=yield this.checkSQSRaw(e,t);return yield i.value()})}createBlockListRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.createBlockListRequest||void 0===e.createBlockListRequest)throw new v("createBlockListRequest","Required parameter requestParameters.createBlockListRequest was null or undefined when calling createBlockList.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/blocklists",method:"POST",headers:n,query:i,body:e.createBlockListRequest},t)))})}createBlockList(e,t){return h(this,void 0,void 0,function*(){let i=yield this.createBlockListRaw(e,t);return yield i.value()})}createChannelTypeRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.createChannelTypeRequest||void 0===e.createChannelTypeRequest)throw new v("createChannelTypeRequest","Required parameter requestParameters.createChannelTypeRequest was null or undefined when calling createChannelType.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channeltypes",method:"POST",headers:n,query:i,body:e.createChannelTypeRequest},t)))})}createChannelType(e,t){return h(this,void 0,void 0,function*(){let i=yield this.createChannelTypeRaw(e,t);return yield i.value()})}deleteBlockListRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new v("name","Required parameter requestParameters.name was null or undefined when calling deleteBlockList.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/blocklists/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:n,query:i},t)))})}deleteBlockList(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deleteBlockListRaw(e,t);return yield i.value()})}deleteChannelTypeRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new v("name","Required parameter requestParameters.name was null or undefined when calling deleteChannelType.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channeltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:n,query:i},t)))})}deleteChannelType(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deleteChannelTypeRaw(e,t);return yield i.value()})}deletePushProviderRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new v("type","Required parameter requestParameters.type was null or undefined when calling deletePushProvider.");if(null===e.name||void 0===e.name)throw new v("name","Required parameter requestParameters.name was null or undefined when calling deletePushProvider.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/push_providers/{type}/{name}".replace("{type}",encodeURIComponent(String(e.type))).replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:n,query:i},t)))})}deletePushProvider(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deletePushProviderRaw(e,t);return yield i.value()})}getAppRaw(e){return h(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/app",method:"GET",headers:i,query:t},e)))})}getApp(e){return h(this,void 0,void 0,function*(){let t=yield this.getAppRaw(e);return yield t.value()})}getBlockListRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new v("name","Required parameter requestParameters.name was null or undefined when calling getBlockList.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/blocklists/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"GET",headers:n,query:i},t)))})}getBlockList(e,t){return h(this,void 0,void 0,function*(){let i=yield this.getBlockListRaw(e,t);return yield i.value()})}getChannelTypeRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new v("name","Required parameter requestParameters.name was null or undefined when calling getChannelType.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channeltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"GET",headers:n,query:i},t)))})}getChannelType(e,t){return h(this,void 0,void 0,function*(){let i=yield this.getChannelTypeRaw(e,t);return yield i.value()})}getRateLimitsRaw(e,t){return h(this,void 0,void 0,function*(){let i={};void 0!==e.serverSide&&(i.server_side=e.serverSide),void 0!==e.android&&(i.android=e.android),void 0!==e.ios&&(i.ios=e.ios),void 0!==e.web&&(i.web=e.web),void 0!==e.endpoints&&(i.endpoints=e.endpoints);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/rate_limits",method:"GET",headers:n,query:i},t)))})}getRateLimits(e={},t){return h(this,void 0,void 0,function*(){let i=yield this.getRateLimitsRaw(e,t);return yield i.value()})}listBlockListsRaw(e){return h(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/blocklists",method:"GET",headers:i,query:t},e)))})}listBlockLists(e){return h(this,void 0,void 0,function*(){let t=yield this.listBlockListsRaw(e);return yield t.value()})}listChannelTypesRaw(e){return h(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channeltypes",method:"GET",headers:i,query:t},e)))})}listChannelTypes(e){return h(this,void 0,void 0,function*(){let t=yield this.listChannelTypesRaw(e);return yield t.value()})}listPushProvidersRaw(e){return h(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/push_providers",method:"GET",headers:i,query:t},e)))})}listPushProviders(e){return h(this,void 0,void 0,function*(){let t=yield this.listPushProvidersRaw(e);return yield t.value()})}updateAppRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.updateAppRequest||void 0===e.updateAppRequest)throw new v("updateAppRequest","Required parameter requestParameters.updateAppRequest was null or undefined when calling updateApp.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/app",method:"PATCH",headers:n,query:i,body:e.updateAppRequest},t)))})}updateApp(e,t){return h(this,void 0,void 0,function*(){let i=yield this.updateAppRaw(e,t);return yield i.value()})}updateBlockListRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new v("name","Required parameter requestParameters.name was null or undefined when calling updateBlockList.");if(null===e.updateBlockListRequest||void 0===e.updateBlockListRequest)throw new v("updateBlockListRequest","Required parameter requestParameters.updateBlockListRequest was null or undefined when calling updateBlockList.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/blocklists/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"PUT",headers:n,query:i,body:e.updateBlockListRequest},t)))})}updateBlockList(e,t){return h(this,void 0,void 0,function*(){let i=yield this.updateBlockListRaw(e,t);return yield i.value()})}updateChannelTypeRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new v("name","Required parameter requestParameters.name was null or undefined when calling updateChannelType.");if(null===e.updateChannelTypeRequest||void 0===e.updateChannelTypeRequest)throw new v("updateChannelTypeRequest","Required parameter requestParameters.updateChannelTypeRequest was null or undefined when calling updateChannelType.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/channeltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"PUT",headers:n,query:i,body:e.updateChannelTypeRequest},t)))})}updateChannelType(e,t){return h(this,void 0,void 0,function*(){let i=yield this.updateChannelTypeRaw(e,t);return yield i.value()})}};class j extends m{getTaskRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.id||void 0===e.id)throw new v("id","Required parameter requestParameters.id was null or undefined when calling getTask.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/tasks/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:n,query:i},t)))})}getTask(e,t){return h(this,void 0,void 0,function*(){let i=yield this.getTaskRaw(e,t);return yield i.value()})}}class N extends m{checkPushRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.checkPushRequest||void 0===e.checkPushRequest)throw new v("checkPushRequest","Required parameter requestParameters.checkPushRequest was null or undefined when calling checkPush.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/check_push",method:"POST",headers:n,query:i,body:e.checkPushRequest},t)))})}checkPush(e,t){return h(this,void 0,void 0,function*(){let i=yield this.checkPushRaw(e,t);return yield i.value()})}checkSNSRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.checkSNSRequest||void 0===e.checkSNSRequest)throw new v("checkSNSRequest","Required parameter requestParameters.checkSNSRequest was null or undefined when calling checkSNS.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/check_sns",method:"POST",headers:n,query:i,body:e.checkSNSRequest},t)))})}checkSNS(e,t){return h(this,void 0,void 0,function*(){let i=yield this.checkSNSRaw(e,t);return yield i.value()})}checkSQSRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.checkSQSRequest||void 0===e.checkSQSRequest)throw new v("checkSQSRequest","Required parameter requestParameters.checkSQSRequest was null or undefined when calling checkSQS.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/check_sqs",method:"POST",headers:n,query:i,body:e.checkSQSRequest},t)))})}checkSQS(e,t){return h(this,void 0,void 0,function*(){let i=yield this.checkSQSRaw(e,t);return yield i.value()})}}class L extends m{banRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.banRequest||void 0===e.banRequest)throw new v("banRequest","Required parameter requestParameters.banRequest was null or undefined when calling ban.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/moderation/ban",method:"POST",headers:n,query:i,body:e.banRequest},t)))})}ban(e,t){return h(this,void 0,void 0,function*(){let i=yield this.banRaw(e,t);return yield i.value()})}connectRaw(e,t){return h(this,void 0,void 0,function*(){let i={};void 0!==e.json&&(i.json=e.json);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new k((yield this.request({path:"/connect",method:"GET",headers:n,query:i},t)))})}connect(e={},t){return h(this,void 0,void 0,function*(){yield this.connectRaw(e,t)})}createGuestRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.guestRequest||void 0===e.guestRequest)throw new v("guestRequest","Required parameter requestParameters.guestRequest was null or undefined when calling createGuest.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/guest",method:"POST",headers:n,query:i,body:e.guestRequest},t)))})}createGuest(e,t){return h(this,void 0,void 0,function*(){let i=yield this.createGuestRaw(e,t);return yield i.value()})}deactivateUserRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.userId||void 0===e.userId)throw new v("userId","Required parameter requestParameters.userId was null or undefined when calling deactivateUser.");if(null===e.deactivateUserRequest||void 0===e.deactivateUserRequest)throw new v("deactivateUserRequest","Required parameter requestParameters.deactivateUserRequest was null or undefined when calling deactivateUser.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/users/{user_id}/deactivate".replace("{user_id}",encodeURIComponent(String(e.userId))),method:"POST",headers:n,query:i,body:e.deactivateUserRequest},t)))})}deactivateUser(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deactivateUserRaw(e,t);return yield i.value()})}deactivateUsersRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.deactivateUsersRequest||void 0===e.deactivateUsersRequest)throw new v("deactivateUsersRequest","Required parameter requestParameters.deactivateUsersRequest was null or undefined when calling deactivateUsers.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/users/deactivate",method:"POST",headers:n,query:i,body:e.deactivateUsersRequest},t)))})}deactivateUsers(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deactivateUsersRaw(e,t);return yield i.value()})}deleteUserRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.userId||void 0===e.userId)throw new v("userId","Required parameter requestParameters.userId was null or undefined when calling deleteUser.");let i={};void 0!==e.markMessagesDeleted&&(i.mark_messages_deleted=e.markMessagesDeleted),void 0!==e.hardDelete&&(i.hard_delete=e.hardDelete),void 0!==e.deleteConversationChannels&&(i.delete_conversation_channels=e.deleteConversationChannels);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/users/{user_id}".replace("{user_id}",encodeURIComponent(String(e.userId))),method:"DELETE",headers:n,query:i},t)))})}deleteUser(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deleteUserRaw(e,t);return yield i.value()})}deleteUsersRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.deleteUsersRequest||void 0===e.deleteUsersRequest)throw new v("deleteUsersRequest","Required parameter requestParameters.deleteUsersRequest was null or undefined when calling deleteUsers.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/users/delete",method:"POST",headers:n,query:i,body:e.deleteUsersRequest},t)))})}deleteUsers(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deleteUsersRaw(e,t);return yield i.value()})}exportUserRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.userId||void 0===e.userId)throw new v("userId","Required parameter requestParameters.userId was null or undefined when calling exportUser.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/users/{user_id}/export".replace("{user_id}",encodeURIComponent(String(e.userId))),method:"GET",headers:n,query:i},t)))})}exportUser(e,t){return h(this,void 0,void 0,function*(){let i=yield this.exportUserRaw(e,t);return yield i.value()})}exportUsersRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.exportUsersRequest||void 0===e.exportUsersRequest)throw new v("exportUsersRequest","Required parameter requestParameters.exportUsersRequest was null or undefined when calling exportUsers.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/export/users",method:"POST",headers:n,query:i,body:e.exportUsersRequest},t)))})}exportUsers(e,t){return h(this,void 0,void 0,function*(){let i=yield this.exportUsersRaw(e,t);return yield i.value()})}flagRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.flagRequest||void 0===e.flagRequest)throw new v("flagRequest","Required parameter requestParameters.flagRequest was null or undefined when calling flag.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/moderation/flag",method:"POST",headers:n,query:i,body:e.flagRequest},t)))})}flag(e,t){return h(this,void 0,void 0,function*(){let i=yield this.flagRaw(e,t);return yield i.value()})}longPollRaw(e,t){return h(this,void 0,void 0,function*(){let i={};void 0!==e.json&&(i.json=e.json),void 0!==e.connectionId&&(i.connection_id=e.connectionId);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new k((yield this.request({path:"/longpoll",method:"GET",headers:n,query:i},t)))})}longPoll(e={},t){return h(this,void 0,void 0,function*(){yield this.longPollRaw(e,t)})}muteUserRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.muteUserRequest||void 0===e.muteUserRequest)throw new v("muteUserRequest","Required parameter requestParameters.muteUserRequest was null or undefined when calling muteUser.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/moderation/mute",method:"POST",headers:n,query:i,body:e.muteUserRequest},t)))})}muteUser(e,t){return h(this,void 0,void 0,function*(){let i=yield this.muteUserRaw(e,t);return yield i.value()})}queryBannedUsersRaw(e,t){return h(this,void 0,void 0,function*(){let i={};void 0!==e.payload&&(i.payload=e.payload);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/query_banned_users",method:"GET",headers:n,query:i},t)))})}queryBannedUsers(e={},t){return h(this,void 0,void 0,function*(){let i=yield this.queryBannedUsersRaw(e,t);return yield i.value()})}queryUsersRaw(e,t){return h(this,void 0,void 0,function*(){let i={};void 0!==e.payload&&(i.payload=e.payload);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/users",method:"GET",headers:n,query:i},t)))})}queryUsers(e={},t){return h(this,void 0,void 0,function*(){let i=yield this.queryUsersRaw(e,t);return yield i.value()})}reactivateUserRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.userId||void 0===e.userId)throw new v("userId","Required parameter requestParameters.userId was null or undefined when calling reactivateUser.");if(null===e.reactivateUserRequest||void 0===e.reactivateUserRequest)throw new v("reactivateUserRequest","Required parameter requestParameters.reactivateUserRequest was null or undefined when calling reactivateUser.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/users/{user_id}/reactivate".replace("{user_id}",encodeURIComponent(String(e.userId))),method:"POST",headers:n,query:i,body:e.reactivateUserRequest},t)))})}reactivateUser(e,t){return h(this,void 0,void 0,function*(){let i=yield this.reactivateUserRaw(e,t);return yield i.value()})}reactivateUsersRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.reactivateUsersRequest||void 0===e.reactivateUsersRequest)throw new v("reactivateUsersRequest","Required parameter requestParameters.reactivateUsersRequest was null or undefined when calling reactivateUsers.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/users/reactivate",method:"POST",headers:n,query:i,body:e.reactivateUsersRequest},t)))})}reactivateUsers(e,t){return h(this,void 0,void 0,function*(){let i=yield this.reactivateUsersRaw(e,t);return yield i.value()})}restoreUsersRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.restoreUsersRequest||void 0===e.restoreUsersRequest)throw new v("restoreUsersRequest","Required parameter requestParameters.restoreUsersRequest was null or undefined when calling restoreUsers.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/users/restore",method:"POST",headers:n,query:i,body:e.restoreUsersRequest},t)))})}restoreUsers(e,t){return h(this,void 0,void 0,function*(){let i=yield this.restoreUsersRaw(e,t);return yield i.value()})}unbanRaw(e,t){return h(this,void 0,void 0,function*(){let i={};void 0!==e.targetUserId&&(i.target_user_id=e.targetUserId),void 0!==e.type&&(i.type=e.type),void 0!==e.id&&(i.id=e.id),void 0!==e.createdBy&&(i.created_by=e.createdBy);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/moderation/ban",method:"DELETE",headers:n,query:i},t)))})}unban(e={},t){return h(this,void 0,void 0,function*(){let i=yield this.unbanRaw(e,t);return yield i.value()})}unflagRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.flagRequest||void 0===e.flagRequest)throw new v("flagRequest","Required parameter requestParameters.flagRequest was null or undefined when calling unflag.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/moderation/unflag",method:"POST",headers:n,query:i,body:e.flagRequest},t)))})}unflag(e,t){return h(this,void 0,void 0,function*(){let i=yield this.unflagRaw(e,t);return yield i.value()})}unmuteUserRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.unmuteUserRequest||void 0===e.unmuteUserRequest)throw new v("unmuteUserRequest","Required parameter requestParameters.unmuteUserRequest was null or undefined when calling unmuteUser.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/moderation/unmute",method:"POST",headers:n,query:i,body:e.unmuteUserRequest},t)))})}unmuteUser(e,t){return h(this,void 0,void 0,function*(){let i=yield this.unmuteUserRaw(e,t);return yield i.value()})}updateUsersRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.updateUsersRequest||void 0===e.updateUsersRequest)throw new v("updateUsersRequest","Required parameter requestParameters.updateUsersRequest was null or undefined when calling updateUsers.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/users",method:"POST",headers:n,query:i,body:e.updateUsersRequest},t)))})}updateUsers(e,t){return h(this,void 0,void 0,function*(){let i=yield this.updateUsersRaw(e,t);return yield i.value()})}updateUsersPartialRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.updateUserPartialRequest||void 0===e.updateUserPartialRequest)throw new v("updateUserPartialRequest","Required parameter requestParameters.updateUserPartialRequest was null or undefined when calling updateUsersPartial.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new x((yield this.request({path:"/users",method:"PATCH",headers:n,query:i,body:e.updateUserPartialRequest},t)))})}updateUsersPartial(e,t){return h(this,void 0,void 0,function*(){let i=yield this.updateUsersPartialRaw(e,t);return yield i.value()})}}class D{constructor(e,t,i){this.streamClient=e,this.type=t,this.id=i,this.delete=e=>this.channelsApi.deleteChannel(Object.assign(Object.assign({},this.baseRequest),null!=e?e:{})),this.update=e=>this.channelsApi.updateChannel(Object.assign(Object.assign({},this.baseRequest),{updateChannelRequest:e})),this.updatePartial=e=>this.channelsApi.updateChannelPartial(Object.assign(Object.assign({},this.baseRequest),{updateChannelPartialRequest:e})),this.getOrCreate=e=>h(this,void 0,void 0,function*(){if(this.id)return yield this.channelsApi.getOrCreateChannel(Object.assign(Object.assign({},this.baseRequest),{channelGetOrCreateRequest:null!=e?e:{}}));throw Error("This operation isn't yet implemented")}),this.markRead=e=>this.channelsApi.markRead(Object.assign(Object.assign({},this.baseRequest),{markReadRequest:e})),this.markUnread=e=>this.channelsApi.markUnread(Object.assign(Object.assign({},this.baseRequest),{markUnreadRequest:e})),this.show=e=>this.channelsApi.showChannel(Object.assign(Object.assign({},this.baseRequest),{showChannelRequest:e})),this.hide=e=>this.channelsApi.hideChannel(Object.assign(Object.assign({},this.baseRequest),{hideChannelRequest:e})),this.truncate=e=>this.channelsApi.truncateChannel(Object.assign(Object.assign({},this.baseRequest),{truncateChannelRequest:e})),this.queryMembers=e=>this.channelsApi.queryMembers({payload:Object.assign(Object.assign({},this.baseRequest),e)}),this.mute=e=>this.channelsApi.muteChannel({muteChannelRequest:Object.assign(Object.assign({},e),{channel_cids:[this.cid]})}),this.unmute=e=>this.channelsApi.unmuteChannel({unmuteChannelRequest:Object.assign(Object.assign({},e),{channel_cid:this.cid,channel_cids:[]})}),this.sendMessage=e=>this.messagesApi.sendMessage(Object.assign(Object.assign({},this.baseRequest),{sendMessageRequest:e})),this.deleteMessage=e=>this.messagesApi.deleteMessage(e),this.updateMessage=(e,t)=>this.messagesApi.updateMessage({id:e,updateMessageRequest:t}),this.updateMessagePartial=(e,t)=>this.messagesApi.updateMessagePartial({id:e,updateMessagePartialRequest:t}),this.getMessage=e=>this.messagesApi.getMessage(e),this.getManyMessages=e=>this.messagesApi.getManyMessages(Object.assign(Object.assign({},e),this.baseRequest)),this.translateMessage=(e,t)=>this.messagesApi.translateMessage({id:e,translateMessageRequest:t}),this.getMessagesAround=e=>this.messagesApi.getReplies(e),this.getOpenGraphData=e=>this.messagesApi.getOG(e),this.sendMessageReaction=(e,t)=>this.messagesApi.sendReaction({id:e,sendReactionRequest:t}),this.deleteMessageReaction=(e,t)=>this.messagesApi.deleteReaction(Object.assign(Object.assign({},t),{id:e})),this.getMessageReactions=(e,t)=>this.messagesApi.getReactions(Object.assign(Object.assign({},null!=t?t:{}),{id:e})),this.sendCustomEvent=e=>this.eventsApi.sendEvent(Object.assign(Object.assign({},this.baseRequest),{sendEventRequest:{event:e}}));let n=this.streamClient.getConfiguration();this.channelsApi=new _(n),this.messagesApi=new C(n),this.eventsApi=new T(n)}get cid(){return`${this.baseRequest.type}:${this.baseRequest.id}`}get baseRequest(){if(!this.id)throw Error("You need to initialize the channel with `getOrCreate`");return{id:this.id,type:this.type}}}class U{constructor(e){this.streamClient=e,this.channel=(e,t)=>new D(this.streamClient,e,t),this.createBlockList=e=>this.settingsApi.createBlockList({createBlockListRequest:e}),this.listBlockLists=()=>this.settingsApi.listBlockLists(),this.getBlockList=e=>this.settingsApi.getBlockList(e),this.updateBlockList=(e,t)=>this.settingsApi.updateBlockList({name:e,updateBlockListRequest:t}),this.deleteBlockList=e=>this.settingsApi.deleteBlockList(e),this.createChannelType=e=>this.channelTypesApi.createChannelType({createChannelTypeRequest:e}),this.deleteChannelType=e=>this.channelTypesApi.deleteChannelType(e),this.getChannelType=e=>this.channelTypesApi.getChannelType(e),this.listChannelTypes=()=>this.channelTypesApi.listChannelTypes(),this.updateChannelType=(e,t)=>this.channelTypesApi.updateChannelType({name:e,updateChannelTypeRequest:t}),this.queryChannels=e=>this.channelsApi.queryChannels({queryChannelsRequest:null!=e?e:null}),this.searchMessages=e=>this.channelsApi.search({payload:e}),this.exportChannels=e=>this.channelsApi.exportChannels({exportChannelsRequest:null!=e?e:null}),this.getExportStatus=e=>this.channelsApi.getExportChannelsStatus(e),this.listCommands=()=>this.commandsApi.listCommands(),this.createCommand=e=>this.commandsApi.createCommand({createCommandRequest:e}),this.getCommand=e=>this.commandsApi.getCommand(e),this.updateCommand=(e,t)=>this.commandsApi.updateCommand({name:e,updateCommandRequest:t}),this.deleteCommand=e=>this.commandsApi.deleteCommand(e);let t=this.streamClient.getConfiguration();this.settingsApi=new O(t),this.channelTypesApi=new S(t),this.channelsApi=new _(t),this.commandsApi=new R(t)}}let q="https://stream-io-api.com".replace(/\/+$/,"");class M{constructor(e={}){this.configuration=e}set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:q}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||function e(t,i=""){return Object.keys(t).map(n=>(function t(i,n,r=""){let a=r+(r.length?`[${i}]`:i);if(n instanceof Array){let e=n.map(e=>encodeURIComponent(String(e))).join(`&${encodeURIComponent(a)}=`);return`${encodeURIComponent(a)}=${e}`}return n instanceof Set?t(i,Array.from(n),r):n instanceof Date?`${encodeURIComponent(a)}=${encodeURIComponent(n.toISOString())}`:n instanceof Object?e(n,a):`${encodeURIComponent(a)}=${encodeURIComponent(String(n))}`})(n,t[n],i)).filter(e=>e.length>0).join("&")}}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){let e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){let e=this.configuration.accessToken;if(e)return"function"==typeof e?e:()=>h(this,void 0,void 0,function*(){return e})}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}}let F=new M;class ${constructor(e=F){this.configuration=e,this.fetchApi=(e,t)=>h(this,void 0,void 0,function*(){let i,n={url:e,init:t};for(let e of this.middleware)e.pre&&(n=(yield e.pre(Object.assign({fetch:this.fetchApi},n)))||n);try{i=yield(this.configuration.fetchApi||fetch)(n.url,n.init)}catch(e){for(let t of this.middleware)t.onError&&(i=(yield t.onError({fetch:this.fetchApi,url:n.url,init:n.init,error:e,response:i?i.clone():void 0}))||i);if(void 0===i){if(e instanceof Error)throw new K(e,"The request failed and the interceptors did not return an alternative response");throw e}}for(let e of this.middleware)e.post&&(i=(yield e.post({fetch:this.fetchApi,url:n.url,init:n.init,response:i.clone()}))||i);return i}),this.middleware=e.middleware}withMiddleware(...e){let t=this.clone();return t.middleware=t.middleware.concat(...e),t}withPreMiddleware(...e){let t=e.map(e=>({pre:e}));return this.withMiddleware(...t)}withPostMiddleware(...e){let t=e.map(e=>({post:e}));return this.withMiddleware(...t)}isJsonMime(e){return!!e&&$.jsonRegex.test(e)}request(e,t){return h(this,void 0,void 0,function*(){let{url:i,init:n}=yield this.createFetchParams(e,t),r=yield this.fetchApi(i,n);if(r&&r.status>=200&&r.status<300)return r;throw new B(r,"Response returned an error code")})}createFetchParams(e,t){return h(this,void 0,void 0,function*(){var i,n;let r=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(r+="?"+this.configuration.queryParamsStringify(e.query));let a=Object.assign({},this.configuration.headers,e.headers);Object.keys(a).forEach(e=>void 0===a[e]?delete a[e]:{});let s={method:e.method,headers:a,body:e.body,credentials:this.configuration.credentials},o=Object.assign(Object.assign({},s),(yield("function"==typeof t?t:()=>h(this,void 0,void 0,function*(){return t}))({init:s,context:e})));return{url:r,init:Object.assign(Object.assign({},o),{body:(i=o.body,"undefined"!=typeof FormData&&i instanceof FormData||o.body instanceof URLSearchParams||(n=o.body,"undefined"!=typeof Blob&&n instanceof Blob))?o.body:JSON.stringify(o.body)})}})}clone(){let e=new this.constructor(this.configuration);return e.middleware=this.middleware.slice(),e}}$.jsonRegex=RegExp("^(:?application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(:?;.*)?$","i");class B extends Error{constructor(e,t){super(t),this.response=e,this.name="ResponseError"}}class K extends Error{constructor(e,t){super(t),this.cause=e,this.name="FetchError"}}class z extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}class V{constructor(e,t=e=>e){this.raw=e,this.transformer=t}value(){return h(this,void 0,void 0,function*(){return this.transformer((yield this.raw.json()))})}}class W{constructor(e){this.raw=e}value(){return h(this,void 0,void 0,function*(){})}}class H extends ${blockUserRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling blockUser.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling blockUser.");if(null===e.videoBlockUserRequest||void 0===e.videoBlockUserRequest)throw new z("videoBlockUserRequest","Required parameter requestParameters.videoBlockUserRequest was null or undefined when calling blockUser.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/block".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoBlockUserRequest},t)))})}blockUser(e,t){return h(this,void 0,void 0,function*(){let i=yield this.blockUserRaw(e,t);return yield i.value()})}createDeviceRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.videoCreateDeviceRequest||void 0===e.videoCreateDeviceRequest)throw new z("videoCreateDeviceRequest","Required parameter requestParameters.videoCreateDeviceRequest was null or undefined when calling createDevice.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/devices",method:"POST",headers:n,query:i,body:e.videoCreateDeviceRequest},t)))})}createDevice(e,t){return h(this,void 0,void 0,function*(){let i=yield this.createDeviceRaw(e,t);return yield i.value()})}createGuestRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.videoCreateGuestRequest||void 0===e.videoCreateGuestRequest)throw new z("videoCreateGuestRequest","Required parameter requestParameters.videoCreateGuestRequest was null or undefined when calling createGuest.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/guest",method:"POST",headers:n,query:i,body:e.videoCreateGuestRequest},t)))})}createGuest(e,t){return h(this,void 0,void 0,function*(){let i=yield this.createGuestRaw(e,t);return yield i.value()})}deleteDeviceRaw(e,t){return h(this,void 0,void 0,function*(){let i={};void 0!==e.id&&(i.id=e.id),void 0!==e.userId&&(i.user_id=e.userId);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/devices",method:"DELETE",headers:n,query:i},t)))})}deleteDevice(e={},t){return h(this,void 0,void 0,function*(){let i=yield this.deleteDeviceRaw(e,t);return yield i.value()})}endCallRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling endCall.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling endCall.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/mark_ended".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i},t)))})}endCall(e,t){return h(this,void 0,void 0,function*(){let i=yield this.endCallRaw(e,t);return yield i.value()})}getCallRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling getCall.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling getCall.");let i={};void 0!==e.connectionId&&(i.connection_id=e.connectionId),void 0!==e.membersLimit&&(i.members_limit=e.membersLimit),void 0!==e.ring&&(i.ring=e.ring),void 0!==e.notify&&(i.notify=e.notify);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:n,query:i},t)))})}getCall(e,t){return h(this,void 0,void 0,function*(){let i=yield this.getCallRaw(e,t);return yield i.value()})}getEdgesRaw(e){return h(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/edges",method:"GET",headers:i,query:t},e)))})}getEdges(e){return h(this,void 0,void 0,function*(){let t=yield this.getEdgesRaw(e);return yield t.value()})}getOrCreateCallRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling getOrCreateCall.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling getOrCreateCall.");if(null===e.videoGetOrCreateCallRequest||void 0===e.videoGetOrCreateCallRequest)throw new z("videoGetOrCreateCallRequest","Required parameter requestParameters.videoGetOrCreateCallRequest was null or undefined when calling getOrCreateCall.");let i={};void 0!==e.connectionId&&(i.connection_id=e.connectionId);let n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoGetOrCreateCallRequest},t)))})}getOrCreateCall(e,t){return h(this,void 0,void 0,function*(){let i=yield this.getOrCreateCallRaw(e,t);return yield i.value()})}goLiveRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling goLive.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling goLive.");if(null===e.videoGoLiveRequest||void 0===e.videoGoLiveRequest)throw new z("videoGoLiveRequest","Required parameter requestParameters.videoGoLiveRequest was null or undefined when calling goLive.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/go_live".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoGoLiveRequest},t)))})}goLive(e,t){return h(this,void 0,void 0,function*(){let i=yield this.goLiveRaw(e,t);return yield i.value()})}listDevicesRaw(e,t){return h(this,void 0,void 0,function*(){let i={};void 0!==e.userId&&(i.user_id=e.userId);let n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/devices",method:"GET",headers:n,query:i},t)))})}listDevices(e={},t){return h(this,void 0,void 0,function*(){let i=yield this.listDevicesRaw(e,t);return yield i.value()})}listRecordingsRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling listRecordings.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling listRecordings.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/recordings".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:n,query:i},t)))})}listRecordings(e,t){return h(this,void 0,void 0,function*(){let i=yield this.listRecordingsRaw(e,t);return yield i.value()})}listTranscriptionsRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling listTranscriptions.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling listTranscriptions.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/transcriptions".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:n,query:i},t)))})}listTranscriptions(e,t){return h(this,void 0,void 0,function*(){let i=yield this.listTranscriptionsRaw(e,t);return yield i.value()})}muteUsersRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling muteUsers.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling muteUsers.");if(null===e.videoMuteUsersRequest||void 0===e.videoMuteUsersRequest)throw new z("videoMuteUsersRequest","Required parameter requestParameters.videoMuteUsersRequest was null or undefined when calling muteUsers.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/mute_users".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoMuteUsersRequest},t)))})}muteUsers(e,t){return h(this,void 0,void 0,function*(){let i=yield this.muteUsersRaw(e,t);return yield i.value()})}queryCallsRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.videoQueryCallsRequest||void 0===e.videoQueryCallsRequest)throw new z("videoQueryCallsRequest","Required parameter requestParameters.videoQueryCallsRequest was null or undefined when calling queryCalls.");let i={};void 0!==e.connectionId&&(i.connection_id=e.connectionId);let n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/calls",method:"POST",headers:n,query:i,body:e.videoQueryCallsRequest},t)))})}queryCalls(e,t){return h(this,void 0,void 0,function*(){let i=yield this.queryCallsRaw(e,t);return yield i.value()})}queryMembersRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.videoQueryMembersRequest||void 0===e.videoQueryMembersRequest)throw new z("videoQueryMembersRequest","Required parameter requestParameters.videoQueryMembersRequest was null or undefined when calling queryMembers.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/members",method:"POST",headers:n,query:i,body:e.videoQueryMembersRequest},t)))})}queryMembers(e,t){return h(this,void 0,void 0,function*(){let i=yield this.queryMembersRaw(e,t);return yield i.value()})}sendEventRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling sendEvent.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling sendEvent.");if(null===e.videoSendEventRequest||void 0===e.videoSendEventRequest)throw new z("videoSendEventRequest","Required parameter requestParameters.videoSendEventRequest was null or undefined when calling sendEvent.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/event".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoSendEventRequest},t)))})}sendEvent(e,t){return h(this,void 0,void 0,function*(){let i=yield this.sendEventRaw(e,t);return yield i.value()})}startHLSBroadcastingRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling startHLSBroadcasting.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling startHLSBroadcasting.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/start_broadcasting".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i},t)))})}startHLSBroadcasting(e,t){return h(this,void 0,void 0,function*(){let i=yield this.startHLSBroadcastingRaw(e,t);return yield i.value()})}startRecordingRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling startRecording.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling startRecording.");if(null===e.videoStartRecordingRequest||void 0===e.videoStartRecordingRequest)throw new z("videoStartRecordingRequest","Required parameter requestParameters.videoStartRecordingRequest was null or undefined when calling startRecording.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/start_recording".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoStartRecordingRequest},t)))})}startRecording(e,t){return h(this,void 0,void 0,function*(){let i=yield this.startRecordingRaw(e,t);return yield i.value()})}startTranscriptionRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling startTranscription.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling startTranscription.");if(null===e.videoStartTranscriptionRequest||void 0===e.videoStartTranscriptionRequest)throw new z("videoStartTranscriptionRequest","Required parameter requestParameters.videoStartTranscriptionRequest was null or undefined when calling startTranscription.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/start_transcription".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoStartTranscriptionRequest},t)))})}startTranscription(e,t){return h(this,void 0,void 0,function*(){let i=yield this.startTranscriptionRaw(e,t);return yield i.value()})}stopHLSBroadcastingRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling stopHLSBroadcasting.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling stopHLSBroadcasting.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/stop_broadcasting".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i},t)))})}stopHLSBroadcasting(e,t){return h(this,void 0,void 0,function*(){let i=yield this.stopHLSBroadcastingRaw(e,t);return yield i.value()})}stopLiveRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling stopLive.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling stopLive.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/stop_live".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i},t)))})}stopLive(e,t){return h(this,void 0,void 0,function*(){let i=yield this.stopLiveRaw(e,t);return yield i.value()})}stopRecordingRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling stopRecording.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling stopRecording.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/stop_recording".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i},t)))})}stopRecording(e,t){return h(this,void 0,void 0,function*(){let i=yield this.stopRecordingRaw(e,t);return yield i.value()})}stopTranscriptionRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling stopTranscription.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling stopTranscription.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/stop_transcription".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i},t)))})}stopTranscription(e,t){return h(this,void 0,void 0,function*(){let i=yield this.stopTranscriptionRaw(e,t);return yield i.value()})}unblockUserRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling unblockUser.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling unblockUser.");if(null===e.videoUnblockUserRequest||void 0===e.videoUnblockUserRequest)throw new z("videoUnblockUserRequest","Required parameter requestParameters.videoUnblockUserRequest was null or undefined when calling unblockUser.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/unblock".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoUnblockUserRequest},t)))})}unblockUser(e,t){return h(this,void 0,void 0,function*(){let i=yield this.unblockUserRaw(e,t);return yield i.value()})}updateCallRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling updateCall.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling updateCall.");if(null===e.videoUpdateCallRequest||void 0===e.videoUpdateCallRequest)throw new z("videoUpdateCallRequest","Required parameter requestParameters.videoUpdateCallRequest was null or undefined when calling updateCall.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"PATCH",headers:n,query:i,body:e.videoUpdateCallRequest},t)))})}updateCall(e,t){return h(this,void 0,void 0,function*(){let i=yield this.updateCallRaw(e,t);return yield i.value()})}updateCallMembersRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling updateCallMembers.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling updateCallMembers.");if(null===e.videoUpdateCallMembersRequest||void 0===e.videoUpdateCallMembersRequest)throw new z("videoUpdateCallMembersRequest","Required parameter requestParameters.videoUpdateCallMembersRequest was null or undefined when calling updateCallMembers.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/members".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoUpdateCallMembersRequest},t)))})}updateCallMembers(e,t){return h(this,void 0,void 0,function*(){let i=yield this.updateCallMembersRaw(e,t);return yield i.value()})}updateUserPermissionsRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling updateUserPermissions.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling updateUserPermissions.");if(null===e.videoUpdateUserPermissionsRequest||void 0===e.videoUpdateUserPermissionsRequest)throw new z("videoUpdateUserPermissionsRequest","Required parameter requestParameters.videoUpdateUserPermissionsRequest was null or undefined when calling updateUserPermissions.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/user_permissions".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoUpdateUserPermissionsRequest},t)))})}updateUserPermissions(e,t){return h(this,void 0,void 0,function*(){let i=yield this.updateUserPermissionsRaw(e,t);return yield i.value()})}videoConnectRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.videoWSAuthMessageRequest||void 0===e.videoWSAuthMessageRequest)throw new z("videoWSAuthMessageRequest","Required parameter requestParameters.videoWSAuthMessageRequest was null or undefined when calling videoConnect.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new W((yield this.request({path:"/video/connect",method:"GET",headers:n,query:i,body:e.videoWSAuthMessageRequest},t)))})}videoConnect(e,t){return h(this,void 0,void 0,function*(){yield this.videoConnectRaw(e,t)})}videoPinRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling videoPin.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling videoPin.");if(null===e.videoPinRequest||void 0===e.videoPinRequest)throw new z("videoPinRequest","Required parameter requestParameters.videoPinRequest was null or undefined when calling videoPin.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/pin".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoPinRequest},t)))})}videoPin(e,t){return h(this,void 0,void 0,function*(){let i=yield this.videoPinRaw(e,t);return yield i.value()})}videoUnpinRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.type||void 0===e.type)throw new z("type","Required parameter requestParameters.type was null or undefined when calling videoUnpin.");if(null===e.id||void 0===e.id)throw new z("id","Required parameter requestParameters.id was null or undefined when calling videoUnpin.");if(null===e.videoUnpinRequest||void 0===e.videoUnpinRequest)throw new z("videoUnpinRequest","Required parameter requestParameters.videoUnpinRequest was null or undefined when calling videoUnpin.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/call/{type}/{id}/unpin".replace("{type}",encodeURIComponent(String(e.type))).replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:n,query:i,body:e.videoUnpinRequest},t)))})}videoUnpin(e,t){return h(this,void 0,void 0,function*(){let i=yield this.videoUnpinRaw(e,t);return yield i.value()})}}class G extends ${checkExternalStorageRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new z("name","Required parameter requestParameters.name was null or undefined when calling checkExternalStorage.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/external_storage/{name}/check".replace("{name}",encodeURIComponent(String(e.name))),method:"GET",headers:n,query:i},t)))})}checkExternalStorage(e,t){return h(this,void 0,void 0,function*(){let i=yield this.checkExternalStorageRaw(e,t);return yield i.value()})}createCallTypeRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.videoCreateCallTypeRequest||void 0===e.videoCreateCallTypeRequest)throw new z("videoCreateCallTypeRequest","Required parameter requestParameters.videoCreateCallTypeRequest was null or undefined when calling createCallType.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/calltypes",method:"POST",headers:n,query:i,body:e.videoCreateCallTypeRequest},t)))})}createCallType(e,t){return h(this,void 0,void 0,function*(){let i=yield this.createCallTypeRaw(e,t);return yield i.value()})}deleteCallTypeRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new z("name","Required parameter requestParameters.name was null or undefined when calling deleteCallType.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/calltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:n,query:i},t)))})}deleteCallType(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deleteCallTypeRaw(e,t);return yield i.value()})}getCallTypeRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new z("name","Required parameter requestParameters.name was null or undefined when calling getCallType.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/calltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"GET",headers:n,query:i},t)))})}getCallType(e,t){return h(this,void 0,void 0,function*(){let i=yield this.getCallTypeRaw(e,t);return yield i.value()})}listCallTypesRaw(e){return h(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/calltypes",method:"GET",headers:i,query:t},e)))})}listCallTypes(e){return h(this,void 0,void 0,function*(){let t=yield this.listCallTypesRaw(e);return yield t.value()})}updateCallTypeRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new z("name","Required parameter requestParameters.name was null or undefined when calling updateCallType.");if(null===e.videoUpdateCallTypeRequest||void 0===e.videoUpdateCallTypeRequest)throw new z("videoUpdateCallTypeRequest","Required parameter requestParameters.videoUpdateCallTypeRequest was null or undefined when calling updateCallType.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/calltypes/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"PUT",headers:n,query:i,body:e.videoUpdateCallTypeRequest},t)))})}updateCallType(e,t){return h(this,void 0,void 0,function*(){let i=yield this.updateCallTypeRaw(e,t);return yield i.value()})}updateExternalStorageRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new z("name","Required parameter requestParameters.name was null or undefined when calling updateExternalStorage.");if(null===e.videoUpdateExternalStorageRequest||void 0===e.videoUpdateExternalStorageRequest)throw new z("videoUpdateExternalStorageRequest","Required parameter requestParameters.videoUpdateExternalStorageRequest was null or undefined when calling updateExternalStorage.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/external_storage/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"PUT",headers:n,query:i,body:e.videoUpdateExternalStorageRequest},t)))})}updateExternalStorage(e,t){return h(this,void 0,void 0,function*(){let i=yield this.updateExternalStorageRaw(e,t);return yield i.value()})}}class J extends ${createExternalStorageRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.videoCreateExternalStorageRequest||void 0===e.videoCreateExternalStorageRequest)throw new z("videoCreateExternalStorageRequest","Required parameter requestParameters.videoCreateExternalStorageRequest was null or undefined when calling createExternalStorage.");let i={},n={};return n["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/external_storage",method:"POST",headers:n,query:i,body:e.videoCreateExternalStorageRequest},t)))})}createExternalStorage(e,t){return h(this,void 0,void 0,function*(){let i=yield this.createExternalStorageRaw(e,t);return yield i.value()})}deleteExternalStorageRaw(e,t){return h(this,void 0,void 0,function*(){if(null===e.name||void 0===e.name)throw new z("name","Required parameter requestParameters.name was null or undefined when calling deleteExternalStorage.");let i={},n={};return this.configuration&&this.configuration.apiKey&&(n["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(i.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/external_storage/{name}".replace("{name}",encodeURIComponent(String(e.name))),method:"DELETE",headers:n,query:i},t)))})}deleteExternalStorage(e,t){return h(this,void 0,void 0,function*(){let i=yield this.deleteExternalStorageRaw(e,t);return yield i.value()})}listExternalStorageRaw(e){return h(this,void 0,void 0,function*(){let t={},i={};return this.configuration&&this.configuration.apiKey&&(i["Stream-Auth-Type"]=this.configuration.apiKey("Stream-Auth-Type")),this.configuration&&this.configuration.apiKey&&(t.api_key=this.configuration.apiKey("api_key")),this.configuration&&this.configuration.apiKey&&(i.Authorization=this.configuration.apiKey("Authorization")),new V((yield this.request({path:"/video/external_storage",method:"GET",headers:i,query:t},e)))})}listExternalStorage(e){return h(this,void 0,void 0,function*(){let t=yield this.listExternalStorageRaw(e);return yield t.value()})}}class Y{constructor(e,t,i){this.streamClient=e,this.type=t,this.id=i,this.blockUser=e=>this.apiClient.blockUser(Object.assign(Object.assign({},this.baseRequest),{videoBlockUserRequest:e})),this.endCall=()=>this.apiClient.endCall(Object.assign({},this.baseRequest)),this.get=e=>this.apiClient.getCall(Object.assign(Object.assign({},null!=e?e:{}),this.baseRequest)),this.getOrCreate=e=>this.apiClient.getOrCreateCall(Object.assign(Object.assign({},this.baseRequest),{videoGetOrCreateCallRequest:null!=e?e:{}})),this.create=e=>this.getOrCreate(e),this.goLive=e=>this.apiClient.goLive(Object.assign(Object.assign({},this.baseRequest),{videoGoLiveRequest:null!=e?e:{}})),this.listRecordings=()=>this.apiClient.listRecordings(Object.assign({},this.baseRequest)),this.muteUsers=e=>this.apiClient.muteUsers(Object.assign(Object.assign({},this.baseRequest),{videoMuteUsersRequest:e})),this.queryMembers=e=>this.apiClient.queryMembers({videoQueryMembersRequest:Object.assign(Object.assign({},null!=e?e:{}),this.baseRequest)}),this.sendCustomEvent=e=>this.apiClient.sendEvent(Object.assign({videoSendEventRequest:{custom:e}},this.baseRequest)),this.startHLSBroadcasting=()=>this.apiClient.startHLSBroadcasting(Object.assign({},this.baseRequest)),this.startRecording=e=>this.apiClient.startRecording(Object.assign(Object.assign({},this.baseRequest),{videoStartRecordingRequest:null!=e?e:{}})),this.startTranscription=(e={})=>this.apiClient.startTranscription(Object.assign(Object.assign({},this.baseRequest),{videoStartTranscriptionRequest:e})),this.stopHLSBroadcasting=()=>this.apiClient.stopHLSBroadcasting(Object.assign({},this.baseRequest)),this.stopLive=()=>this.apiClient.stopLive(Object.assign({},this.baseRequest)),this.stopRecording=()=>this.apiClient.stopRecording(Object.assign({},this.baseRequest)),this.stopTranscription=()=>this.apiClient.stopTranscription(Object.assign({},this.baseRequest)),this.unblockUser=e=>this.apiClient.unblockUser(Object.assign({videoUnblockUserRequest:e},this.baseRequest)),this.update=e=>this.apiClient.updateCall(Object.assign({videoUpdateCallRequest:e},this.baseRequest)),this.updateCallMembers=e=>this.apiClient.updateCallMembers(Object.assign({videoUpdateCallMembersRequest:e},this.baseRequest)),this.updateUserPermissions=e=>this.apiClient.updateUserPermissions(Object.assign({videoUpdateUserPermissionsRequest:e},this.baseRequest)),this.pinVideo=e=>this.apiClient.videoPin(Object.assign({videoPinRequest:e},this.baseRequest)),this.unpinVideo=e=>this.apiClient.videoUnpin(Object.assign({videoUnpinRequest:e},this.baseRequest)),this.baseRequest={id:this.id,type:this.type};let n=this.streamClient.getConfiguration("video");this.apiClient=new H(n)}}class X{constructor(e){this.streamClient=e,this.call=(e,t)=>new Y(this.streamClient,e,t),this.queryCalls=e=>this.apiClient.queryCalls({videoQueryCallsRequest:null!=e?e:{}}),this.createCallType=e=>this.videoServerSideApiClient.createCallType({videoCreateCallTypeRequest:e}),this.deleteCallType=e=>this.videoServerSideApiClient.deleteCallType(e),this.getCallType=e=>this.videoServerSideApiClient.getCallType(e),this.listCallTypes=()=>this.videoServerSideApiClient.listCallTypes(),this.updateCallType=(e,t)=>this.videoServerSideApiClient.updateCallType({name:e,videoUpdateCallTypeRequest:t}),this.listExternalStorages=()=>this.settingsApi.listExternalStorage(),this.createExternalStorage=e=>this.settingsApi.createExternalStorage({videoCreateExternalStorageRequest:e}),this.deleteExternalStorage=e=>this.settingsApi.deleteExternalStorage(e),this.updateExternalStorage=(e,t)=>this.videoServerSideApiClient.updateExternalStorage({name:e,videoUpdateExternalStorageRequest:t}),this.checkExternalStorage=e=>this.videoServerSideApiClient.checkExternalStorage(e);let t=this.streamClient.getConfiguration("video");this.apiClient=new H(t),this.settingsApi=new J(t),this.videoServerSideApiClient=new G(t)}}function Q(e,t,i={},n={}){if("string"!=typeof t)throw TypeError("userId should be a string");let r=Object.assign({user_id:t},i);if(null==d()||null==d().sign)throw Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.");let a=Object.assign({algorithm:"HS256",noTimestamp:!0},n);return r.iat&&(a.noTimestamp=!1),d().sign(r,e,a)}class Z{constructor(e,t,i){var n;this.apiKey=e,this.secret=t,this.config=i,this.options={},this.createDevice=e=>this.devicesApi.createDevice({createDeviceRequest:e}),this.deleteDevice=e=>this.devicesApi.deleteDevice(e),this.listDevices=e=>this.devicesApi.listDevices(e),this.listPushProviders=()=>this.pushApi.listPushProviders(),this.deletePushProvider=e=>this.pushApi.deletePushProvider(e),this.upsertPushProvider=e=>this.serversideApi.upsertPushProvider({upsertPushProviderRequest:{push_provider:e}}),this.checkPush=e=>this.testingApi.checkPush({checkPushRequest:e}),this.createGuest=e=>h(this,void 0,void 0,function*(){e.user=this.mapCustomDataBeforeSend(e.user);let t=yield this.usersApi.createGuest({guestRequest:e});return t.user=this.mapCustomDataAfterReceive(t.user),t}),this.banUser=e=>(e.user=this.mapCustomDataBeforeSend(e.user),e.banned_by=this.mapCustomDataBeforeSend(e.banned_by),this.usersApi.ban({banRequest:e})),this.deactivateUser=e=>h(this,void 0,void 0,function*(){let t=yield this.usersApi.deactivateUser({deactivateUserRequest:e,userId:e.user_id});return t.user=this.mapCustomDataAfterReceive(t.user),t}),this.deactivateUsers=e=>this.usersApi.deactivateUsers({deactivateUsersRequest:e}),this.deleteUser=e=>h(this,void 0,void 0,function*(){let t=yield this.usersApi.deleteUser(e);return t.user=this.mapCustomDataAfterReceive(t.user),t}),this.deleteUsers=e=>this.usersApi.deleteUsers({deleteUsersRequest:e}),this.exportUser=e=>this.usersApi.exportUser(e),this.exportUsers=e=>this.usersApi.exportUsers({exportUsersRequest:e}),this.flag=e=>h(this,void 0,void 0,function*(){var t,i;e.user=this.mapCustomDataBeforeSend(e.user);let n=yield this.usersApi.flag({flagRequest:e});return(null===(t=n.flag)||void 0===t?void 0:t.user)&&(n.flag.user=this.mapCustomDataAfterReceive(null===(i=n.flag)||void 0===i?void 0:i.user)),n}),this.queryBannedUsers=e=>h(this,void 0,void 0,function*(){e.user=this.mapCustomDataBeforeSend(e.user);let t=yield this.usersApi.queryBannedUsers({payload:e});return t.bans.forEach(e=>{e.banned_by=this.mapCustomDataAfterReceive(e.banned_by),e.user=this.mapCustomDataAfterReceive(e.user)}),t}),this.queryUsers=e=>h(this,void 0,void 0,function*(){e.user=this.mapCustomDataBeforeSend(e.user);let t=yield this.usersApi.queryUsers({payload:e});return t.users=t.users.map(e=>this.mapCustomDataAfterReceive(e)),t}),this.reactivateUser=e=>h(this,void 0,void 0,function*(){let t=yield this.usersApi.reactivateUser({reactivateUserRequest:e,userId:e.user_id});t.user=this.mapCustomDataAfterReceive(t.user)}),this.reactivateUsers=e=>this.usersApi.reactivateUsers({reactivateUsersRequest:e}),this.restoreUsers=e=>this.usersApi.restoreUsers({restoreUsersRequest:e}),this.unbanUser=e=>this.usersApi.unban(e),this.unflag=e=>h(this,void 0,void 0,function*(){var t;let i=yield this.usersApi.unflag({flagRequest:e});return(null===(t=i.flag)||void 0===t?void 0:t.user)&&(i.flag.user=this.mapCustomDataAfterReceive(i.flag.user)),i}),this.upsertUsers=e=>h(this,void 0,void 0,function*(){Object.keys(e.users).forEach(t=>{e.users[t]=this.mapCustomDataBeforeSend(e.users[t])});let t=yield this.usersApi.updateUsers({updateUsersRequest:e});return Object.keys(t.users).forEach(e=>{t.users[e]=this.mapCustomDataAfterReceive(t.users[e])}),t}),this.updateUsersPartial=e=>h(this,void 0,void 0,function*(){let t=yield this.usersApi.updateUsersPartial({updateUserPartialRequest:e});return Object.keys(t.users).forEach(e=>{t.users[e]=this.mapCustomDataAfterReceive(t.users[e])}),t}),this.muteUser=e=>h(this,void 0,void 0,function*(){var t,i;e.user=this.mapCustomDataBeforeSend(e.user);let n=yield this.usersApi.muteUser({muteUserRequest:e});return(null===(t=n.mute)||void 0===t?void 0:t.user)&&(n.mute.user=this.mapCustomDataAfterReceive(null===(i=n.mute)||void 0===i?void 0:i.user)),n.mutes&&(n.mutes=n.mutes.map(e=>Object.assign(Object.assign({},e),{user:this.mapCustomDataAfterReceive(e.user)}))),n}),this.unmuteUser=e=>(e.user=this.mapCustomDataBeforeSend(e.user),this.usersApi.unmuteUser({unmuteUserRequest:e})),this.sendCustomEventToUser=(e,t)=>this.eventsApi.sendUserCustomEvent({userId:e,sendUserCustomEventRequest:{event:t}}),this.createRole=e=>this.permissionsApi.createRole({createRoleRequest:e}),this.deleteRole=e=>this.permissionsApi.deleteRole(e),this.getPermission=e=>this.permissionsApi.getPermission(e),this.listPermissions=()=>this.permissionsApi.listPermissions(),this.listRoles=()=>this.permissionsApi.listRoles(),this.getAppSettings=()=>this.settingsApi.getApp(),this.updateAppSettings=e=>this.settingsApi.updateApp({updateAppRequest:e}),this.getRateLimits=()=>this.settingsApi.getRateLimits(),this.getTaskStatus=e=>this.tasksApi.getTask(e),this.verifyWebhook=(e,t)=>{let i=Buffer.from(this.secret,"utf8"),n=r().createHmac("sha256",i).update(e).digest("hex");try{return r().timingSafeEqual(Buffer.from(n),Buffer.from(t))}catch(e){return!1}},this.getConfiguration=(e="chat")=>{var t;return new M({apiKey:e=>({"Stream-Auth-Type":"jwt",api_key:this.apiKey,Authorization:this.token})[e],basePath:null!==(t=this.options.basePath)&&void 0!==t?t:"chat"===e?"https://chat.stream-io-api.com":"https://video.stream-io-api.com",headers:{"X-Stream-Client":"stream-node-0.1.12"},middleware:[{pre:e=>(e.init.headers=Object.assign(Object.assign({},e.init.headers),{"x-client-request-id":c(),"Accept-Encoding":"gzip"}),Promise.resolve(e))},{post:e=>h(this,void 0,void 0,function*(){if(e.response&&e.response.status<200||e.response.status>=300){let t=new V(e.response),i=yield t.value();throw Error(`Stream error code ${i.code}: ${i.message}`)}})},{pre:e=>(e.init.signal=AbortSignal.timeout(this.options.timeout),Promise.resolve(e)),onError:e=>{let t=e.error;if("AbortError"===t.name||"TimeoutError"===t.name)throw new K(t,`The request was aborted due to to the ${this.options.timeout}ms timeout, you can set the timeout in the StreamClient constructor`);return Promise.resolve(e.response)}}],queryParamsStringify:e=>{let t=[];for(let i in e)if(Array.isArray(e[i])||"object"==typeof e[i])t.push(`${i}=${encodeURIComponent(JSON.stringify(e[i]))}`);else{let n=e[i];("string"==typeof n||"number"==typeof n||"boolean"==typeof n)&&t.push(`${i}=${encodeURIComponent(n)}`)}return t.join("&")}})},this.reservedKeywords=["ban_expires","banned","id","invisible","language","push_notifications","revoke_tokens_issued_before","role","teams","created_at","deactivated_at","deleted_at","last_active","online","updated_at","shadow_banned","name","image"],this.mapCustomDataBeforeSend=e=>{if(!e)return;let t=Object.assign({},e);return delete t.custom,Object.assign(Object.assign({},t),e.custom)},this.token=function(e,t={}){let i=Object.assign({algorithm:"HS256",noTimestamp:!0},t);return d().sign({server:!0},e,i)}(this.secret),"string"==typeof i?(this.options.basePath=i,this.options.timeout=Z.DEFAULT_TIMEOUT):(i&&(this.options=i),this.options.timeout=null!==(n=null==i?void 0:i.timeout)&&void 0!==n?n:Z.DEFAULT_TIMEOUT),this.video=new X(this),this.chat=new U(this);let a=this.getConfiguration();this.usersApi=new L(a),this.devicesApi=new E(a),this.pushApi=new A(a),this.serversideApi=new I(a),this.testingApi=new N(a),this.permissionsApi=new P(a),this.settingsApi=new O(a),this.eventsApi=new T(a),this.tasksApi=new j(a)}createToken(e,t=Math.round(new Date().getTime()/1e3)+3600,i=Math.round(Date.now()/1e3),n){let r={};return t&&(r.exp=t),i&&(r.iat=i),n&&(console.warn('Use createCallToken method for creating call tokens, the "call_cids" param will be removed from the createToken method with version 0.2.0'),r.call_cids=n),Q(this.secret,e,r)}createCallToken(e,t,i=Math.round(new Date().getTime()/1e3)+3600,n=Math.round(Date.now()/1e3)){let r={};return i&&(r.exp=i),n&&(r.iat=n),r.call_cids=t,Q(this.secret,e,r)}mapCustomDataAfterReceive(e){if(!e)return;let t={};return Object.keys(e).forEach(i=>{this.reservedKeywords.includes(i)?t[i]=e[i]:(t.custom||(t.custom={}),t.custom[i]=e[i])}),t}}Z.DEFAULT_TIMEOUT=3e3},82382:(e,t,i)=>{"use strict";var n=i(78893).Buffer,r=i(78893).SlowBuffer;function a(e,t){if(!n.isBuffer(e)||!n.isBuffer(t)||e.length!==t.length)return!1;for(var i=0,r=0;r<e.length;r++)i|=e[r]^t[r];return 0===i}e.exports=a,a.install=function(){n.prototype.equal=r.prototype.equal=function(e){return a(this,e)}};var s=n.prototype.equal,o=r.prototype.equal;a.restore=function(){n.prototype.equal=s,r.prototype.equal=o}},38829:(e,t)=>{"use strict";function i(e,t,i){do{var n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<i);return i}function n(e,t,i){for(;t>i;){var n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return i}function r(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}t.Q=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");var a={},s=e.length,o=s-2;if(o<0)return a;var l=t&&t.decode||r,c=0,u=0,d=0;do{if(-1===(u=e.indexOf("=",c)))break;if(-1===(d=e.indexOf(";",c)))d=s;else if(u>d){c=e.lastIndexOf(";",u-1)+1;continue}var h=i(e,c,u),p=n(e,u,h),f=e.slice(h,p);if(void 0===a[f]){var m=i(e,u+1,d),g=n(e,d,m);34===e.charCodeAt(m)&&34===e.charCodeAt(g-1)&&(m++,g--);var y=e.slice(m,g);a[f]=function(e,t){try{return t(e)}catch(t){return e}}(y,l)}c=d+1}while(c<o);return a},Object.prototype.toString},30520:function(e,t,i){var n;n=function(e){var t,i,n,r,a,s,o,l,c,u,d,h,p,f;return t=e.lib.BlockCipher,i=e.algo,n=[],r=[],a=[],s=[],o=[],l=[],c=[],u=[],d=[],h=[],function(){for(var e=[],t=0;t<256;t++)t<128?e[t]=t<<1:e[t]=t<<1^283;for(var i=0,p=0,t=0;t<256;t++){var f=p^p<<1^p<<2^p<<3^p<<4;f=f>>>8^255&f^99,n[i]=f,r[f]=i;var m=e[i],g=e[m],y=e[g],v=257*e[f]^16843008*f;a[i]=v<<24|v>>>8,s[i]=v<<16|v>>>16,o[i]=v<<8|v>>>24,l[i]=v;var v=16843009*y^65537*g^257*m^16843008*i;c[f]=v<<24|v>>>8,u[f]=v<<16|v>>>16,d[f]=v<<8|v>>>24,h[f]=v,i?(i=m^e[e[e[y^m]]],p^=e[e[p]]):i=p=1}}(),p=[0,1,2,4,8,16,32,64,128,27,54],f=i.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e,t=this._keyPriorReset=this._key,i=t.words,r=t.sigBytes/4,a=((this._nRounds=r+6)+1)*4,s=this._keySchedule=[],o=0;o<a;o++)o<r?s[o]=i[o]:(e=s[o-1],o%r?r>6&&o%r==4&&(e=n[e>>>24]<<24|n[e>>>16&255]<<16|n[e>>>8&255]<<8|n[255&e]):e=(n[(e=e<<8|e>>>24)>>>24]<<24|n[e>>>16&255]<<16|n[e>>>8&255]<<8|n[255&e])^p[o/r|0]<<24,s[o]=s[o-r]^e);for(var l=this._invKeySchedule=[],f=0;f<a;f++){var o=a-f;if(f%4)var e=s[o];else var e=s[o-4];f<4||o<=4?l[f]=e:l[f]=c[n[e>>>24]]^u[n[e>>>16&255]]^d[n[e>>>8&255]]^h[n[255&e]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,o,l,n)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,c,u,d,h,r);var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,n,r,a,s,o){for(var l=this._nRounds,c=e[t]^i[0],u=e[t+1]^i[1],d=e[t+2]^i[2],h=e[t+3]^i[3],p=4,f=1;f<l;f++){var m=n[c>>>24]^r[u>>>16&255]^a[d>>>8&255]^s[255&h]^i[p++],g=n[u>>>24]^r[d>>>16&255]^a[h>>>8&255]^s[255&c]^i[p++],y=n[d>>>24]^r[h>>>16&255]^a[c>>>8&255]^s[255&u]^i[p++],v=n[h>>>24]^r[c>>>16&255]^a[u>>>8&255]^s[255&d]^i[p++];c=m,u=g,d=y,h=v}var m=(o[c>>>24]<<24|o[u>>>16&255]<<16|o[d>>>8&255]<<8|o[255&h])^i[p++],g=(o[u>>>24]<<24|o[d>>>16&255]<<16|o[h>>>8&255]<<8|o[255&c])^i[p++],y=(o[d>>>24]<<24|o[h>>>16&255]<<16|o[c>>>8&255]<<8|o[255&u])^i[p++],v=(o[h>>>24]<<24|o[c>>>16&255]<<16|o[u>>>8&255]<<8|o[255&d])^i[p++];e[t]=m,e[t+1]=g,e[t+2]=y,e[t+3]=v},keySize:8}),e.AES=t._createHelper(f),e.AES},e.exports=n(i(10007),i(42215),i(22318),i(64110),i(66292))},66292:function(e,t,i){var n;n=function(e){var t,i,n,r,a,s,o,l,c,u,d,h,p,f,m,g,y;e.lib.Cipher||(i=(t=e.lib).Base,n=t.WordArray,r=t.BufferedBlockAlgorithm,(a=e.enc).Utf8,s=a.Base64,o=e.algo.EvpKDF,l=t.Cipher=r.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?y:m}return function(t){return{encrypt:function(i,n,r){return e(n).encrypt(t,i,n,r)},decrypt:function(i,n,r){return e(n).decrypt(t,i,n,r)}}}}()}),t.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),c=e.mode={},u=t.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),d=c.CBC=function(){var e=u.extend();function t(e,t,i){var n,r=this._iv;r?(n=r,this._iv=void 0):n=this._prevBlock;for(var a=0;a<i;a++)e[t+a]^=n[a]}return e.Encryptor=e.extend({processBlock:function(e,i){var n=this._cipher,r=n.blockSize;t.call(this,e,i,r),n.encryptBlock(e,i),this._prevBlock=e.slice(i,i+r)}}),e.Decryptor=e.extend({processBlock:function(e,i){var n=this._cipher,r=n.blockSize,a=e.slice(i,i+r);n.decryptBlock(e,i),t.call(this,e,i,r),this._prevBlock=a}}),e}(),h=(e.pad={}).Pkcs7={pad:function(e,t){for(var i=4*t,r=i-e.sigBytes%i,a=r<<24|r<<16|r<<8|r,s=[],o=0;o<r;o+=4)s.push(a);var l=n.create(s,r);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},t.BlockCipher=l.extend({cfg:l.cfg.extend({mode:d,padding:h}),reset:function(){l.reset.call(this);var e,t=this.cfg,i=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,i&&i.words):(this._mode=e.call(n,this,i&&i.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),p=t.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),f=(e.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,i=e.salt;return(i?n.create([1398893684,1701076831]).concat(i).concat(t):t).toString(s)},parse:function(e){var t,i=s.parse(e),r=i.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=n.create(r.slice(2,4)),r.splice(0,4),i.sigBytes-=16),p.create({ciphertext:i,salt:t})}},m=t.SerializableCipher=i.extend({cfg:i.extend({format:f}),encrypt:function(e,t,i,n){n=this.cfg.extend(n);var r=e.createEncryptor(i,n),a=r.finalize(t),s=r.cfg;return p.create({ciphertext:a,key:i,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(i,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),g=(e.kdf={}).OpenSSL={execute:function(e,t,i,r,a){if(r||(r=n.random(8)),a)var s=o.create({keySize:t+i,hasher:a}).compute(e,r);else var s=o.create({keySize:t+i}).compute(e,r);var l=n.create(s.words.slice(t),4*i);return s.sigBytes=4*t,p.create({key:s,iv:l,salt:r})}},y=t.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:g}),encrypt:function(e,t,i,n){var r=(n=this.cfg.extend(n)).kdf.execute(i,e.keySize,e.ivSize,n.salt,n.hasher);n.iv=r.iv;var a=m.encrypt.call(this,e,t,r.key,n);return a.mixIn(r),a},decrypt:function(e,t,i,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var r=n.kdf.execute(i,e.keySize,e.ivSize,t.salt,n.hasher);return n.iv=r.iv,m.decrypt.call(this,e,t,r.key,n)}}))},e.exports=n(i(10007),i(64110))},10007:function(e,t,i){var n;n=function(){var e=e||function(e,t){if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&"undefined"!=typeof global&&global.crypto&&(n=global.crypto),!n)try{n=i(84770)}catch(e){}var n,r=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function e(){}return function(t){var i;return e.prototype=t,i=new e,e.prototype=null,i}}(),s={},o=s.lib={},l=o.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=o.WordArray=l.extend({init:function(e,i){e=this.words=e||[],t!=i?this.sigBytes=i:this.sigBytes=4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,r=e.sigBytes;if(this.clamp(),n%4)for(var a=0;a<r;a++){var s=i[a>>>2]>>>24-a%4*8&255;t[n+a>>>2]|=s<<24-(n+a)%4*8}else for(var o=0;o<r;o+=4)t[n+o>>>2]=i[o>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(r());return new c.init(t,e)}}),u=s.enc={},d=u.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r++){var a=t[r>>>2]>>>24-r%4*8&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new c.init(i,t/2)}},h=u.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r++){var a=t[r>>>2]>>>24-r%4*8&255;n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new c.init(i,t)}},p=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},f=o.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i,n=this._data,r=n.words,a=n.sigBytes,s=this.blockSize,o=a/(4*s),l=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*s,u=e.min(4*l,a);if(l){for(var d=0;d<l;d+=s)this._doProcessBlock(r,d);i=r.splice(0,l),n.sigBytes-=u}return new c.init(i,u)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});o.Hasher=f.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new m.HMAC.init(e,i).finalize(t)}}});var m=s.algo={};return s}(Math);return e},e.exports=n()},42215:function(e,t,i){var n;n=function(e){var t;return t=e.lib.WordArray,e.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp();for(var r=[],a=0;a<i;a+=3)for(var s=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,o=0;o<4&&a+.75*o<i;o++)r.push(n.charAt(s>>>6*(3-o)&63));var l=n.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(e){var i=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var a=0;a<n.length;a++)r[n.charCodeAt(a)]=a}var s=n.charAt(64);if(s){var o=e.indexOf(s);-1!==o&&(i=o)}return function(e,i,n){for(var r=[],a=0,s=0;s<i;s++)if(s%4){var o=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;r[a>>>2]|=o<<24-a%4*8,a++}return t.create(r,a)}(e,i,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},e.exports=n(i(10007))},45484:function(e,t,i){var n;n=function(e){return e.enc.Utf8},e.exports=n(i(10007))},64110:function(e,t,i){var n;n=function(e){var t,i,n,r,a,s;return i=(t=e.lib).Base,n=t.WordArray,a=(r=e.algo).MD5,s=r.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i,r=this.cfg,a=r.hasher.create(),s=n.create(),o=s.words,l=r.keySize,c=r.iterations;o.length<l;){i&&a.update(i),i=a.update(e).finalize(t),a.reset();for(var u=1;u<c;u++)i=a.finalize(i),a.reset();s.concat(i)}return s.sigBytes=4*l,s}}),e.EvpKDF=function(e,t,i){return s.create(i).compute(e,t)},e.EvpKDF},e.exports=n(i(10007),i(51259),i(73510))},44426:function(e,t,i){var n;n=function(e){return e.HmacSHA1},e.exports=n(i(10007),i(51259),i(73510))},73510:function(e,t,i){var n;n=function(e){var t,i;t=e.lib.Base,i=e.enc.Utf8,e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),s=this._iKey=t.clone(),o=a.words,l=s.words,c=0;c<n;c++)o[c]^=1549556828,l[c]^=909522486;a.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(i))}})},e.exports=n(i(10007))},22318:function(e,t,i){var n;n=function(e){return function(t){var i=e.lib,n=i.WordArray,r=i.Hasher,a=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var o=a.MD5=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=t+i,r=e[n];e[n]=(r<<8|r>>>24)&16711935|(r<<24|r>>>8)&4278255360}var a=this._hash.words,o=e[t+0],h=e[t+1],p=e[t+2],f=e[t+3],m=e[t+4],g=e[t+5],y=e[t+6],v=e[t+7],b=e[t+8],w=e[t+9],x=e[t+10],k=e[t+11],S=e[t+12],_=e[t+13],R=e[t+14],E=e[t+15],T=a[0],C=a[1],P=a[2],A=a[3];T=l(T,C,P,A,o,7,s[0]),A=l(A,T,C,P,h,12,s[1]),P=l(P,A,T,C,p,17,s[2]),C=l(C,P,A,T,f,22,s[3]),T=l(T,C,P,A,m,7,s[4]),A=l(A,T,C,P,g,12,s[5]),P=l(P,A,T,C,y,17,s[6]),C=l(C,P,A,T,v,22,s[7]),T=l(T,C,P,A,b,7,s[8]),A=l(A,T,C,P,w,12,s[9]),P=l(P,A,T,C,x,17,s[10]),C=l(C,P,A,T,k,22,s[11]),T=l(T,C,P,A,S,7,s[12]),A=l(A,T,C,P,_,12,s[13]),P=l(P,A,T,C,R,17,s[14]),C=l(C,P,A,T,E,22,s[15]),T=c(T,C,P,A,h,5,s[16]),A=c(A,T,C,P,y,9,s[17]),P=c(P,A,T,C,k,14,s[18]),C=c(C,P,A,T,o,20,s[19]),T=c(T,C,P,A,g,5,s[20]),A=c(A,T,C,P,x,9,s[21]),P=c(P,A,T,C,E,14,s[22]),C=c(C,P,A,T,m,20,s[23]),T=c(T,C,P,A,w,5,s[24]),A=c(A,T,C,P,R,9,s[25]),P=c(P,A,T,C,f,14,s[26]),C=c(C,P,A,T,b,20,s[27]),T=c(T,C,P,A,_,5,s[28]),A=c(A,T,C,P,p,9,s[29]),P=c(P,A,T,C,v,14,s[30]),C=c(C,P,A,T,S,20,s[31]),T=u(T,C,P,A,g,4,s[32]),A=u(A,T,C,P,b,11,s[33]),P=u(P,A,T,C,k,16,s[34]),C=u(C,P,A,T,R,23,s[35]),T=u(T,C,P,A,h,4,s[36]),A=u(A,T,C,P,m,11,s[37]),P=u(P,A,T,C,v,16,s[38]),C=u(C,P,A,T,x,23,s[39]),T=u(T,C,P,A,_,4,s[40]),A=u(A,T,C,P,o,11,s[41]),P=u(P,A,T,C,f,16,s[42]),C=u(C,P,A,T,y,23,s[43]),T=u(T,C,P,A,w,4,s[44]),A=u(A,T,C,P,S,11,s[45]),P=u(P,A,T,C,E,16,s[46]),C=u(C,P,A,T,p,23,s[47]),T=d(T,C,P,A,o,6,s[48]),A=d(A,T,C,P,v,10,s[49]),P=d(P,A,T,C,R,15,s[50]),C=d(C,P,A,T,g,21,s[51]),T=d(T,C,P,A,S,6,s[52]),A=d(A,T,C,P,f,10,s[53]),P=d(P,A,T,C,x,15,s[54]),C=d(C,P,A,T,h,21,s[55]),T=d(T,C,P,A,b,6,s[56]),A=d(A,T,C,P,E,10,s[57]),P=d(P,A,T,C,y,15,s[58]),C=d(C,P,A,T,_,21,s[59]),T=d(T,C,P,A,m,6,s[60]),A=d(A,T,C,P,k,10,s[61]),P=d(P,A,T,C,p,15,s[62]),C=d(C,P,A,T,w,21,s[63]),a[0]=a[0]+T|0,a[1]=a[1]+C|0,a[2]=a[2]+P|0,a[3]=a[3]+A|0},_doFinalize:function(){var e=this._data,i=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;i[r>>>5]|=128<<24-r%32;var a=t.floor(n/4294967296);i[(r+64>>>9<<4)+15]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360,i[(r+64>>>9<<4)+14]=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360,e.sigBytes=(i.length+1)*4,this._process();for(var s=this._hash,o=s.words,l=0;l<4;l++){var c=o[l];o[l]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360}return s},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,i,n,r,a,s){var o=e+(t&i|~t&n)+r+s;return(o<<a|o>>>32-a)+t}function c(e,t,i,n,r,a,s){var o=e+(t&n|i&~n)+r+s;return(o<<a|o>>>32-a)+t}function u(e,t,i,n,r,a,s){var o=e+(t^i^n)+r+s;return(o<<a|o>>>32-a)+t}function d(e,t,i,n,r,a,s){var o=e+(i^(t|~n))+r+s;return(o<<a|o>>>32-a)+t}e.MD5=r._createHelper(o),e.HmacMD5=r._createHmacHelper(o)}(Math),e.MD5},e.exports=n(i(10007))},51259:function(e,t,i){var n;n=function(e){var t,i,n,r,a,s;return i=(t=e.lib).WordArray,n=t.Hasher,r=e.algo,a=[],s=r.SHA1=n.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],r=i[1],s=i[2],o=i[3],l=i[4],c=0;c<80;c++){if(c<16)a[c]=0|e[t+c];else{var u=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=u<<1|u>>>31}var d=(n<<5|n>>>27)+l+a[c];c<20?d+=(r&s|~r&o)+1518500249:c<40?d+=(r^s^o)+1859775393:c<60?d+=(r&s|r&o|s&o)-1894007588:d+=(r^s^o)-899497514,l=o,o=s,s=r<<30|r>>>2,r=n,n=d}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+s|0,i[3]=i[3]+o|0,i[4]=i[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[(n+64>>>9<<4)+14]=Math.floor(i/4294967296),t[(n+64>>>9<<4)+15]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),e.SHA1=n._createHelper(s),e.HmacSHA1=n._createHmacHelper(s),e.SHA1},e.exports=n(i(10007))},17320:(e,t,i)=>{"use strict";var n=i(20427).Buffer,r=i(37896);function a(e){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,"base64");throw TypeError("ECDSA signature must be a Base64 string or a Buffer")}function s(e,t,i){for(var n=0;t+n<i&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}e.exports={derToJose:function(e,t){e=a(e);var i=r(t),s=i+1,o=e.length,l=0;if(48!==e[l++])throw Error('Could not find expected "seq"');var c=e[l++];if(129===c&&(c=e[l++]),o-l<c)throw Error('"seq" specified length of "'+c+'", only "'+(o-l)+'" remaining');if(2!==e[l++])throw Error('Could not find expected "int" for "r"');var u=e[l++];if(o-l-2<u)throw Error('"r" specified length of "'+u+'", only "'+(o-l-2)+'" available');if(s<u)throw Error('"r" specified length of "'+u+'", max of "'+s+'" is acceptable');var d=l;if(l+=u,2!==e[l++])throw Error('Could not find expected "int" for "s"');var h=e[l++];if(o-l!==h)throw Error('"s" specified length of "'+h+'", expected "'+(o-l)+'"');if(s<h)throw Error('"s" specified length of "'+h+'", max of "'+s+'" is acceptable');var p=l;if((l+=h)!==o)throw Error('Expected to consume entire buffer, but "'+(o-l)+'" bytes remain');var f=i-u,m=i-h,g=n.allocUnsafe(f+u+m+h);for(l=0;l<f;++l)g[l]=0;e.copy(g,l,d+Math.max(-f,0),d+u),l=i;for(var y=l;l<y+m;++l)g[l]=0;return e.copy(g,l,p+Math.max(-m,0),p+h),g=(g=g.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=a(e);var i=r(t),o=e.length;if(o!==2*i)throw TypeError('"'+t+'" signatures must be "'+2*i+'" bytes, saw "'+o+'"');var l=s(e,0,i),c=s(e,i,e.length),u=i-l,d=i-c,h=2+u+1+1+d,p=h<128,f=n.allocUnsafe((p?2:3)+h),m=0;return f[m++]=48,p?f[m++]=h:(f[m++]=129,f[m++]=255&h),f[m++]=2,f[m++]=u,l<0?(f[m++]=0,m+=e.copy(f,m,0,i)):m+=e.copy(f,m,l,i),f[m++]=2,f[m++]=d,c<0?(f[m++]=0,e.copy(f,m,i)):e.copy(f,m,i+c),f}}},37896:e=>{"use strict";function t(e){return(e/8|0)+(e%8==0?0:1)}var i={ES256:t(256),ES384:t(384),ES512:t(521)};e.exports=function(e){var t=i[e];if(t)return t;throw Error('Unknown algorithm "'+e+'"')}},92165:(e,t,i)=>{var n=i(97963);e.exports=function(e,t){t=t||{};var i=n.decode(e,t);if(!i)return null;var r=i.payload;if("string"==typeof r)try{var a=JSON.parse(r);null!==a&&"object"==typeof a&&(r=a)}catch(e){}return!0===t.complete?{header:i.header,payload:r,signature:i.signature}:r}},53868:(e,t,i)=>{e.exports={decode:i(92165),verify:i(5236),sign:i(11705),JsonWebTokenError:i(42290),NotBeforeError:i(14638),TokenExpiredError:i(82157)}},42290:e=>{var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},14638:(e,t,i)=>{var n=i(42290),r=function(e,t){n.call(this,e),this.name="NotBeforeError",this.date=t};r.prototype=Object.create(n.prototype),r.prototype.constructor=r,e.exports=r},82157:(e,t,i)=>{var n=i(42290),r=function(e,t){n.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};r.prototype=Object.create(n.prototype),r.prototype.constructor=r,e.exports=r},88820:(e,t,i)=>{let n=i(36419);e.exports=n.satisfies(process.version,">=15.7.0")},44830:(e,t,i)=>{var n=i(36419);e.exports=n.satisfies(process.version,"^6.12.0 || >=8.0.0")},30364:(e,t,i)=>{let n=i(36419);e.exports=n.satisfies(process.version,">=16.9.0")},56594:(e,t,i)=>{var n=i(15021);e.exports=function(e,t){var i=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var r=n(e);if(void 0===r)return;return Math.floor(i+r/1e3)}if("number"==typeof e)return i+e}},68985:(e,t,i)=>{let n=i(88820),r=i(30364),a={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},s={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;let i=t.asymmetricKeyType;if(!i)return;let o=a[i];if(!o)throw Error(`Unknown key type "${i}".`);if(!o.includes(e))throw Error(`"alg" parameter for "${i}" key type must be one of: ${o.join(", ")}.`);if(n)switch(i){case"ec":let l=t.asymmetricKeyDetails.namedCurve,c=s[e];if(l!==c)throw Error(`"alg" parameter "${e}" requires curve "${c}".`);break;case"rsa-pss":if(r){let i=parseInt(e.slice(-3),10),{hashAlgorithm:n,mgf1HashAlgorithm:r,saltLength:a}=t.asymmetricKeyDetails;if(n!==`sha${i}`||r!==n)throw Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(void 0!==a&&a>i>>3)throw Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}}},11705:(e,t,i)=>{let n=i(56594),r=i(44830),a=i(68985),s=i(97963),o=i(55128),l=i(28466),c=i(90867),u=i(58850),d=i(47212),h=i(28699),p=i(45501),{KeyObject:f,createSecretKey:m,createPrivateKey:g}=i(84770),y=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];r&&y.splice(3,0,"PS256","PS384","PS512");let v={expiresIn:{isValid:function(e){return c(e)||h(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return c(e)||h(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return h(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:o.bind(null,y),message:'"algorithm" must be a valid string enum value'},header:{isValid:d,message:'"header" must be an object'},encoding:{isValid:h,message:'"encoding" must be a string'},issuer:{isValid:h,message:'"issuer" must be a string'},subject:{isValid:h,message:'"subject" must be a string'},jwtid:{isValid:h,message:'"jwtid" must be a string'},noTimestamp:{isValid:l,message:'"noTimestamp" must be a boolean'},keyid:{isValid:h,message:'"keyid" must be a string'},mutatePayload:{isValid:l,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:l,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:l,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},b={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function w(e,t,i,n){if(!d(i))throw Error('Expected "'+n+'" to be a plain object.');Object.keys(i).forEach(function(r){let a=e[r];if(!a){if(!t)throw Error('"'+r+'" is not allowed in "'+n+'"');return}if(!a.isValid(i[r]))throw Error(a.message)})}let x={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},k=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,i,r){var o,l;"function"==typeof i?(r=i,i={}):i=i||{};let c="object"==typeof e&&!Buffer.isBuffer(e),u=Object.assign({alg:i.algorithm||"HS256",typ:c?"JWT":void 0,kid:i.keyid},i.header);function d(e){if(r)return r(e);throw e}if(!t&&"none"!==i.algorithm)return d(Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof f))try{t=g(t)}catch(e){try{t=m("string"==typeof t?Buffer.from(t):t)}catch(e){return d(Error("secretOrPrivateKey is not valid key material"))}}if(u.alg.startsWith("HS")&&"secret"!==t.type)return d(Error(`secretOrPrivateKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)){if("private"!==t.type)return d(Error(`secretOrPrivateKey must be an asymmetric key when using ${u.alg}`));if(!i.allowInsecureKeySizes&&!u.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return d(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`))}if(void 0===e)return d(Error("payload is required"));if(c){try{o=e,w(b,!0,o,"payload")}catch(e){return d(e)}i.mutatePayload||(e=Object.assign({},e))}else{let t=k.filter(function(e){return void 0!==i[e]});if(t.length>0)return d(Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==i.expiresIn)return d(Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==i.notBefore)return d(Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{l=i,w(v,!1,l,"options")}catch(e){return d(e)}if(!i.allowInvalidAsymmetricKeyTypes)try{a(u.alg,t)}catch(e){return d(e)}let h=e.iat||Math.floor(Date.now()/1e3);if(i.noTimestamp?delete e.iat:c&&(e.iat=h),void 0!==i.notBefore){try{e.nbf=n(i.notBefore,h)}catch(e){return d(e)}if(void 0===e.nbf)return d(Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==i.expiresIn&&"object"==typeof e){try{e.exp=n(i.expiresIn,h)}catch(e){return d(e)}if(void 0===e.exp)return d(Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(x).forEach(function(t){let n=x[t];if(void 0!==i[t]){if(void 0!==e[n])return d(Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=i[t]}});let y=i.encoding||"utf8";if("function"==typeof r)r=r&&p(r),s.createSign({header:u,privateKey:t,payload:e,encoding:y}).once("error",r).once("done",function(e){if(!i.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&e.length<256)return r(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`));r(null,e)});else{let n=s.sign({header:u,payload:e,secret:t,encoding:y});if(!i.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&n.length<256)throw Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`);return n}}},5236:(e,t,i)=>{let n=i(42290),r=i(14638),a=i(82157),s=i(92165),o=i(56594),l=i(68985),c=i(44830),u=i(97963),{KeyObject:d,createSecretKey:h,createPublicKey:p}=i(84770),f=["RS256","RS384","RS512"],m=["ES256","ES384","ES512"],g=["RS256","RS384","RS512"],y=["HS256","HS384","HS512"];c&&(f.splice(f.length,0,"PS256","PS384","PS512"),g.splice(g.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,i,c){let v,b,w;if("function"!=typeof i||c||(c=i,i={}),i||(i={}),i=Object.assign({},i),v=c||function(e,t){if(e)throw e;return t},i.clockTimestamp&&"number"!=typeof i.clockTimestamp)return v(new n("clockTimestamp must be a number"));if(void 0!==i.nonce&&("string"!=typeof i.nonce||""===i.nonce.trim()))return v(new n("nonce must be a non-empty string"));if(void 0!==i.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof i.allowInvalidAsymmetricKeyTypes)return v(new n("allowInvalidAsymmetricKeyTypes must be a boolean"));let x=i.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return v(new n("jwt must be provided"));if("string"!=typeof e)return v(new n("jwt must be a string"));let k=e.split(".");if(3!==k.length)return v(new n("jwt malformed"));try{b=s(e,{complete:!0})}catch(e){return v(e)}if(!b)return v(new n("invalid token"));let S=b.header;if("function"==typeof t){if(!c)return v(new n("verify must be called asynchronous if secret or public key is provided as a callback"));w=t}else w=function(e,i){return i(null,t)};return w(S,function(t,s){let c;if(t)return v(new n("error in secret or public key callback: "+t.message));let w=""!==k[2].trim();if(!w&&s)return v(new n("jwt signature is required"));if(w&&!s)return v(new n("secret or public key must be provided"));if(!w&&!i.algorithms)return v(new n('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=s&&!(s instanceof d))try{s=p(s)}catch(e){try{s=h("string"==typeof s?Buffer.from(s):s)}catch(e){return v(new n("secretOrPublicKey is not valid key material"))}}if(i.algorithms||("secret"===s.type?i.algorithms=y:["rsa","rsa-pss"].includes(s.asymmetricKeyType)?i.algorithms=g:"ec"===s.asymmetricKeyType?i.algorithms=m:i.algorithms=f),-1===i.algorithms.indexOf(b.header.alg))return v(new n("invalid algorithm"));if(S.alg.startsWith("HS")&&"secret"!==s.type)return v(new n(`secretOrPublicKey must be a symmetric key when using ${S.alg}`));if(/^(?:RS|PS|ES)/.test(S.alg)&&"public"!==s.type)return v(new n(`secretOrPublicKey must be an asymmetric key when using ${S.alg}`));if(!i.allowInvalidAsymmetricKeyTypes)try{l(S.alg,s)}catch(e){return v(e)}try{c=u.verify(e,b.header.alg,s)}catch(e){return v(e)}if(!c)return v(new n("invalid signature"));let _=b.payload;if(void 0!==_.nbf&&!i.ignoreNotBefore){if("number"!=typeof _.nbf)return v(new n("invalid nbf value"));if(_.nbf>x+(i.clockTolerance||0))return v(new r("jwt not active",new Date(1e3*_.nbf)))}if(void 0!==_.exp&&!i.ignoreExpiration){if("number"!=typeof _.exp)return v(new n("invalid exp value"));if(x>=_.exp+(i.clockTolerance||0))return v(new a("jwt expired",new Date(1e3*_.exp)))}if(i.audience){let e=Array.isArray(i.audience)?i.audience:[i.audience];if(!(Array.isArray(_.aud)?_.aud:[_.aud]).some(function(t){return e.some(function(e){return e instanceof RegExp?e.test(t):e===t})}))return v(new n("jwt audience invalid. expected: "+e.join(" or ")))}if(i.issuer&&("string"==typeof i.issuer&&_.iss!==i.issuer||Array.isArray(i.issuer)&&-1===i.issuer.indexOf(_.iss)))return v(new n("jwt issuer invalid. expected: "+i.issuer));if(i.subject&&_.sub!==i.subject)return v(new n("jwt subject invalid. expected: "+i.subject));if(i.jwtid&&_.jti!==i.jwtid)return v(new n("jwt jwtid invalid. expected: "+i.jwtid));if(i.nonce&&_.nonce!==i.nonce)return v(new n("jwt nonce invalid. expected: "+i.nonce));if(i.maxAge){if("number"!=typeof _.iat)return v(new n("iat required when maxAge is specified"));let e=o(i.maxAge,_.iat);if(void 0===e)return v(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(x>=e+(i.clockTolerance||0))return v(new a("maxAge exceeded",new Date(1e3*e)))}return!0===i.complete?v(null,{header:S,payload:_,signature:b.signature}):v(null,_)})}},4945:(e,t,i)=>{var n=i(82382),r=i(20427).Buffer,a=i(84770),s=i(17320),o=i(21764),l="secret must be a string or buffer",c="key must be a string or a buffer",u="function"==typeof a.createPublicKey;function d(e){if(!r.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"string"!=typeof e.type||"string"!=typeof e.asymmetricKeyType||"function"!=typeof e.export))throw m(c)}function h(e){if(!r.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw m("key must be a string, a buffer or an object")}function p(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var i=0;i<t;++i)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function m(e){var t=[].slice.call(arguments,1);return TypeError(o.format.bind(o,e).apply(null,t))}function g(e){var t;return t=e,r.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function y(e){return function(t,i){(function(e){if(!r.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"secret"!==e.type||"function"!=typeof e.export))throw m(l)})(i),t=g(t);var n=a.createHmac("sha"+e,i);return p((n.update(t),n.digest("base64")))}}function v(e){return function(t,i,a){var s=y(e)(t,a);return n(r.from(i),r.from(s))}}function b(e){return function(t,i){h(i),t=g(t);var n=a.createSign("RSA-SHA"+e);return p((n.update(t),n.sign(i,"base64")))}}function w(e){return function(t,i,n){d(n),t=g(t),i=f(i);var r=a.createVerify("RSA-SHA"+e);return r.update(t),r.verify(n,i,"base64")}}function x(e){return function(t,i){h(i),t=g(t);var n=a.createSign("RSA-SHA"+e);return p((n.update(t),n.sign({key:i,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function k(e){return function(t,i,n){d(n),t=g(t),i=f(i);var r=a.createVerify("RSA-SHA"+e);return r.update(t),r.verify({key:n,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},i,"base64")}}function S(e){var t=b(e);return function(){var i=t.apply(null,arguments);return s.derToJose(i,"ES"+e)}}function _(e){var t=w(e);return function(i,n,r){return t(i,n=s.joseToDer(n,"ES"+e).toString("base64"),r)}}function R(){return function(){return""}}function E(){return function(e,t){return""===t}}u&&(c+=" or a KeyObject",l+="or a KeyObject"),e.exports=function(e){var t=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!t)throw m('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var i=(t[1]||t[3]).toLowerCase(),n=t[2];return{sign:({hs:y,rs:b,ps:x,es:S,none:R})[i](n),verify:({hs:v,rs:w,ps:k,es:_,none:E})[i](n)}}},97963:(e,t,i)=>{var n=i(12422),r=i(51616);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=r.verify,t.decode=r.decode,t.isValid=r.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new r(e)}},56101:(e,t,i)=>{var n=i(20427).Buffer,r=i(76162);function a(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=n.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=n.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick((function(){this.emit("end",e),this.readable=!1,this.emit("close")}).bind(this)),this;throw TypeError("Unexpected data type ("+typeof e+")")}i(21764).inherits(a,r),a.prototype.write=function(e){this.buffer=n.concat([this.buffer,n.from(e)]),this.emit("data",e)},a.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=a},12422:(e,t,i)=>{var n=i(20427).Buffer,r=i(56101),a=i(4945),s=i(76162),o=i(26295),l=i(21764);function c(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(e){var t,i,n,r=e.header,s=e.payload,u=e.secret||e.privateKey,d=e.encoding,h=a(r.alg),p=(t=(t=d)||"utf8",i=c(o(r),"binary"),n=c(o(s),t),l.format("%s.%s",i,n)),f=h.sign(p,u);return l.format("%s.%s",p,f)}function d(e){var t=new r(e.secret||e.privateKey||e.key);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new r(e.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}l.inherits(d,s),d.prototype.sign=function(){try{var e=u({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},d.sign=u,e.exports=d},26295:(e,t,i)=>{var n=i(78893).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},51616:(e,t,i)=>{var n=i(20427).Buffer,r=i(56101),a=i(4945),s=i(76162),o=i(26295),l=i(21764),c=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(e){var t=e.split(".",1)[0];return function(e){if("[object Object]"===Object.prototype.toString.call(e))return e;try{return JSON.parse(e)}catch(e){return}}(n.from(t,"base64").toString("binary"))}function d(e){return e.split(".")[2]}function h(e){return c.test(e)&&!!u(e)}function p(e,t,i){if(!t){var n=Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var r=d(e=o(e)),s=e.split(".",2).join(".");return a(t).verify(s,r,i)}function f(e,t){if(t=t||{},!h(e=o(e)))return null;var i,r,a=u(e);if(!a)return null;var s=(i=i||"utf8",r=e.split(".")[1],n.from(r,"base64").toString(i));return("JWT"===a.typ||t.json)&&(s=JSON.parse(s,t.encoding)),{header:a,payload:s,signature:d(e)}}function m(e){var t=new r((e=e||{}).secret||e.publicKey||e.key);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new r(e.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}l.inherits(m,s),m.prototype.verify=function(){try{var e=p(this.signature.buffer,this.algorithm,this.key.buffer),t=f(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},m.decode=f,m.isValid=h,m.verify=p,e.exports=m},55128:e=>{var t,i,n=1/0,r=0/0,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=/^(?:0|[1-9]\d*)$/,u=parseInt;function d(e){return e!=e}var h=Object.prototype,p=h.hasOwnProperty,f=h.toString,m=h.propertyIsEnumerable,g=(t=Object.keys,i=Object,function(e){return t(i(e))}),y=Math.max,v=Array.isArray;function b(e){var t,i;return null!=e&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=9007199254740991&&!("[object Function]"==(i=w(e)?f.call(e):"")||"[object GeneratorFunction]"==i)}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function x(e){return!!e&&"object"==typeof e}e.exports=function(e,t,i,k){e=b(e)?e:(S=e)?function(e,t){for(var i=-1,n=e?e.length:0,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}(b(S)?function(e,t){var i,n=v(e)||x(e)&&b(e)&&p.call(e,"callee")&&(!m.call(e,"callee")||"[object Arguments]"==f.call(e))?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],r=n.length,a=!!r;for(var s in e)p.call(e,s)&&!(a&&("length"==s||(i=null==(i=r)?9007199254740991:i)&&("number"==typeof s||c.test(s))&&s>-1&&s%1==0&&s<i))&&n.push(s);return n}(S):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||h))return g(e);var t,i=[];for(var n in Object(e))p.call(e,n)&&"constructor"!=n&&i.push(n);return i}(S),function(e){return S[e]}):[],i=i&&!k?(E=(R=(_=i)?(_=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||x(t)&&"[object Symbol]"==f.call(t))return r;if(w(e)){var t,i="function"==typeof e.valueOf?e.valueOf():e;e=w(i)?i+"":i}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=o.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?r:+e}(_))===n||_===-n?(_<0?-1:1)*17976931348623157e292:_==_?_:0:0===_?_:0)%1,R==R?E?R-E:R:0):0;var S,_,R,E,T,C=e.length;return i<0&&(i=y(C+i,0)),"string"==typeof(T=e)||!v(T)&&x(T)&&"[object String]"==f.call(T)?i<=C&&e.indexOf(t,i)>-1:!!C&&function(e,t,i){if(t!=t)return function(e,t,i,n){for(var r=e.length,a=i+-1;++a<r;)if(t(e[a],a,e))return a;return -1}(e,d,i);for(var n=i-1,r=e.length;++n<r;)if(e[n]===t)return n;return -1}(e,t,i)>-1}},28466:e=>{var t=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||!!e&&"object"==typeof e&&"[object Boolean]"==t.call(e)}},90867:e=>{var t=1/0,i=0/0,n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){var u,d,h;return"number"==typeof e&&e==(h=(d=(u=e)?(u=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return i;if(c(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var d=a.test(e);return d||s.test(e)?o(e.slice(2),d?2:8):r.test(e)?i:+e}(u))===t||u===-t?(u<0?-1:1)*17976931348623157e292:u==u?u:0:0===u?u:0)%1,d==d?h?d-h:d:0)}},58850:e=>{var t=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||!!e&&"object"==typeof e&&"[object Number]"==t.call(e)}},47212:e=>{var t,i,n=Object.prototype,r=Function.prototype.toString,a=n.hasOwnProperty,s=r.call(Object),o=n.toString,l=(t=Object.getPrototypeOf,i=Object,function(e){return t(i(e))});e.exports=function(e){if(!(e&&"object"==typeof e)||"[object Object]"!=o.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=l(e);if(null===t)return!0;var i=a.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&r.call(i)==s}},28699:e=>{var t=Object.prototype.toString,i=Array.isArray;e.exports=function(e){var n;return"string"==typeof e||!i(e)&&!!(n=e)&&"object"==typeof n&&"[object String]"==t.call(e)}},45501:e=>{var t=1/0,i=0/0,n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return function(e,u){var d,h,p,f;if("function"!=typeof u)throw TypeError("Expected a function");return f=(p=(h=e)?(h=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return i;if(c(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var d=a.test(e);return d||s.test(e)?o(e.slice(2),d?2:8):r.test(e)?i:+e}(h))===t||h===-t?(h<0?-1:1)*17976931348623157e292:h==h?h:0:0===h?h:0)%1,e=p==p?f?p-f:p:0,function(){return--e>0&&(d=u.apply(this,arguments)),e<=1&&(u=void 0),d}}(2,e)}},90262:e=>{"use strict";let t=e=>"object"==typeof e&&null!==e,i=Symbol("skip"),n=e=>t(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),r=(e,t,a,s=new WeakMap)=>{if(a={deep:!1,target:{},...a},s.has(e))return s.get(e);s.set(e,a.target);let{target:o}=a;delete a.target;let l=e=>e.map(e=>n(e)?r(e,t,a,s):e);if(Array.isArray(e))return l(e);for(let[c,u]of Object.entries(e)){let d=t(c,u,e);if(d===i)continue;let[h,p,{shouldRecurse:f=!0}={}]=d;"__proto__"!==h&&(a.deep&&f&&n(p)&&(p=Array.isArray(p)?l(p):r(p,t,a,s)),o[h]=p)}return o};e.exports=(e,i,n)=>{if(!t(e))throw TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return r(e,i,n)},e.exports.mapObjectSkip=i},15021:e=>{function t(e,t,i,n){return Math.round(e/i)+" "+n+(t>=1.5*i?"s":"")}e.exports=function(e,i){i=i||{};var n,r,a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return 864e5*i;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*i;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===a&&isFinite(e))return i.long?(n=Math.abs(e))>=864e5?t(e,n,864e5,"day"):n>=36e5?t(e,n,36e5,"hour"):n>=6e4?t(e,n,6e4,"minute"):n>=1e3?t(e,n,1e3,"second"):e+" ms":(r=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":r>=36e5?Math.round(e/36e5)+"h":r>=6e4?Math.round(e/6e4)+"m":r>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},9881:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{ReadonlyURLSearchParams:function(){return s},RedirectType:function(){return n.RedirectType},notFound:function(){return r.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect}});let n=i(22614),r=i(76725);class a extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class s extends URLSearchParams{append(){throw new a}delete(){throw new a}set(){throw new a}sort(){throw new a}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},76725:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{isNotFoundError:function(){return r},notFound:function(){return n}});let i="NEXT_NOT_FOUND";function n(){let e=Error(i);throw e.digest=i,e}function r(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===i}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},22878:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return i}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(i||(i={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},22614:(e,t,i)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{RedirectType:function(){return n},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return f},getRedirectTypeFromError:function(){return p},getURLFromRedirectError:function(){return h},isRedirectError:function(){return d},permanentRedirect:function(){return u},redirect:function(){return c}});let r=i(54580),a=i(72934),s=i(22878),o="NEXT_REDIRECT";function l(e,t,i){void 0===i&&(i=s.RedirectStatusCode.TemporaryRedirect);let n=Error(o);n.digest=o+";"+t+";"+e+";"+i+";";let a=r.requestAsyncStorage.getStore();return a&&(n.mutableCookies=a.mutableCookies),n}function c(e,t){void 0===t&&(t="replace");let i=a.actionAsyncStorage.getStore();throw l(e,t,(null==i?void 0:i.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.TemporaryRedirect)}function u(e,t){void 0===t&&(t="replace");let i=a.actionAsyncStorage.getStore();throw l(e,t,(null==i?void 0:i.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.PermanentRedirect)}function d(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,i,n,r]=e.digest.split(";",4),a=Number(r);return t===o&&("replace"===i||"push"===i)&&"string"==typeof n&&!isNaN(a)&&a in s.RedirectStatusCode}function h(e){return d(e)?e.digest.split(";",3)[2]:null}function p(e){if(!d(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function f(e){if(!d(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(n||(n={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},81394:(e,t,i)=>{var n;(()=>{var r={226:function(r,a){!function(s,o){"use strict";var l="function",c="undefined",u="object",d="string",h="major",p="model",f="name",m="type",g="vendor",y="version",v="architecture",b="console",w="mobile",x="tablet",k="smarttv",S="wearable",_="embedded",R="Amazon",E="Apple",T="ASUS",C="BlackBerry",P="Browser",A="Chrome",I="Firefox",O="Google",j="Huawei",N="Microsoft",L="Motorola",D="Opera",U="Samsung",q="Sharp",M="Sony",F="Xiaomi",$="Zebra",B="Facebook",K="Chromium OS",z="Mac OS",V=function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},W=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},H=function(e,t){return typeof e===d&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},J=function(e,t){if(typeof e===d)return e=e.replace(/^\s\s*/,""),typeof t===c?e:e.substring(0,350)},Y=function(e,t){for(var i,n,r,a,s,c,d=0;d<t.length&&!s;){var h=t[d],p=t[d+1];for(i=n=0;i<h.length&&!s&&h[i];)if(s=h[i++].exec(e))for(r=0;r<p.length;r++)c=s[++n],typeof(a=p[r])===u&&a.length>0?2===a.length?typeof a[1]==l?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:3===a.length?typeof a[1]!==l||a[1].exec&&a[1].test?this[a[0]]=c?c.replace(a[1],a[2]):void 0:this[a[0]]=c?a[1].call(this,c,a[2]):void 0:4===a.length&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):void 0):this[a]=c||o;d+=2}},X=function(e,t){for(var i in t)if(typeof t[i]===u&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(H(t[i][n],e))return"?"===i?o:i}else if(H(t[i],e))return"?"===i?o:i;return e},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,y],[/opios[\/ ]+([\w\.]+)/i],[y,[f,D+" Mini"]],[/\bopr\/([\w\.]+)/i],[y,[f,D]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,y],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[f,"UC"+P]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[y,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[y,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+P],y],[/\bfocus\/([\w\.]+)/i],[y,[f,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[f,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[f,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[f,"MIUI "+P]],[/fxios\/([-\w\.]+)/i],[y,[f,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+P]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+P],y],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,y],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,B],y],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[f,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,A+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[f,"Android "+P]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[y,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[f,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,y],[/(cobalt)\/([\w\.]+)/i],[f,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,G]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[g,U],[m,x]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[g,U],[m,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[g,E],[m,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[g,E],[m,x]],[/(macintosh);/i],[p,[g,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[g,q],[m,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[g,j],[m,x]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[g,j],[m,w]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[g,F],[m,w]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[g,F],[m,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[g,"OPPO"],[m,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[g,"Vivo"],[m,w]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[g,"Realme"],[m,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[g,L],[m,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[g,L],[m,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[g,"LG"],[m,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[g,"LG"],[m,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[g,"Lenovo"],[m,x]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[g,"Nokia"],[m,w]],[/(pixel c)\b/i],[p,[g,O],[m,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[g,O],[m,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[g,M],[m,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[g,M],[m,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[g,"OnePlus"],[m,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[g,R],[m,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[g,R],[m,w]],[/(playbook);[-\w\),; ]+(rim)/i],[p,g,[m,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[g,C],[m,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[g,T],[m,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[g,T],[m,w]],[/(nexus 9)/i],[p,[g,"HTC"],[m,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[p,/_/g," "],[m,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[g,"Acer"],[m,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[g,"Meizu"],[m,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,p,[m,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,p,[m,x]],[/(surface duo)/i],[p,[g,N],[m,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[g,"Fairphone"],[m,w]],[/(u304aa)/i],[p,[g,"AT&T"],[m,w]],[/\bsie-(\w*)/i],[p,[g,"Siemens"],[m,w]],[/\b(rct\w+) b/i],[p,[g,"RCA"],[m,x]],[/\b(venue[\d ]{2,7}) b/i],[p,[g,"Dell"],[m,x]],[/\b(q(?:mv|ta)\w+) b/i],[p,[g,"Verizon"],[m,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[g,"Barnes & Noble"],[m,x]],[/\b(tm\d{3}\w+) b/i],[p,[g,"NuVision"],[m,x]],[/\b(k88) b/i],[p,[g,"ZTE"],[m,x]],[/\b(nx\d{3}j) b/i],[p,[g,"ZTE"],[m,w]],[/\b(gen\d{3}) b.+49h/i],[p,[g,"Swiss"],[m,w]],[/\b(zur\d{3}) b/i],[p,[g,"Swiss"],[m,x]],[/\b((zeki)?tb.*\b) b/i],[p,[g,"Zeki"],[m,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],p,[m,x]],[/\b(ns-?\w{0,9}) b/i],[p,[g,"Insignia"],[m,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[g,"NextBook"],[m,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],p,[m,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],p,[m,w]],[/\b(ph-1) /i],[p,[g,"Essential"],[m,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[g,"Envizen"],[m,x]],[/\b(trio[-\w\. ]+) b/i],[p,[g,"MachSpeed"],[m,x]],[/\btu_(1491) b/i],[p,[g,"Rotor"],[m,x]],[/(shield[\w ]+) b/i],[p,[g,"Nvidia"],[m,x]],[/(sprint) (\w+)/i],[g,p,[m,w]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[g,N],[m,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[g,$],[m,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[g,$],[m,w]],[/smart-tv.+(samsung)/i],[g,[m,k]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[g,U],[m,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,"LG"],[m,k]],[/(apple) ?tv/i],[g,[p,E+" TV"],[m,k]],[/crkey/i],[[p,A+"cast"],[g,O],[m,k]],[/droid.+aft(\w)( bui|\))/i],[p,[g,R],[m,k]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[g,q],[m,k]],[/(bravia[\w ]+)( bui|\))/i],[p,[g,M],[m,k]],[/(mitv-\w{5}) bui/i],[p,[g,F],[m,k]],[/Hbbtv.*(technisat) (.*);/i],[g,p,[m,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,J],[p,J],[m,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,k]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,p,[m,b]],[/droid.+; (shield) bui/i],[p,[g,"Nvidia"],[m,b]],[/(playstation [345portablevi]+)/i],[p,[g,M],[m,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[g,N],[m,b]],[/((pebble))app/i],[g,p,[m,S]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[g,E],[m,S]],[/droid.+; (glass) \d/i],[p,[g,O],[m,S]],[/droid.+; (wt63?0{2,3})\)/i],[p,[g,$],[m,S]],[/(quest( 2| pro)?)/i],[p,[g,B],[m,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[m,_]],[/(aeobc)\b/i],[p,[g,R],[m,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[m,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[m,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,w]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,y],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[y,X,Q]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[y,X,Q]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,z],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,y],[/\(bb(10);/i],[y,[f,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[f,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[f,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,K],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,y],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,y]]},ee=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof ee))return new ee(e,t).getResult();var i=typeof s!==c&&s.navigator?s.navigator:o,n=e||(i&&i.userAgent?i.userAgent:""),r=i&&i.userAgentData?i.userAgentData:o,a=t?V(Z,t):Z,b=i&&i.userAgent==n;return this.getBrowser=function(){var e,t={};return t[f]=o,t[y]=o,Y.call(t,n,a.browser),t[h]=typeof(e=t[y])===d?e.replace(/[^\d\.]/g,"").split(".")[0]:o,b&&i&&i.brave&&typeof i.brave.isBrave==l&&(t[f]="Brave"),t},this.getCPU=function(){var e={};return e[v]=o,Y.call(e,n,a.cpu),e},this.getDevice=function(){var e={};return e[g]=o,e[p]=o,e[m]=o,Y.call(e,n,a.device),b&&!e[m]&&r&&r.mobile&&(e[m]=w),b&&"Macintosh"==e[p]&&i&&typeof i.standalone!==c&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e[p]="iPad",e[m]=x),e},this.getEngine=function(){var e={};return e[f]=o,e[y]=o,Y.call(e,n,a.engine),e},this.getOS=function(){var e={};return e[f]=o,e[y]=o,Y.call(e,n,a.os),b&&!e[f]&&r&&"Unknown"!=r.platform&&(e[f]=r.platform.replace(/chrome os/i,K).replace(/macos/i,z)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===d&&e.length>350?J(e,350):e,this},this.setUA(n),this};ee.VERSION="1.0.35",ee.BROWSER=W([f,y,h]),ee.CPU=W([v]),ee.DEVICE=W([p,g,m,b,w,k,x,S,_]),ee.ENGINE=ee.OS=W([f,y]),typeof a!==c?(r.exports&&(a=r.exports=ee),a.UAParser=ee):i.amdO?void 0!==(n=(function(){return ee}).call(t,i,t,e))&&(e.exports=n):typeof s!==c&&(s.UAParser=ee);var et=typeof s!==c&&(s.jQuery||s.Zepto);if(et&&!et.ua){var ei=new ee;et.ua=ei.getResult(),et.ua.get=function(){return ei.getUA()},et.ua.set=function(e){ei.setUA(e);var t=ei.getResult();for(var i in t)et.ua[i]=t[i]}}}("object"==typeof window?window:this)}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var i=a[e]={exports:{}},n=!0;try{r[e].call(i.exports,i,i.exports,s),n=!1}finally{n&&delete a[e]}return i.exports}s.ab=__dirname+"/";var o=s(226);e.exports=o})()},86760:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{PageSignatureError:function(){return i},RemovedPageError:function(){return n},RemovedUAError:function(){return r}});class i extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class n extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class r extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},56495:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{ImageResponse:function(){return n.ImageResponse},NextRequest:function(){return r.NextRequest},NextResponse:function(){return a.NextResponse},URLPattern:function(){return o.URLPattern},userAgent:function(){return s.userAgent},userAgentFromString:function(){return s.userAgentFromString}});let n=i(78482),r=i(14260),a=i(82183),s=i(37915),o=i(55589)},22927:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return u}});let n=i(52526),r=i(64655),a=i(30936),s=i(27884),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let c=Symbol("NextURLInternal");class u{constructor(e,t,i){let n,r;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,r=i||{}):r=i||t||{},this[c]={url:l(e,n??r.base),options:r,basePath:""},this.analyze()}analyze(){var e,t,i,r,o;let l=(0,s.getNextPathnameInfo)(this[c].url.pathname,{nextConfig:this[c].options.nextConfig,parseData:!0,i18nProvider:this[c].options.i18nProvider}),u=(0,a.getHostname)(this[c].url,this[c].options.headers);this[c].domainLocale=this[c].options.i18nProvider?this[c].options.i18nProvider.detectDomainLocale(u):(0,n.detectDomainLocale)(null==(t=this[c].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,u);let d=(null==(i=this[c].domainLocale)?void 0:i.defaultLocale)||(null==(o=this[c].options.nextConfig)?void 0:null==(r=o.i18n)?void 0:r.defaultLocale);this[c].url.pathname=l.pathname,this[c].defaultLocale=d,this[c].basePath=l.basePath??"",this[c].buildId=l.buildId,this[c].locale=l.locale??d,this[c].trailingSlash=l.trailingSlash}formatPathname(){return(0,r.formatNextPathnameInfo)({basePath:this[c].basePath,buildId:this[c].buildId,defaultLocale:this[c].options.forceLocale?void 0:this[c].defaultLocale,locale:this[c].locale,pathname:this[c].url.pathname,trailingSlash:this[c].trailingSlash})}formatSearch(){return this[c].url.search}get buildId(){return this[c].buildId}set buildId(e){this[c].buildId=e}get locale(){return this[c].locale??""}set locale(e){var t,i;if(!this[c].locale||!(null==(i=this[c].options.nextConfig)?void 0:null==(t=i.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[c].locale=e}get defaultLocale(){return this[c].defaultLocale}get domainLocale(){return this[c].domainLocale}get searchParams(){return this[c].url.searchParams}get host(){return this[c].url.host}set host(e){this[c].url.host=e}get hostname(){return this[c].url.hostname}set hostname(e){this[c].url.hostname=e}get port(){return this[c].url.port}set port(e){this[c].url.port=e}get protocol(){return this[c].url.protocol}set protocol(e){this[c].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[c].url=l(e),this.analyze()}get origin(){return this[c].url.origin}get pathname(){return this[c].url.pathname}set pathname(e){this[c].url.pathname=e}get hash(){return this[c].url.hash}set hash(e){this[c].url.hash=e}get search(){return this[c].url.search}set search(e){this[c].url.search=e}get password(){return this[c].url.password}set password(e){this[c].url.password=e}get username(){return this[c].url.username}set username(e){this[c].url.username=e}get basePath(){return this[c].basePath}set basePath(e){this[c].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new u(String(this),this[c].options)}}},78482:(e,t)=>{"use strict";function i(){throw Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead')}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return i}})},14260:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{INTERNALS:function(){return o},NextRequest:function(){return l}});let n=i(22927),r=i(96398),a=i(86760),s=i(11680),o=Symbol("internal request");class l extends Request{constructor(e,t={}){let i="string"!=typeof e&&"url"in e?e.url:String(e);(0,r.validateURL)(i),e instanceof Request?super(e,t):super(i,t);let a=new n.NextURL(i,{headers:(0,r.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[o]={cookies:new s.RequestCookies(this.headers),geo:t.geo||{},ip:t.ip,nextUrl:a,url:a.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[o].cookies}get geo(){return this[o].geo}get ip(){return this[o].ip}get nextUrl(){return this[o].nextUrl}get page(){throw new a.RemovedPageError}get ua(){throw new a.RemovedUAError}get url(){return this[o].url}}},82183:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return d}});let n=i(11680),r=i(22927),a=i(96398),s=i(60295),o=i(11680),l=Symbol("internal response"),c=new Set([301,302,303,307,308]);function u(e,t){var i;if(null==e?void 0:null==(i=e.request)?void 0:i.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let i=[];for(let[n,r]of e.request.headers)t.set("x-middleware-request-"+n,r),i.push(n);t.set("x-middleware-override-headers",i.join(","))}}class d extends Response{constructor(e,t={}){super(e,t);let i=this.headers,c=new Proxy(new o.ResponseCookies(i),{get(e,r,a){switch(r){case"delete":case"set":return(...a)=>{let s=Reflect.apply(e[r],e,a),l=new Headers(i);return s instanceof o.ResponseCookies&&i.set("x-middleware-set-cookie",s.getAll().map(e=>(0,n.stringifyCookie)(e)).join(",")),u(t,l),s};default:return s.ReflectAdapter.get(e,r,a)}}});this[l]={cookies:c,url:t.url?new r.NextURL(t.url,{headers:(0,a.toNodeOutgoingHttpHeaders)(i),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[l].cookies}static json(e,t){let i=Response.json(e,t);return new d(i.body,i)}static redirect(e,t){let i="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!c.has(i))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let n="object"==typeof t?t:{},r=new Headers(null==n?void 0:n.headers);return r.set("Location",(0,a.validateURL)(e)),new d(null,{...n,headers:r,status:i})}static rewrite(e,t){let i=new Headers(null==t?void 0:t.headers);return i.set("x-middleware-rewrite",(0,a.validateURL)(e)),u(t,i),new d(null,{...t,headers:i})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),u(e,t),new d(null,{...e,headers:t})}}},55589:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return i}});let i="undefined"==typeof URLPattern?void 0:URLPattern},37915:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{isBot:function(){return r},userAgent:function(){return s},userAgentFromString:function(){return a}});let n=function(e){return e&&e.__esModule?e:{default:e}}(i(81394));function r(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function a(e){return{...(0,n.default)(e),isBot:void 0!==e&&r(e)}}function s({headers:e}){return a(e.get("user-agent")||void 0)}},96398:(e,t)=>{"use strict";function i(e){let t=new Headers;for(let[i,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(i,e));return t}function n(e){var t,i,n,r,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(i=e.charAt(o))){for(n=o,o+=1,l(),r=o;o<e.length&&"="!==(i=e.charAt(o))&&";"!==i&&","!==i;)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=r,s.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}function r(e){let t={},i=[];if(e)for(let[r,a]of e.entries())"set-cookie"===r.toLowerCase()?(i.push(...n(a)),t[r]=1===i.length?i[0]:i):t[r]=a;return t}function a(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{fromNodeOutgoingHttpHeaders:function(){return i},splitCookiesString:function(){return n},toNodeOutgoingHttpHeaders:function(){return r},validateURL:function(){return a}})},30936:(e,t)=>{"use strict";function i(e,t){let i;if((null==t?void 0:t.host)&&!Array.isArray(t.host))i=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;i=e.hostname}return i.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return i}})},52526:(e,t)=>{"use strict";function i(e,t,i){if(e)for(let a of(i&&(i=i.toLowerCase()),e)){var n,r;if(t===(null==(n=a.domain)?void 0:n.split(":",1)[0].toLowerCase())||i===a.defaultLocale.toLowerCase()||(null==(r=a.locales)?void 0:r.some(e=>e.toLowerCase()===i)))return a}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return i}})},95761:(e,t)=>{"use strict";function i(e,t){let i;let n=e.split("/");return(t||[]).some(t=>!!n[1]&&n[1].toLowerCase()===t.toLowerCase()&&(i=t,n.splice(1,1),e=n.join("/")||"/",!0)),{pathname:e,detectedLocale:i}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return i}})},12198:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return a}});let n=i(68437),r=i(27052);function a(e,t,i,a){if(!t||t===i)return e;let s=e.toLowerCase();return!a&&((0,r.pathHasPrefix)(s,"/api")||(0,r.pathHasPrefix)(s,"/"+t.toLowerCase()))?e:(0,n.addPathPrefix)(e,"/"+t)}},68437:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return r}});let n=i(91171);function r(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:i,query:r,hash:a}=(0,n.parsePath)(e);return""+t+i+r+a}},60039:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return r}});let n=i(91171);function r(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:i,query:r,hash:a}=(0,n.parsePath)(e);return""+i+t+r+a}},64655:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let n=i(69130),r=i(68437),a=i(60039),s=i(12198);function o(e){let t=(0,s.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,a.addPathSuffix)((0,r.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,r.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,a.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},27884:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return s}});let n=i(95761),r=i(50709),a=i(27052);function s(e,t){var i,s;let{basePath:o,i18n:l,trailingSlash:c}=null!=(i=t.nextConfig)?i:{},u={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):c};o&&(0,a.pathHasPrefix)(u.pathname,o)&&(u.pathname=(0,r.removePathPrefix)(u.pathname,o),u.basePath=o);let d=u.pathname;if(u.pathname.startsWith("/_next/data/")&&u.pathname.endsWith(".json")){let e=u.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),i=e[0];u.buildId=i,d="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(u.pathname=d)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(u.pathname):(0,n.normalizeLocalePath)(u.pathname,l.locales);u.locale=e.detectedLocale,u.pathname=null!=(s=e.pathname)?s:u.pathname,!e.detectedLocale&&u.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(d):(0,n.normalizeLocalePath)(d,l.locales)).detectedLocale&&(u.locale=e.detectedLocale)}return u}},91171:(e,t)=>{"use strict";function i(e){let t=e.indexOf("#"),i=e.indexOf("?"),n=i>-1&&(t<0||i<t);return n||t>-1?{pathname:e.substring(0,n?i:t),query:n?e.substring(i,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return i}})},27052:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return r}});let n=i(91171);function r(e,t){if("string"!=typeof e)return!1;let{pathname:i}=(0,n.parsePath)(e);return i===t||i.startsWith(t+"/")}},50709:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return r}});let n=i(27052);function r(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let i=e.slice(t.length);return i.startsWith("/")?i:"/"+i}},69130:(e,t)=>{"use strict";function i(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return i}})},20427:(e,t,i)=>{var n=i(78893),r=n.Buffer;function a(e,t){for(var i in e)t[i]=e[i]}function s(e,t,i){return r(e,t,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=s),s.prototype=Object.create(r.prototype),a(r,s),s.from=function(e,t,i){if("number"==typeof e)throw TypeError("Argument must not be a number");return r(e,t,i)},s.alloc=function(e,t,i){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=r(e);return void 0!==t?"string"==typeof i?n.fill(t,i):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},70754:(e,t,i)=>{let n=Symbol("SemVer ANY");class r{static get ANY(){return n}constructor(e,t){if(t=a(t),e instanceof r){if(!!t.loose===e.loose)return e;e=e.value}c("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){let t=this.options.loose?s[o.COMPARATORLOOSE]:s[o.COMPARATOR],i=e.match(t);if(!i)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==i[1]?i[1]:"","="===this.operator&&(this.operator=""),i[2]?this.semver=new u(i[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=a(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=r;let a=i(62111),{safeRe:s,t:o}=i(19877),l=i(47344),c=i(95037),u=i(21923),d=i(58041)},58041:(e,t,i)=>{class n{constructor(e,t){if(t=a(t),e instanceof n){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new n(e.raw,t)}if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!g(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&y(e[0])){this.set=[e];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&f)|(this.options.loose&&m))+":"+e,i=r.get(t);if(i)return i;let n=this.options.loose,a=n?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];o("hyphen replace",e=e.replace(a,P(this.options.includePrerelease))),o("comparator trim",e=e.replace(c[u.COMPARATORTRIM],d)),o("tilde trim",e=e.replace(c[u.TILDETRIM],h)),o("caret trim",e=e.replace(c[u.CARETTRIM],p));let l=e.split(" ").map(e=>b(e,this.options)).join(" ").split(/\s+/).map(e=>C(e,this.options));n&&(l=l.filter(e=>(o("loose invalid filter",e,this.options),!!e.match(c[u.COMPARATORLOOSE])))),o("range list",l);let y=new Map;for(let e of l.map(e=>new s(e,this.options))){if(g(e))return[e];y.set(e.value,e)}y.size>1&&y.has("")&&y.delete("");let v=[...y.values()];return r.set(t,v),v}intersects(e,t){if(!(e instanceof n))throw TypeError("a Range is required");return this.set.some(i=>v(i,t)&&e.set.some(e=>v(e,t)&&i.every(i=>e.every(e=>i.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(A(this.set[t],e,this.options))return!0;return!1}}e.exports=n;let r=new(i(92286))({max:1e3}),a=i(62111),s=i(70754),o=i(95037),l=i(21923),{safeRe:c,t:u,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:p}=i(19877),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:m}=i(17068),g=e=>"<0.0.0-0"===e.value,y=e=>""===e.value,v=(e,t)=>{let i=!0,n=e.slice(),r=n.pop();for(;i&&n.length;)i=n.every(e=>r.intersects(e,t)),r=n.pop();return i},b=(e,t)=>(o("comp",e,t),o("caret",e=S(e,t)),o("tildes",e=x(e,t)),o("xrange",e=R(e,t)),o("stars",e=T(e,t)),e),w=e=>!e||"x"===e.toLowerCase()||"*"===e,x=(e,t)=>e.trim().split(/\s+/).map(e=>k(e,t)).join(" "),k=(e,t)=>{let i=t.loose?c[u.TILDELOOSE]:c[u.TILDE];return e.replace(i,(t,i,n,r,a)=>{let s;return o("tilde",e,t,i,n,r,a),w(i)?s="":w(n)?s=`>=${i}.0.0 <${+i+1}.0.0-0`:w(r)?s=`>=${i}.${n}.0 <${i}.${+n+1}.0-0`:a?(o("replaceTilde pr",a),s=`>=${i}.${n}.${r}-${a} <${i}.${+n+1}.0-0`):s=`>=${i}.${n}.${r} <${i}.${+n+1}.0-0`,o("tilde return",s),s})},S=(e,t)=>e.trim().split(/\s+/).map(e=>_(e,t)).join(" "),_=(e,t)=>{o("caret",e,t);let i=t.loose?c[u.CARETLOOSE]:c[u.CARET],n=t.includePrerelease?"-0":"";return e.replace(i,(t,i,r,a,s)=>{let l;return o("caret",e,t,i,r,a,s),w(i)?l="":w(r)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:w(a)?l="0"===i?`>=${i}.${r}.0${n} <${i}.${+r+1}.0-0`:`>=${i}.${r}.0${n} <${+i+1}.0.0-0`:s?(o("replaceCaret pr",s),l="0"===i?"0"===r?`>=${i}.${r}.${a}-${s} <${i}.${r}.${+a+1}-0`:`>=${i}.${r}.${a}-${s} <${i}.${+r+1}.0-0`:`>=${i}.${r}.${a}-${s} <${+i+1}.0.0-0`):(o("no pr"),l="0"===i?"0"===r?`>=${i}.${r}.${a}${n} <${i}.${r}.${+a+1}-0`:`>=${i}.${r}.${a}${n} <${i}.${+r+1}.0-0`:`>=${i}.${r}.${a} <${+i+1}.0.0-0`),o("caret return",l),l})},R=(e,t)=>(o("replaceXRanges",e,t),e.split(/\s+/).map(e=>E(e,t)).join(" ")),E=(e,t)=>{e=e.trim();let i=t.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return e.replace(i,(i,n,r,a,s,l)=>{o("xRange",e,i,n,r,a,s,l);let c=w(r),u=c||w(a),d=u||w(s);return"="===n&&d&&(n=""),l=t.includePrerelease?"-0":"",c?i=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(a=0),s=0,">"===n?(n=">=",u?(r=+r+1,a=0):a=+a+1,s=0):"<="===n&&(n="<",u?r=+r+1:a=+a+1),"<"===n&&(l="-0"),i=`${n+r}.${a}.${s}${l}`):u?i=`>=${r}.0.0${l} <${+r+1}.0.0-0`:d&&(i=`>=${r}.${a}.0${l} <${r}.${+a+1}.0-0`),o("xRange return",i),i})},T=(e,t)=>(o("replaceStars",e,t),e.trim().replace(c[u.STAR],"")),C=(e,t)=>(o("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),P=e=>(t,i,n,r,a,s,o,l,c,u,d,h,p)=>(i=w(n)?"":w(r)?`>=${n}.0.0${e?"-0":""}`:w(a)?`>=${n}.${r}.0${e?"-0":""}`:s?`>=${i}`:`>=${i}${e?"-0":""}`,l=w(c)?"":w(u)?`<${+c+1}.0.0-0`:w(d)?`<${c}.${+u+1}.0-0`:h?`<=${c}.${u}.${d}-${h}`:e?`<${c}.${u}.${+d+1}-0`:`<=${l}`,`${i} ${l}`.trim()),A=(e,t,i)=>{for(let i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!i.includePrerelease){for(let i=0;i<e.length;i++)if(o(e[i].semver),e[i].semver!==s.ANY&&e[i].semver.prerelease.length>0){let n=e[i].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},21923:(e,t,i)=>{let n=i(95037),{MAX_LENGTH:r,MAX_SAFE_INTEGER:a}=i(17068),{safeRe:s,t:o}=i(19877),l=i(62111),{compareIdentifiers:c}=i(41141);class u{constructor(e,t){if(t=l(t),e instanceof u){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>r)throw TypeError(`version is longer than ${r} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let i=e.trim().match(t.loose?s[o.LOOSE]:s[o.FULL]);if(!i)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>a||this.major<0)throw TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<a)return t}return e}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let i=this.prerelease[t],r=e.prerelease[t];if(n("prerelease compare",t,i,r),void 0===i&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===i)return -1;if(i===r)continue;else return c(i,r)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{let i=this.build[t],r=e.build[t];if(n("prerelease compare",t,i,r),void 0===i&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===i)return -1;if(i===r)continue;else return c(i,r)}while(++t)}inc(e,t,i){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,i),this.inc("pre",t,i);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,i),this.inc("pre",t,i);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(i)?1:0;if(!t&&!1===i)throw Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===i)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===i&&(n=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},33423:(e,t,i)=>{let n=i(18539);e.exports=(e,t)=>{let i=n(e.trim().replace(/^[=v]+/,""),t);return i?i.version:null}},47344:(e,t,i)=>{let n=i(40516),r=i(38016),a=i(88920),s=i(93665),o=i(2723),l=i(51455);e.exports=(e,t,i,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e===i;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e!==i;case"":case"=":case"==":return n(e,i,c);case"!=":return r(e,i,c);case">":return a(e,i,c);case">=":return s(e,i,c);case"<":return o(e,i,c);case"<=":return l(e,i,c);default:throw TypeError(`Invalid operator: ${t}`)}}},83549:(e,t,i)=>{let n=i(21923),r=i(18539),{safeRe:a,t:s}=i(19877);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let i=null;if((t=t||{}).rtl){let n;let r=t.includePrerelease?a[s.COERCERTLFULL]:a[s.COERCERTL];for(;(n=r.exec(e))&&(!i||i.index+i[0].length!==e.length);)i&&n.index+n[0].length===i.index+i[0].length||(i=n),r.lastIndex=n.index+n[1].length+n[2].length;r.lastIndex=-1}else i=e.match(t.includePrerelease?a[s.COERCEFULL]:a[s.COERCE]);if(null===i)return null;let o=i[2],l=i[3]||"0",c=i[4]||"0",u=t.includePrerelease&&i[5]?`-${i[5]}`:"",d=t.includePrerelease&&i[6]?`+${i[6]}`:"";return r(`${o}.${l}.${c}${u}${d}`,t)}},52283:(e,t,i)=>{let n=i(21923);e.exports=(e,t,i)=>{let r=new n(e,i),a=new n(t,i);return r.compare(a)||r.compareBuild(a)}},49845:(e,t,i)=>{let n=i(8945);e.exports=(e,t)=>n(e,t,!0)},8945:(e,t,i)=>{let n=i(21923);e.exports=(e,t,i)=>new n(e,i).compare(new n(t,i))},3648:(e,t,i)=>{let n=i(18539);e.exports=(e,t)=>{let i=n(e,null,!0),r=n(t,null,!0),a=i.compare(r);if(0===a)return null;let s=a>0,o=s?i:r,l=s?r:i,c=!!o.prerelease.length;if(l.prerelease.length&&!c)return l.patch||l.minor?o.patch?"patch":o.minor?"minor":"major":"major";let u=c?"pre":"";return i.major!==r.major?u+"major":i.minor!==r.minor?u+"minor":i.patch!==r.patch?u+"patch":"prerelease"}},40516:(e,t,i)=>{let n=i(8945);e.exports=(e,t,i)=>0===n(e,t,i)},88920:(e,t,i)=>{let n=i(8945);e.exports=(e,t,i)=>n(e,t,i)>0},93665:(e,t,i)=>{let n=i(8945);e.exports=(e,t,i)=>n(e,t,i)>=0},44272:(e,t,i)=>{let n=i(21923);e.exports=(e,t,i,r,a)=>{"string"==typeof i&&(a=r,r=i,i=void 0);try{return new n(e instanceof n?e.version:e,i).inc(t,r,a).version}catch(e){return null}}},2723:(e,t,i)=>{let n=i(8945);e.exports=(e,t,i)=>0>n(e,t,i)},51455:(e,t,i)=>{let n=i(8945);e.exports=(e,t,i)=>0>=n(e,t,i)},57058:(e,t,i)=>{let n=i(21923);e.exports=(e,t)=>new n(e,t).major},66179:(e,t,i)=>{let n=i(21923);e.exports=(e,t)=>new n(e,t).minor},38016:(e,t,i)=>{let n=i(8945);e.exports=(e,t,i)=>0!==n(e,t,i)},18539:(e,t,i)=>{let n=i(21923);e.exports=(e,t,i=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!i)return null;throw e}}},75394:(e,t,i)=>{let n=i(21923);e.exports=(e,t)=>new n(e,t).patch},14628:(e,t,i)=>{let n=i(18539);e.exports=(e,t)=>{let i=n(e,t);return i&&i.prerelease.length?i.prerelease:null}},19955:(e,t,i)=>{let n=i(8945);e.exports=(e,t,i)=>n(t,e,i)},35831:(e,t,i)=>{let n=i(52283);e.exports=(e,t)=>e.sort((e,i)=>n(i,e,t))},99914:(e,t,i)=>{let n=i(58041);e.exports=(e,t,i)=>{try{t=new n(t,i)}catch(e){return!1}return t.test(e)}},10537:(e,t,i)=>{let n=i(52283);e.exports=(e,t)=>e.sort((e,i)=>n(e,i,t))},366:(e,t,i)=>{let n=i(18539);e.exports=(e,t)=>{let i=n(e,t);return i?i.version:null}},36419:(e,t,i)=>{let n=i(19877),r=i(17068),a=i(21923),s=i(41141),o=i(18539),l=i(366),c=i(33423),u=i(44272),d=i(3648),h=i(57058),p=i(66179),f=i(75394),m=i(14628),g=i(8945),y=i(19955),v=i(49845),b=i(52283),w=i(10537),x=i(35831),k=i(88920),S=i(2723),_=i(40516),R=i(38016),E=i(93665),T=i(51455),C=i(47344),P=i(83549),A=i(70754),I=i(58041),O=i(99914),j=i(28230),N=i(97367),L=i(79957),D=i(31370),U=i(80154),q=i(14035),M=i(74765),F=i(69145),$=i(67104),B=i(58256),K=i(40166);e.exports={parse:o,valid:l,clean:c,inc:u,diff:d,major:h,minor:p,patch:f,prerelease:m,compare:g,rcompare:y,compareLoose:v,compareBuild:b,sort:w,rsort:x,gt:k,lt:S,eq:_,neq:R,gte:E,lte:T,cmp:C,coerce:P,Comparator:A,Range:I,satisfies:O,toComparators:j,maxSatisfying:N,minSatisfying:L,minVersion:D,validRange:U,outside:q,gtr:M,ltr:F,intersects:$,simplifyRange:B,subset:K,SemVer:a,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:r.SEMVER_SPEC_VERSION,RELEASE_TYPES:r.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},17068:e=>{let t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},95037:e=>{let t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},41141:e=>{let t=/^[0-9]+$/,i=(e,i)=>{let n=t.test(e),r=t.test(i);return n&&r&&(e=+e,i=+i),e===i?0:n&&!r?-1:r&&!n?1:e<i?-1:1};e.exports={compareIdentifiers:i,rcompareIdentifiers:(e,t)=>i(t,e)}},62111:e=>{let t=Object.freeze({loose:!0}),i=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:i},19877:(e,t,i)=>{let{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:a}=i(17068),s=i(95037),o=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.t={},d=0,h="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",a],[h,r]],f=e=>{for(let[t,i]of p)e=e.split(`${t}*`).join(`${t}{0,${i}}`).split(`${t}+`).join(`${t}{1,${i}}`);return e},m=(e,t,i)=>{let n=f(t),r=d++;s(e,r,t),u[e]=r,c[r]=t,o[r]=new RegExp(t,i?"g":void 0),l[r]=new RegExp(n,i?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),m("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${h}+`),m("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),m("FULL",`^${c[u.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),m("LOOSE",`^${c[u.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),m("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?`+`(?:${c[u.BUILD]})?`+"(?:$|[^\\d])"),m("COERCERTL",c[u.COERCE],!0),m("COERCERTLFULL",c[u.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},92286:(e,t,i)=>{"use strict";let n=i(34161),r=Symbol("max"),a=Symbol("length"),s=Symbol("lengthCalculator"),o=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),h=Symbol("cache"),p=Symbol("updateAgeOnGet"),f=()=>1;class m{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[r]=e.max||1/0;let t=e.length||f;if(this[s]="function"!=typeof t?f:t,this[o]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[r]=e||1/0,v(this)}get max(){return this[r]}set allowStale(e){this[o]=!!e}get allowStale(){return this[o]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[l]=e,v(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[s]&&(this[s]=e,this[a]=0,this[d].forEach(e=>{e.length=this[s](e.value,e.key),this[a]+=e.length})),v(this)}get lengthCalculator(){return this[s]}get length(){return this[a]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let i=this[d].tail;null!==i;){let n=i.prev;x(this,e,i,t),i=n}}forEach(e,t){t=t||this;for(let i=this[d].head;null!==i;){let n=i.next;x(this,e,i,t),i=n}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach(e=>this[c](e.key,e.value)),this[h]=new Map,this[d]=new n,this[a]=0}dump(){return this[d].map(e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,i){if((i=i||this[l])&&"number"!=typeof i)throw TypeError("maxAge must be a number");let n=i?Date.now():0,o=this[s](t,e);if(this[h].has(e)){if(o>this[r])return b(this,this[h].get(e)),!1;let s=this[h].get(e).value;return this[c]&&!this[u]&&this[c](e,s.value),s.now=n,s.maxAge=i,s.value=t,this[a]+=o-s.length,s.length=o,this.get(e),v(this),!0}let p=new w(e,t,o,n,i);return p.length>this[r]?(this[c]&&this[c](e,t),!1):(this[a]+=p.length,this[d].unshift(p),this[h].set(e,this[d].head),v(this),!0)}has(e){return!!this[h].has(e)&&!y(this,this[h].get(e).value)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){let e=this[d].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[h].get(e))}load(e){this.reset();let t=Date.now();for(let i=e.length-1;i>=0;i--){let n=e[i],r=n.e||0;if(0===r)this.set(n.k,n.v);else{let e=r-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[h].forEach((e,t)=>g(this,t,!1))}}let g=(e,t,i)=>{let n=e[h].get(t);if(n){let t=n.value;if(y(e,t)){if(b(e,n),!e[o])return}else i&&(e[p]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;let i=Date.now()-t.now;return t.maxAge?i>t.maxAge:e[l]&&i>e[l]},v=e=>{if(e[a]>e[r])for(let t=e[d].tail;e[a]>e[r]&&null!==t;){let i=t.prev;b(e,t),t=i}},b=(e,t)=>{if(t){let i=t.value;e[c]&&e[c](i.key,i.value),e[a]-=i.length,e[h].delete(i.key),e[d].removeNode(t)}};class w{constructor(e,t,i,n,r){this.key=e,this.value=t,this.length=i,this.now=n,this.maxAge=r||0}}let x=(e,t,i,n)=>{let r=i.value;y(e,r)&&(b(e,i),e[o]||(r=void 0)),r&&t.call(n,r.value,r.key,e)};e.exports=m},74765:(e,t,i)=>{let n=i(14035);e.exports=(e,t,i)=>n(e,t,">",i)},67104:(e,t,i)=>{let n=i(58041);e.exports=(e,t,i)=>(e=new n(e,i),t=new n(t,i),e.intersects(t,i))},69145:(e,t,i)=>{let n=i(14035);e.exports=(e,t,i)=>n(e,t,"<",i)},97367:(e,t,i)=>{let n=i(21923),r=i(58041);e.exports=(e,t,i)=>{let a=null,s=null,o=null;try{o=new r(t,i)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!a||-1===s.compare(e))&&(s=new n(a=e,i))}),a}},79957:(e,t,i)=>{let n=i(21923),r=i(58041);e.exports=(e,t,i)=>{let a=null,s=null,o=null;try{o=new r(t,i)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!a||1===s.compare(e))&&(s=new n(a=e,i))}),a}},31370:(e,t,i)=>{let n=i(21923),r=i(58041),a=i(88920);e.exports=(e,t)=>{e=new r(e,t);let i=new n("0.0.0");if(e.test(i)||(i=new n("0.0.0-0"),e.test(i)))return i;i=null;for(let t=0;t<e.set.length;++t){let r=e.set[t],s=null;r.forEach(e=>{let t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!s||a(t,s))&&(s=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),s&&(!i||a(i,s))&&(i=s)}return i&&e.test(i)?i:null}},14035:(e,t,i)=>{let n=i(21923),r=i(70754),{ANY:a}=r,s=i(58041),o=i(99914),l=i(88920),c=i(2723),u=i(51455),d=i(93665);e.exports=(e,t,i,h)=>{let p,f,m,g,y;switch(e=new n(e,h),t=new s(t,h),i){case">":p=l,f=u,m=c,g=">",y=">=";break;case"<":p=c,f=d,m=l,g="<",y="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(o(e,t,h))return!1;for(let i=0;i<t.set.length;++i){let n=t.set[i],s=null,o=null;if(n.forEach(e=>{e.semver===a&&(e=new r(">=0.0.0")),s=s||e,o=o||e,p(e.semver,s.semver,h)?s=e:m(e.semver,o.semver,h)&&(o=e)}),s.operator===g||s.operator===y||(!o.operator||o.operator===g)&&f(e,o.semver)||o.operator===y&&m(e,o.semver))return!1}return!0}},58256:(e,t,i)=>{let n=i(99914),r=i(8945);e.exports=(e,t,i)=>{let a=[],s=null,o=null,l=e.sort((e,t)=>r(e,t,i));for(let e of l)n(e,t,i)?(o=e,s||(s=e)):(o&&a.push([s,o]),o=null,s=null);s&&a.push([s,null]);let c=[];for(let[e,t]of a)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");let u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},40166:(e,t,i)=>{let n=i(58041),r=i(70754),{ANY:a}=r,s=i(99914),o=i(8945),l=[new r(">=0.0.0-0")],c=[new r(">=0.0.0")],u=(e,t,i)=>{let n,r,u,p,f,m,g;if(e===t)return!0;if(1===e.length&&e[0].semver===a){if(1===t.length&&t[0].semver===a)return!0;e=i.includePrerelease?l:c}if(1===t.length&&t[0].semver===a){if(i.includePrerelease)return!0;t=c}let y=new Set;for(let t of e)">"===t.operator||">="===t.operator?n=d(n,t,i):"<"===t.operator||"<="===t.operator?r=h(r,t,i):y.add(t.semver);if(y.size>1||n&&r&&((u=o(n.semver,r.semver,i))>0||0===u&&(">="!==n.operator||"<="!==r.operator)))return null;for(let e of y){if(n&&!s(e,String(n),i)||r&&!s(e,String(r),i))return null;for(let n of t)if(!s(e,String(n),i))return!1;return!0}let v=!!r&&!i.includePrerelease&&!!r.semver.prerelease.length&&r.semver,b=!!n&&!i.includePrerelease&&!!n.semver.prerelease.length&&n.semver;for(let e of(v&&1===v.prerelease.length&&"<"===r.operator&&0===v.prerelease[0]&&(v=!1),t)){if(g=g||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,n){if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if((p=d(n,e,i))===e&&p!==n)return!1}else if(">="===n.operator&&!s(n.semver,String(e),i))return!1}if(r){if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if((f=h(r,e,i))===e&&f!==r)return!1}else if("<="===r.operator&&!s(r.semver,String(e),i))return!1}if(!e.operator&&(r||n)&&0!==u)return!1}return(!n||!m||!!r||0===u)&&(!r||!g||!!n||0===u)&&!b&&!v},d=(e,t,i)=>{if(!e)return t;let n=o(e.semver,t.semver,i);return n>0?e:n<0?t:">"===t.operator&&">="===e.operator?t:e},h=(e,t,i)=>{if(!e)return t;let n=o(e.semver,t.semver,i);return n<0?e:n>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,i={})=>{if(e===t)return!0;e=new n(e,i),t=new n(t,i);let r=!1;e:for(let n of e.set){for(let e of t.set){let t=u(n,e,i);if(r=r||null!==t,t)continue e}if(r)return!1}return!0}},28230:(e,t,i)=>{let n=i(58041);e.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},80154:(e,t,i)=>{let n=i(58041);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},92017:(e,t,i)=>{"use strict";i.r(t),i.d(t,{snakeCase:()=>l});var n=function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function r(e){return e.toLowerCase()}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var a=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],s=/[^A-Z0-9]+/gi;function o(e,t,i){return t instanceof RegExp?e.replace(t,i):t.reduce(function(e,t){return e.replace(t,i)},e)}function l(e,t){var i;return void 0===t&&(t={}),void 0===(i=n({delimiter:"_"},t))&&(i={}),function(e,t){void 0===t&&(t={});for(var i=t.splitRegexp,n=t.stripRegexp,l=t.transform,c=t.delimiter,u=o(o(e,void 0===i?a:i,"$1\0$2"),void 0===n?s:n,"\0"),d=0,h=u.length;"\0"===u.charAt(d);)d++;for(;"\0"===u.charAt(h-1);)h--;return u.slice(d,h).split("\0").map(void 0===l?r:l).join(void 0===c?" ":c)}(e,n({delimiter:"."},i))}},39:(e,t,i)=>{"use strict";let n=i(90262),{snakeCase:r}=i(92017);e.exports=function(e,t){return n(e,function(e,i){return[t.exclude.some(function(t){return"string"==typeof t?t===e:t.test(e)})?e:r(e,t.parsingOptions),i]},t=Object.assign({deep:!0,exclude:[],parsingOptions:{}},t))}},91543:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},34161:(e,t,i)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var i=0,r=arguments.length;i<r;i++)t.push(arguments[i]);return t}function r(e,t,i,n){if(!(this instanceof r))return new r(e,t,i,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,i?(i.prev=this,this.next=i):this.next=null}e.exports=n,n.Node=r,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,i=e.prev;return t&&(t.prev=i),i&&(i.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=i),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=arguments[t],this.tail=new r(e,this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length},n.prototype.unshift=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=arguments[t],this.head=new r(e,null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var i=this.head,n=0;null!==i;n++)e.call(t,i.value,n,this),i=i.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var i=this.tail,n=this.length-1;null!==i;n--)e.call(t,i.value,n,this),i=i.prev},n.prototype.get=function(e){for(var t=0,i=this.head;null!==i&&t<e;t++)i=i.next;if(t===e&&null!==i)return i.value},n.prototype.getReverse=function(e){for(var t=0,i=this.tail;null!==i&&t<e;t++)i=i.prev;if(t===e&&null!==i)return i.value},n.prototype.map=function(e,t){t=t||this;for(var i=new n,r=this.head;null!==r;)i.push(e.call(t,r.value,this)),r=r.next;return i},n.prototype.mapReverse=function(e,t){t=t||this;for(var i=new n,r=this.tail;null!==r;)i.push(e.call(t,r.value,this)),r=r.prev;return i},n.prototype.reduce=function(e,t){var i,n=this.head;if(arguments.length>1)i=t;else if(this.head)n=this.head.next,i=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var r=0;null!==n;r++)i=e(i,n.value,r),n=n.next;return i},n.prototype.reduceReverse=function(e,t){var i,n=this.tail;if(arguments.length>1)i=t;else if(this.tail)n=this.tail.prev,i=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var r=this.length-1;null!==n;r--)i=e(i,n.value,r),n=n.prev;return i},n.prototype.toArray=function(){for(var e=Array(this.length),t=0,i=this.head;null!==i;t++)e[t]=i.value,i=i.next;return e},n.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,i=this.tail;null!==i;t++)e[t]=i.value,i=i.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var i=new n;if(t<e||t<0)return i;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,a=this.head;null!==a&&r<e;r++)a=a.next;for(;null!==a&&r<t;r++,a=a.next)i.push(a.value);return i},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var i=new n;if(t<e||t<0)return i;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,a=this.tail;null!==a&&r>t;r--)a=a.prev;for(;null!==a&&r>e;r--,a=a.prev)i.push(a.value);return i},n.prototype.splice=function(e,t,...i){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,a=this.head;null!==a&&n<e;n++)a=a.next;for(var s=[],n=0;a&&n<t;n++)s.push(a.value),a=this.removeNode(a);null===a&&(a=this.tail),a!==this.head&&a!==this.tail&&(a=a.prev);for(var n=0;n<i.length;n++)a=function(e,t,i){var n=t===e.head?new r(i,null,t,e):new r(i,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}(this,a,i[n]);return s},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,i=e;null!==i;i=i.prev){var n=i.prev;i.prev=i.next,i.next=n}return this.head=t,this.tail=e,this};try{i(91543)(n)}catch(e){}},39065:(e,t,i)=>{"use strict";i.d(t,{Cp:()=>d,RR:()=>l,cv:()=>p,dp:()=>g,dr:()=>m,oo:()=>a,uY:()=>f,x7:()=>o});var n=i(48703);function r(e,t,i){let r,{reference:a,floating:s}=e,o=(0,n.Qq)(t),l=(0,n.Wh)(t),c=(0,n.I4)(l),u=(0,n.k3)(t),d="y"===o,h=a.x+a.width/2-s.width/2,p=a.y+a.height/2-s.height/2,f=a[c]/2-s[c]/2;switch(u){case"top":r={x:h,y:a.y-s.height};break;case"bottom":r={x:h,y:a.y+a.height};break;case"right":r={x:a.x+a.width,y:p};break;case"left":r={x:a.x-s.width,y:p};break;default:r={x:a.x,y:a.y}}switch((0,n.hp)(t)){case"start":r[l]-=f*(i&&d?-1:1);break;case"end":r[l]+=f*(i&&d?-1:1)}return r}let a=async(e,t,i)=>{let{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=i,l=s.filter(Boolean),c=await (null==o.isRTL?void 0:o.isRTL(t)),u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=r(u,n,c),p=n,f={},m=0;for(let i=0;i<l.length;i++){let{name:s,fn:g}=l[i],{x:y,y:v,data:b,reset:w}=await g({x:d,y:h,initialPlacement:n,placement:p,strategy:a,middlewareData:f,rects:u,platform:o,elements:{reference:e,floating:t}});d=null!=y?y:d,h=null!=v?v:h,f={...f,[s]:{...f[s],...b}},w&&m<=50&&(m++,"object"==typeof w&&(w.placement&&(p=w.placement),w.rects&&(u=!0===w.rects?await o.getElementRects({reference:e,floating:t,strategy:a}):w.rects),{x:d,y:h}=r(u,p,c)),i=-1)}return{x:d,y:h,placement:p,strategy:a,middlewareData:f}};async function s(e,t){var i;void 0===t&&(t={});let{x:r,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=(0,n.ku)(t,e),m=(0,n.yd)(f),g=l[p?"floating"===h?"reference":"floating":h],y=(0,n.JB)(await s.getClippingRect({element:null==(i=await (null==s.isElement?void 0:s.isElement(g)))||i?g:g.contextElement||await (null==s.getDocumentElement?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v="floating"===h?{...o.floating,x:r,y:a}:o.reference,b=await (null==s.getOffsetParent?void 0:s.getOffsetParent(l.floating)),w=await (null==s.isElement?void 0:s.isElement(b))&&await (null==s.getScale?void 0:s.getScale(b))||{x:1,y:1},x=(0,n.JB)(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-x.top+m.top)/w.y,bottom:(x.bottom-y.bottom+m.bottom)/w.y,left:(y.left-x.left+m.left)/w.x,right:(x.right-y.right+m.right)/w.x}}let o=e=>({name:"arrow",options:e,async fn(t){let{x:i,y:r,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=(0,n.ku)(e,t)||{};if(null==u)return{};let h=(0,n.yd)(d),p={x:i,y:r},f=(0,n.Wh)(a),m=(0,n.I4)(f),g=await o.getDimensions(u),y="y"===f,v=y?"clientHeight":"clientWidth",b=s.reference[m]+s.reference[f]-p[f]-s.floating[m],w=p[f]-s.reference[f],x=await (null==o.getOffsetParent?void 0:o.getOffsetParent(u)),k=x?x[v]:0;k&&await (null==o.isElement?void 0:o.isElement(x))||(k=l.floating[v]||s.floating[m]);let S=k/2-g[m]/2-1,_=(0,n.VV)(h[y?"top":"left"],S),R=(0,n.VV)(h[y?"bottom":"right"],S),E=k-g[m]-R,T=k/2-g[m]/2+(b/2-w/2),C=(0,n.uZ)(_,T,E),P=!c.arrow&&null!=(0,n.hp)(a)&&T!==C&&s.reference[m]/2-(T<_?_:R)-g[m]/2<0,A=P?T<_?T-_:T-E:0;return{[f]:p[f]+A,data:{[f]:C,centerOffset:T-C-A,...P&&{alignmentOffset:A}},reset:P}}}),l=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var i,r,a,o,l;let{placement:c,middlewareData:u,rects:d,initialPlacement:h,platform:p,elements:f}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...x}=(0,n.ku)(e,t);if(null!=(i=u.arrow)&&i.alignmentOffset)return{};let k=(0,n.k3)(c),S=(0,n.k3)(h)===h,_=await (null==p.isRTL?void 0:p.isRTL(f.floating)),R=y||(S||!w?[(0,n.pw)(h)]:(0,n.gy)(h));y||"none"===b||R.push(...(0,n.KX)(h,w,b,_));let E=[h,...R],T=await s(t,x),C=[],P=(null==(r=u.flip)?void 0:r.overflows)||[];if(m&&C.push(T[k]),g){let e=(0,n.i8)(c,d,_);C.push(T[e[0]],T[e[1]])}if(P=[...P,{placement:c,overflows:C}],!C.every(e=>e<=0)){let e=((null==(a=u.flip)?void 0:a.index)||0)+1,t=E[e];if(t)return{data:{index:e,overflows:P},reset:{placement:t}};let i=null==(o=P.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:o.placement;if(!i)switch(v){case"bestFit":{let e=null==(l=P.map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:l[0];e&&(i=e);break}case"initialPlacement":i=h}if(c!==i)return{reset:{placement:i}}}return{}}}};function c(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function u(e){return n.mA.some(t=>e[t]>=0)}let d=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:i}=t,{strategy:r="referenceHidden",...a}=(0,n.ku)(e,t);switch(r){case"referenceHidden":{let e=c(await s(t,{...a,elementContext:"reference"}),i.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:u(e)}}}case"escaped":{let e=c(await s(t,{...a,altBoundary:!0}),i.floating);return{data:{escapedOffsets:e,escaped:u(e)}}}default:return{}}}}};async function h(e,t){let{placement:i,platform:r,elements:a}=e,s=await (null==r.isRTL?void 0:r.isRTL(a.floating)),o=(0,n.k3)(i),l=(0,n.hp)(i),c="y"===(0,n.Qq)(i),u=["left","top"].includes(o)?-1:1,d=s&&c?-1:1,h=(0,n.ku)(t,e),{mainAxis:p,crossAxis:f,alignmentAxis:m}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return l&&"number"==typeof m&&(f="end"===l?-1*m:m),c?{x:f*d,y:p*u}:{x:p*u,y:f*d}}let p=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var i,n;let{x:r,y:a,placement:s,middlewareData:o}=t,l=await h(t,e);return s===(null==(i=o.offset)?void 0:i.placement)&&null!=(n=o.arrow)&&n.alignmentOffset?{}:{x:r+l.x,y:a+l.y,data:{...l,placement:s}}}}},f=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:i,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:e=>{let{x:t,y:i}=e;return{x:t,y:i}}},...u}=(0,n.ku)(e,t),d={x:i,y:r},h=await s(t,u),p=(0,n.Qq)((0,n.k3)(a)),f=(0,n.Rn)(p),m=d[f],g=d[p];if(o){let e="y"===f?"top":"left",t="y"===f?"bottom":"right",i=m+h[e],r=m-h[t];m=(0,n.uZ)(i,m,r)}if(l){let e="y"===p?"top":"left",t="y"===p?"bottom":"right",i=g+h[e],r=g-h[t];g=(0,n.uZ)(i,g,r)}let y=c.fn({...t,[f]:m,[p]:g});return{...y,data:{x:y.x-i,y:y.y-r}}}}},m=function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:i,y:r,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=(0,n.ku)(e,t),d={x:i,y:r},h=(0,n.Qq)(a),p=(0,n.Rn)(h),f=d[p],m=d[h],g=(0,n.ku)(l,t),y="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){let e="y"===p?"height":"width",t=s.reference[p]-s.floating[e]+y.mainAxis,i=s.reference[p]+s.reference[e]-y.mainAxis;f<t?f=t:f>i&&(f=i)}if(u){var v,b;let e="y"===p?"width":"height",t=["top","left"].includes((0,n.k3)(a)),i=s.reference[h]-s.floating[e]+(t&&(null==(v=o.offset)?void 0:v[h])||0)+(t?0:y.crossAxis),r=s.reference[h]+s.reference[e]+(t?0:(null==(b=o.offset)?void 0:b[h])||0)-(t?y.crossAxis:0);m<i?m=i:m>r&&(m=r)}return{[p]:f,[h]:m}}}},g=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){let i,r;let{placement:a,rects:o,platform:l,elements:c}=t,{apply:u=()=>{},...d}=(0,n.ku)(e,t),h=await s(t,d),p=(0,n.k3)(a),f=(0,n.hp)(a),m="y"===(0,n.Qq)(a),{width:g,height:y}=o.floating;"top"===p||"bottom"===p?(i=p,r=f===(await (null==l.isRTL?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(r=p,i="end"===f?"top":"bottom");let v=y-h[i],b=g-h[r],w=!t.middlewareData.shift,x=v,k=b;if(m){let e=g-h.left-h.right;k=f||w?(0,n.VV)(b,e):e}else{let e=y-h.top-h.bottom;x=f||w?(0,n.VV)(v,e):e}if(w&&!f){let e=(0,n.Fp)(h.left,0),t=(0,n.Fp)(h.right,0),i=(0,n.Fp)(h.top,0),r=(0,n.Fp)(h.bottom,0);m?k=g-2*(0!==e||0!==t?e+t:(0,n.Fp)(h.left,h.right)):x=y-2*(0!==i||0!==r?i+r:(0,n.Fp)(h.top,h.bottom))}await u({...t,availableWidth:k,availableHeight:x});let S=await l.getDimensions(c.floating);return g!==S.width||y!==S.height?{reset:{rects:!0}}:{}}}}},84846:(e,t,i)=>{"use strict";i.d(t,{Cp:()=>_,Jv:()=>b,Me:()=>w,RR:()=>k,dp:()=>S,dr:()=>E,oo:()=>T,uY:()=>x,x7:()=>R});var n=i(48703),r=i(39065),a=i(57474);function s(e){let t=(0,a.Dx)(e),i=parseFloat(t.width)||0,r=parseFloat(t.height)||0,s=(0,a.Re)(e),o=s?e.offsetWidth:i,l=s?e.offsetHeight:r,c=(0,n.NM)(i)!==o||(0,n.NM)(r)!==l;return c&&(i=o,r=l),{width:i,height:r,$:c}}function o(e){return(0,a.kK)(e)?e:e.contextElement}function l(e){let t=o(e);if(!(0,a.Re)(t))return(0,n.ze)(1);let i=t.getBoundingClientRect(),{width:r,height:l,$:c}=s(t),u=(c?(0,n.NM)(i.width):i.width)/r,d=(c?(0,n.NM)(i.height):i.height)/l;return u&&Number.isFinite(u)||(u=1),d&&Number.isFinite(d)||(d=1),{x:u,y:d}}let c=(0,n.ze)(0);function u(e){let t=(0,a.Jj)(e);return(0,a.Pf)()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:c}function d(e,t,i,r){var s;void 0===t&&(t=!1),void 0===i&&(i=!1);let c=e.getBoundingClientRect(),d=o(e),h=(0,n.ze)(1);t&&(r?(0,a.kK)(r)&&(h=l(r)):h=l(e));let p=(void 0===(s=i)&&(s=!1),r&&(!s||r===(0,a.Jj)(d))&&s)?u(d):(0,n.ze)(0),f=(c.left+p.x)/h.x,m=(c.top+p.y)/h.y,g=c.width/h.x,y=c.height/h.y;if(d){let e=(0,a.Jj)(d),t=r&&(0,a.kK)(r)?(0,a.Jj)(r):r,i=e,n=i.frameElement;for(;n&&r&&t!==i;){let e=l(n),t=n.getBoundingClientRect(),r=(0,a.Dx)(n),s=t.left+(n.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(n.clientTop+parseFloat(r.paddingTop))*e.y;f*=e.x,m*=e.y,g*=e.x,y*=e.y,f+=s,m+=o,n=(i=(0,a.Jj)(n)).frameElement}}return(0,n.JB)({width:g,height:y,x:f,y:m})}let h=[":popover-open",":modal"];function p(e){return h.some(t=>{try{return e.matches(t)}catch(e){return!1}})}function f(e){return d((0,a.tF)(e)).left+(0,a.Lw)(e).scrollLeft}function m(e,t,i){let r;if("viewport"===t)r=function(e,t){let i=(0,a.Jj)(e),n=(0,a.tF)(e),r=i.visualViewport,s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(r){s=r.width,o=r.height;let e=(0,a.Pf)();(!e||e&&"fixed"===t)&&(l=r.offsetLeft,c=r.offsetTop)}return{width:s,height:o,x:l,y:c}}(e,i);else if("document"===t)r=function(e){let t=(0,a.tF)(e),i=(0,a.Lw)(e),r=e.ownerDocument.body,s=(0,n.Fp)(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=(0,n.Fp)(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),l=-i.scrollLeft+f(e),c=-i.scrollTop;return"rtl"===(0,a.Dx)(r).direction&&(l+=(0,n.Fp)(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:c}}((0,a.tF)(e));else if((0,a.kK)(t))r=function(e,t){let i=d(e,!0,"fixed"===t),r=i.top+e.clientTop,s=i.left+e.clientLeft,o=(0,a.Re)(e)?l(e):(0,n.ze)(1),c=e.clientWidth*o.x;return{width:c,height:e.clientHeight*o.y,x:s*o.x,y:r*o.y}}(t,i);else{let i=u(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return(0,n.JB)(r)}function g(e,t){return(0,a.Re)(e)&&"fixed"!==(0,a.Dx)(e).position?t?t(e):e.offsetParent:null}function y(e,t){let i=(0,a.Jj)(e);if(!(0,a.Re)(e)||p(e))return i;let n=g(e,t);for(;n&&(0,a.Ze)(n)&&"static"===(0,a.Dx)(n).position;)n=g(n,t);return n&&("html"===(0,a.wk)(n)||"body"===(0,a.wk)(n)&&"static"===(0,a.Dx)(n).position&&!(0,a.hT)(n))?i:n||(0,a.gQ)(e)||i}let v=async function(e){let t=this.getOffsetParent||y,i=this.getDimensions;return{reference:function(e,t,i){let r=(0,a.Re)(t),s=(0,a.tF)(t),o="fixed"===i,l=d(e,!0,o,t),c={scrollLeft:0,scrollTop:0},u=(0,n.ze)(0);if(r||!r&&!o){if(("body"!==(0,a.wk)(t)||(0,a.ao)(s))&&(c=(0,a.Lw)(t)),r){let e=d(t,!0,o,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else s&&(u.x=f(s))}return{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await i(e.floating)}}},b={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:i,offsetParent:r,strategy:s}=e,o="fixed"===s,c=(0,a.tF)(r),u=!!t&&p(t.floating);if(r===c||u&&o)return i;let h={scrollLeft:0,scrollTop:0},f=(0,n.ze)(1),m=(0,n.ze)(0),g=(0,a.Re)(r);if((g||!g&&!o)&&(("body"!==(0,a.wk)(r)||(0,a.ao)(c))&&(h=(0,a.Lw)(r)),(0,a.Re)(r))){let e=d(r);f=l(r),m.x=e.x+r.clientLeft,m.y=e.y+r.clientTop}return{width:i.width*f.x,height:i.height*f.y,x:i.x*f.x-h.scrollLeft*f.x+m.x,y:i.y*f.y-h.scrollTop*f.y+m.y}},getDocumentElement:a.tF,getClippingRect:function(e){let{element:t,boundary:i,rootBoundary:r,strategy:s}=e,o=[..."clippingAncestors"===i?function(e,t){let i=t.get(e);if(i)return i;let n=(0,a.Kx)(e,[],!1).filter(e=>(0,a.kK)(e)&&"body"!==(0,a.wk)(e)),r=null,s="fixed"===(0,a.Dx)(e).position,o=s?(0,a.Ow)(e):e;for(;(0,a.kK)(o)&&!(0,a.Py)(o);){let t=(0,a.Dx)(o),i=(0,a.hT)(o);i||"fixed"!==t.position||(r=null),(s?!i&&!r:!i&&"static"===t.position&&!!r&&["absolute","fixed"].includes(r.position)||(0,a.ao)(o)&&!i&&function e(t,i){let n=(0,a.Ow)(t);return!(n===i||!(0,a.kK)(n)||(0,a.Py)(n))&&("fixed"===(0,a.Dx)(n).position||e(n,i))}(e,o))?n=n.filter(e=>e!==o):r=t,o=(0,a.Ow)(o)}return t.set(e,n),n}(t,this._c):[].concat(i),r],l=o[0],c=o.reduce((e,i)=>{let r=m(t,i,s);return e.top=(0,n.Fp)(r.top,e.top),e.right=(0,n.VV)(r.right,e.right),e.bottom=(0,n.VV)(r.bottom,e.bottom),e.left=(0,n.Fp)(r.left,e.left),e},m(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:y,getElementRects:v,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:i}=s(e);return{width:t,height:i}},getScale:l,isElement:a.kK,isRTL:function(e){return"rtl"===(0,a.Dx)(e).direction}};function w(e,t,i,r){let s;void 0===r&&(r={});let{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:u="function"==typeof ResizeObserver,layoutShift:h="function"==typeof IntersectionObserver,animationFrame:p=!1}=r,f=o(e),m=l||c?[...f?(0,a.Kx)(f):[],...(0,a.Kx)(t)]:[];m.forEach(e=>{l&&e.addEventListener("scroll",i,{passive:!0}),c&&e.addEventListener("resize",i)});let g=f&&h?function(e,t){let i,r=null,s=(0,a.tF)(e);function o(){var e;clearTimeout(i),null==(e=r)||e.disconnect(),r=null}return function a(l,c){void 0===l&&(l=!1),void 0===c&&(c=1),o();let{left:u,top:d,width:h,height:p}=e.getBoundingClientRect();if(l||t(),!h||!p)return;let f=(0,n.GW)(d),m=(0,n.GW)(s.clientWidth-(u+h)),g={rootMargin:-f+"px "+-m+"px "+-(0,n.GW)(s.clientHeight-(d+p))+"px "+-(0,n.GW)(u)+"px",threshold:(0,n.Fp)(0,(0,n.VV)(1,c))||1},y=!0;function v(e){let t=e[0].intersectionRatio;if(t!==c){if(!y)return a();t?a(!1,t):i=setTimeout(()=>{a(!1,1e-7)},100)}y=!1}try{r=new IntersectionObserver(v,{...g,root:s.ownerDocument})}catch(e){r=new IntersectionObserver(v,g)}r.observe(e)}(!0),o}(f,i):null,y=-1,v=null;u&&(v=new ResizeObserver(e=>{let[n]=e;n&&n.target===f&&v&&(v.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var e;null==(e=v)||e.observe(t)})),i()}),f&&!p&&v.observe(f),v.observe(t));let b=p?d(e):null;return p&&function t(){let n=d(e);b&&(n.x!==b.x||n.y!==b.y||n.width!==b.width||n.height!==b.height)&&i(),b=n,s=requestAnimationFrame(t)}(),i(),()=>{var e;m.forEach(e=>{l&&e.removeEventListener("scroll",i),c&&e.removeEventListener("resize",i)}),null==g||g(),null==(e=v)||e.disconnect(),v=null,p&&cancelAnimationFrame(s)}}let x=r.uY,k=r.RR,S=r.dp,_=r.Cp,R=r.x7,E=r.dr,T=(e,t,i)=>{let n=new Map,a={platform:b,...i},s={...a.platform,_c:n};return(0,r.oo)(e,t,{...a,platform:s})}},62246:(e,t,i)=>{"use strict";i.d(t,{YF:()=>h,x7:()=>s});var n=i(84846),r=i(28964),a=i(46817);let s=e=>({name:"arrow",options:e,fn(t){let{element:i,padding:r}="function"==typeof e?e(t):e;return i&&({}).hasOwnProperty.call(i,"current")?null!=i.current?(0,n.x7)({element:i.current,padding:r}).fn(t):{}:i?(0,n.x7)({element:i,padding:r}).fn(t):{}}});var o="undefined"!=typeof document?r.useLayoutEffect:r.useEffect;function l(e,t){let i,n,r;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((i=e.length)!==t.length)return!1;for(n=i;0!=n--;)if(!l(e[n],t[n]))return!1;return!0}if((i=(r=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=i;0!=n--;)if(!({}).hasOwnProperty.call(t,r[n]))return!1;for(n=i;0!=n--;){let i=r[n];if(("_owner"!==i||!e.$$typeof)&&!l(e[i],t[i]))return!1}return!0}return e!=e&&t!=t}function c(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function u(e,t){let i=c(e);return Math.round(t*i)/i}function d(e){let t=r.useRef(e);return o(()=>{t.current=e}),t}function h(e){void 0===e&&(e={});let{placement:t="bottom",strategy:i="absolute",middleware:s=[],platform:h,elements:{reference:p,floating:f}={},transform:m=!0,whileElementsMounted:g,open:y}=e,[v,b]=r.useState({x:0,y:0,strategy:i,placement:t,middlewareData:{},isPositioned:!1}),[w,x]=r.useState(s);l(w,s)||x(s);let[k,S]=r.useState(null),[_,R]=r.useState(null),E=r.useCallback(e=>{e!==A.current&&(A.current=e,S(e))},[]),T=r.useCallback(e=>{e!==I.current&&(I.current=e,R(e))},[]),C=p||k,P=f||_,A=r.useRef(null),I=r.useRef(null),O=r.useRef(v),j=null!=g,N=d(g),L=d(h),D=r.useCallback(()=>{if(!A.current||!I.current)return;let e={placement:t,strategy:i,middleware:w};L.current&&(e.platform=L.current),(0,n.oo)(A.current,I.current,e).then(e=>{let t={...e,isPositioned:!0};U.current&&!l(O.current,t)&&(O.current=t,a.flushSync(()=>{b(t)}))})},[w,t,i,L]);o(()=>{!1===y&&O.current.isPositioned&&(O.current.isPositioned=!1,b(e=>({...e,isPositioned:!1})))},[y]);let U=r.useRef(!1);o(()=>(U.current=!0,()=>{U.current=!1}),[]),o(()=>{if(C&&(A.current=C),P&&(I.current=P),C&&P){if(N.current)return N.current(C,P,D);D()}},[C,P,D,N,j]);let q=r.useMemo(()=>({reference:A,floating:I,setReference:E,setFloating:T}),[E,T]),M=r.useMemo(()=>({reference:C,floating:P}),[C,P]),F=r.useMemo(()=>{let e={position:i,left:0,top:0};if(!M.floating)return e;let t=u(M.floating,v.x),n=u(M.floating,v.y);return m?{...e,transform:"translate("+t+"px, "+n+"px)",...c(M.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:t,top:n}},[i,m,M.floating,v.x,v.y]);return r.useMemo(()=>({...v,update:D,refs:q,elements:M,floatingStyles:F}),[v,D,q,M,F])}},39030:(e,t,i)=>{"use strict";let n;i.d(t,{Y$:()=>ev,wD:()=>eZ,vs:()=>ed,y0:()=>e1,ll:()=>eH,eS:()=>e3,bQ:()=>e8,YF:()=>e9,XI:()=>eT,NI:()=>ti,JA:()=>eh,c0:()=>tl,qs:()=>tu,ox:()=>td});var r=i(28964),a=i.t(r,2),s=i(57474);function o(e){let t=e.activeElement;for(;(null==(i=t)||null==(i=i.shadowRoot)?void 0:i.activeElement)!=null;){var i;t=t.shadowRoot.activeElement}return t}function l(e,t){if(!e||!t)return!1;let i=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(i&&(0,s.Zq)(i)){let i=t;for(;i;){if(e===i)return!0;i=i.parentNode||i.host}}return!1}function c(){let e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function u(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(e=>{let{brand:t,version:i}=e;return t+"/"+i}).join(" "):navigator.userAgent}function d(e){return 0===e.mozInputSource&&!!e.isTrusted||(f()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function h(e){return!u().includes("jsdom/")&&(!f()&&0===e.width&&0===e.height||f()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function p(){return/apple/i.test(navigator.vendor)}function f(){let e=/android/i;return e.test(c())||e.test(u())}function m(e,t){let i=["mouse","pen"];return t||i.push("",void 0),i.includes(e)}function g(e){return(null==e?void 0:e.ownerDocument)||document}function y(e,t){return null!=t&&("composedPath"in e?e.composedPath().includes(t):null!=e.target&&t.contains(e.target))}function v(e){return"composedPath"in e?e.composedPath()[0]:e.target}function b(e){return(0,s.Re)(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}function w(e){e.preventDefault(),e.stopPropagation()}function x(e){return!!e&&"combobox"===e.getAttribute("role")&&b(e)}var k=i(48703),S=i(84846),_=i(62246),R='input:not([inert]),select:not([inert]),textarea:not([inert]),a[href]:not([inert]),button:not([inert]),[tabindex]:not(slot):not([inert]),audio[controls]:not([inert]),video[controls]:not([inert]),[contenteditable]:not([contenteditable="false"]):not([inert]),details>summary:first-of-type:not([inert]),details:not([inert])',E="undefined"==typeof Element,T=E?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,C=!E&&Element.prototype.getRootNode?function(e){var t;return null==e?void 0:null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},P=function e(t,i){void 0===i&&(i=!0);var n,r=null==t?void 0:null===(n=t.getAttribute)||void 0===n?void 0:n.call(t,"inert");return""===r||"true"===r||i&&t&&e(t.parentNode)},A=function(e){var t,i=null==e?void 0:null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===i||"true"===i},I=function(e,t,i){if(P(e))return[];var n=Array.prototype.slice.apply(e.querySelectorAll(R));return t&&T.call(e,R)&&n.unshift(e),n=n.filter(i)},O=function e(t,i,n){for(var r=[],a=Array.from(t);a.length;){var s=a.shift();if(!P(s,!1)){if("SLOT"===s.tagName){var o=s.assignedElements(),l=e(o.length?o:s.children,!0,n);n.flatten?r.push.apply(r,l):r.push({scopeParent:s,candidates:l})}else{T.call(s,R)&&n.filter(s)&&(i||!t.includes(s))&&r.push(s);var c=s.shadowRoot||"function"==typeof n.getShadowRoot&&n.getShadowRoot(s),u=!P(c,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(s));if(c&&u){var d=e(!0===c?s.children:c.children,!0,n);n.flatten?r.push.apply(r,d):r.push({scopeParent:s,candidates:d})}else a.unshift.apply(a,s.children)}}}return r},j=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},N=function(e){if(!e)throw Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||A(e))&&!j(e)?0:e.tabIndex},L=function(e,t){var i=N(e);return i<0&&t&&!j(e)?0:i},D=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},U=function(e){return"INPUT"===e.tagName},q=function(e,t){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===t)return e[i]},M=function(e){if(!e.name)return!0;var t,i=e.form||C(e),n=function(e){return i.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=n(window.CSS.escape(e.name));else try{t=n(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var r=q(t,e.form);return!r||r===e},F=function(e){var t,i,n,r,a,s,o,l=e&&C(e),c=null===(t=l)||void 0===t?void 0:t.host,u=!1;if(l&&l!==e)for(u=!!(null!==(i=c)&&void 0!==i&&null!==(n=i.ownerDocument)&&void 0!==n&&n.contains(c)||null!=e&&null!==(r=e.ownerDocument)&&void 0!==r&&r.contains(e));!u&&c;)u=!!(null!==(s=c=null===(a=l=C(c))||void 0===a?void 0:a.host)&&void 0!==s&&null!==(o=s.ownerDocument)&&void 0!==o&&o.contains(c));return u},$=function(e){var t=e.getBoundingClientRect(),i=t.width,n=t.height;return 0===i&&0===n},B=function(e,t){var i=t.displayCheck,n=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var r=T.call(e,"details>summary:first-of-type")?e.parentElement:e;if(T.call(r,"details:not([open]) *"))return!0;if(i&&"full"!==i&&"legacy-full"!==i){if("non-zero-area"===i)return $(e)}else{if("function"==typeof n){for(var a=e;e;){var s=e.parentElement,o=C(e);if(s&&!s.shadowRoot&&!0===n(s))return $(e);e=e.assignedSlot?e.assignedSlot:s||o===e.ownerDocument?s:o.host}e=a}if(F(e))return!e.getClientRects().length;if("legacy-full"!==i)return!0}return!1},K=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var i=0;i<t.children.length;i++){var n=t.children.item(i);if("LEGEND"===n.tagName)return!!T.call(t,"fieldset[disabled] *")||!n.contains(e)}return!0}t=t.parentElement}return!1},z=function(e,t){var i,n,r;return!(U(i=t)&&"radio"===i.type&&!M(i)||0>N(t))&&(n=e,!((r=t).disabled||P(r)||U(r)&&"hidden"===r.type||B(r,n)||"DETAILS"===r.tagName&&Array.prototype.slice.apply(r.children).some(function(e){return"SUMMARY"===e.tagName})||K(r)))},V=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!isNaN(t)||t>=0},W=function e(t){var i=[],n=[];return t.forEach(function(t,r){var a=!!t.scopeParent,s=a?t.scopeParent:t,o=L(s,a),l=a?e(t.candidates):s;0===o?a?i.push.apply(i,l):i.push(s):n.push({documentOrder:r,tabIndex:o,item:t,isScope:a,content:l})}),n.sort(D).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(i)},H=function(e,t){return W((t=t||{}).getShadowRoot?O([e],t.includeContainer,{filter:z.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:V}):I(e,t.includeContainer,z.bind(null,t)))},G=i(46817);let J=a["useInsertionEffect".toString()]||(e=>e());function Y(e){let t=r.useRef(()=>{});return J(()=>{t.current=e}),r.useCallback(function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return null==t.current?void 0:t.current(...i)},[])}let X="ArrowUp",Q="ArrowDown",Z="ArrowLeft",ee="ArrowRight";function et(e,t,i){return Math.floor(e/t)!==i}function ei(e,t){return t<0||t>=e.current.length}function en(e,t){return ea(e,{disabledIndices:t})}function er(e,t){return ea(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ea(e,t){let{startingIndex:i=-1,decrement:n=!1,disabledIndices:r,amount:a=1}=void 0===t?{}:t,s=e.current,o=r?e=>r.includes(e):e=>{let t=s[e];return null==t||t.hasAttribute("disabled")||"true"===t.getAttribute("aria-disabled")},l=i;do l+=n?-a:a;while(l>=0&&l<=s.length-1&&o(l));return l}let es=0;function eo(e,t){void 0===t&&(t={});let{preventScroll:i=!1,cancelPrevious:n=!0,sync:r=!1}=t;n&&cancelAnimationFrame(es);let a=()=>null==e?void 0:e.focus({preventScroll:i});r?a():es=requestAnimationFrame(a)}var el="undefined"!=typeof document?r.useLayoutEffect:r.useEffect;function ec(e,t){let i=e.compareDocumentPosition(t);return i&Node.DOCUMENT_POSITION_FOLLOWING||i&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:i&Node.DOCUMENT_POSITION_PRECEDING||i&Node.DOCUMENT_POSITION_CONTAINS?1:0}let eu=r.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function ed(e){let{children:t,elementsRef:i,labelsRef:n}=e,[a,s]=r.useState(()=>new Map),o=r.useCallback(e=>{s(t=>new Map(t).set(e,null))},[]),l=r.useCallback(e=>{s(t=>{let i=new Map(t);return i.delete(e),i})},[]);return el(()=>{let e=new Map(a);Array.from(e.keys()).sort(ec).forEach((t,i)=>{e.set(t,i)}),!function(e,t){if(e.size!==t.size)return!1;for(let[i,n]of e.entries())if(n!==t.get(i))return!1;return!0}(a,e)&&s(e)},[a]),r.createElement(eu.Provider,{value:r.useMemo(()=>({register:o,unregister:l,map:a,elementsRef:i,labelsRef:n}),[o,l,a,i,n])},t)}function eh(e){let{label:t}=void 0===e?{}:e,[i,n]=r.useState(null),a=r.useRef(null),{register:s,unregister:o,map:l,elementsRef:c,labelsRef:u}=r.useContext(eu),d=r.useCallback(e=>{if(a.current=e,null!==i&&(c.current[i]=e,u)){var n;let r=void 0!==t;u.current[i]=r?t:null!=(n=null==e?void 0:e.textContent)?n:null}},[i,c,u,t]);return el(()=>{let e=a.current;if(e)return s(e),()=>{o(e)}},[s,o]),el(()=>{let e=a.current?l.get(a.current):null;null!=e&&n(e)},[l]),r.useMemo(()=>({ref:d,index:null==i?-1:i}),[i,d])}function ep(){return(ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}let ef=!1,em=0,eg=()=>"floating-ui-"+em++,ey=a["useId".toString()]||function(){let[e,t]=r.useState(()=>ef?eg():void 0);return el(()=>{null==e&&t(eg())},[]),r.useEffect(()=>{ef||(ef=!0)},[]),e},ev=r.forwardRef(function(e,t){let{context:{placement:i,elements:{floating:n},middlewareData:{arrow:a}},width:s=14,height:o=7,tipRadius:l=0,strokeWidth:c=0,staticOffset:u,stroke:d,d:h,style:{transform:p,...f}={},...m}=e,g=ey();if(!n)return null;let y=(c*=2)/2,v=s/2*(-(l/8)+1),b=o/2*l/4,[w,x]=i.split("-"),k=S.Jv.isRTL(n),_=!!h,R="top"===w||"bottom"===w,E=u&&"end"===x?"bottom":"top",T=u&&"end"===x?"right":"left";u&&k&&(T="end"===x?"left":"right");let C=(null==a?void 0:a.x)!=null?u||a.x:"",P=(null==a?void 0:a.y)!=null?u||a.y:"",A=h||"M0,0 H"+s+" L"+(s-v)+","+(o-b)+(" Q"+s/2+","+o+" ")+v+","+(o-b)+" Z",I={top:_?"rotate(180deg)":"",left:_?"rotate(90deg)":"rotate(-90deg)",bottom:_?"":"rotate(180deg)",right:_?"rotate(-90deg)":"rotate(90deg)"}[w];return r.createElement("svg",ep({},m,{"aria-hidden":!0,ref:t,width:_?s:s+c,height:s,viewBox:"0 0 "+s+" "+(o>s?o:s),style:{position:"absolute",pointerEvents:"none",[T]:C,[E]:P,[w]:R||_?"100%":"calc(100% - "+c/2+"px)",transform:""+I+(null!=p?p:""),...f}}),c>0&&r.createElement("path",{clipPath:"url(#"+g+")",fill:"none",stroke:d,strokeWidth:c+(h?0:1),d:A}),r.createElement("path",{stroke:c&&!h?m.fill:"none",d:A}),r.createElement("clipPath",{id:g},r.createElement("rect",{x:-y,y:y*(_?-1:1),width:s+c,height:s})))}),eb=r.createContext(null),ew=r.createContext(null),ex=()=>{var e;return(null==(e=r.useContext(eb))?void 0:e.id)||null},ek=()=>r.useContext(ew);function eS(e){return"data-floating-ui-"+e}function e_(e){let t=(0,r.useRef)(e);return el(()=>{t.current=e}),t}let eR=eS("safe-polygon");function eE(e,t,i){return i&&!m(i)?0:"number"==typeof e?e:null==e?void 0:e[t]}function eT(e,t){void 0===t&&(t={});let{open:i,onOpenChange:n,dataRef:a,events:o,elements:{domReference:c,floating:u},refs:d}=e,{enabled:h=!0,delay:p=0,handleClose:f=null,mouseOnly:y=!1,restMs:v=0,move:b=!0}=t,w=ek(),x=ex(),k=e_(f),S=e_(p),_=r.useRef(),R=r.useRef(),E=r.useRef(),T=r.useRef(),C=r.useRef(!0),P=r.useRef(!1),A=r.useRef(()=>{}),I=r.useCallback(()=>{var e;let t=null==(e=a.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t},[a]);r.useEffect(()=>{if(h)return o.on("openchange",e),()=>{o.off("openchange",e)};function e(e){let{open:t}=e;t||(clearTimeout(R.current),clearTimeout(T.current),C.current=!0)}},[h,o]),r.useEffect(()=>{if(!h||!k.current||!i)return;function e(e){I()&&n(!1,e,"hover")}let t=g(u).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}},[u,i,n,h,k,I]);let O=r.useCallback(function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i="hover");let r=eE(S.current,"close",_.current);r&&!E.current?(clearTimeout(R.current),R.current=setTimeout(()=>n(!1,e,i),r)):t&&(clearTimeout(R.current),n(!1,e,i))},[S,n]),j=r.useCallback(()=>{A.current(),E.current=void 0},[]),N=r.useCallback(()=>{if(P.current){let e=g(d.floating.current).body;e.style.pointerEvents="",e.removeAttribute(eR),P.current=!1}},[d]);return r.useEffect(()=>{if(h&&(0,s.kK)(c))return i&&c.addEventListener("mouseleave",d),null==u||u.addEventListener("mouseleave",d),b&&c.addEventListener("mousemove",r,{once:!0}),c.addEventListener("mouseenter",r),c.addEventListener("mouseleave",o),()=>{i&&c.removeEventListener("mouseleave",d),null==u||u.removeEventListener("mouseleave",d),b&&c.removeEventListener("mousemove",r),c.removeEventListener("mouseenter",r),c.removeEventListener("mouseleave",o)};function t(){return!!a.current.openEvent&&["click","mousedown"].includes(a.current.openEvent.type)}function r(e){if(clearTimeout(R.current),C.current=!1,y&&!m(_.current)||v>0&&0===eE(S.current,"open"))return;let t=eE(S.current,"open",_.current);t?R.current=setTimeout(()=>{n(!0,e,"hover")},t):n(!0,e,"hover")}function o(n){if(t())return;A.current();let r=g(u);if(clearTimeout(T.current),k.current){i||clearTimeout(R.current),E.current=k.current({...e,tree:w,x:n.clientX,y:n.clientY,onClose(){N(),j(),O(n,!0,"safe-polygon")}});let t=E.current;r.addEventListener("mousemove",t),A.current=()=>{r.removeEventListener("mousemove",t)};return}"touch"===_.current&&l(u,n.relatedTarget)||O(n)}function d(i){t()||null==k.current||k.current({...e,tree:w,x:i.clientX,y:i.clientY,onClose(){N(),j(),O(i)}})(i)}},[c,u,h,e,y,v,b,O,j,N,n,i,w,S,k,a]),el(()=>{var e,t;if(h&&i&&null!=(e=k.current)&&e.__options.blockPointerEvents&&I()){let e=g(u).body;if(e.setAttribute(eR,""),e.style.pointerEvents="none",P.current=!0,(0,s.kK)(c)&&u){let e=null==w||null==(t=w.nodesRef.current.find(e=>e.id===x))||null==(t=t.context)?void 0:t.elements.floating;return e&&(e.style.pointerEvents=""),c.style.pointerEvents="auto",u.style.pointerEvents="auto",()=>{c.style.pointerEvents="",u.style.pointerEvents=""}}}},[h,i,x,u,c,w,k,I]),el(()=>{i||(_.current=void 0,j(),N())},[i,j,N]),r.useEffect(()=>()=>{j(),clearTimeout(R.current),clearTimeout(T.current),N()},[h,c,j,N]),r.useMemo(()=>{if(!h)return{};function e(e){_.current=e.pointerType}return{reference:{onPointerDown:e,onPointerEnter:e,onMouseMove(e){i||0===v||(clearTimeout(T.current),T.current=setTimeout(()=>{C.current||n(!0,e.nativeEvent,"hover")},v))}},floating:{onMouseEnter(){clearTimeout(R.current)},onMouseLeave(e){O(e.nativeEvent,!1)}}}},[h,v,i,n,O])}function eC(e,t){let i=e.filter(e=>{var i;return e.parentId===t&&(null==(i=e.context)?void 0:i.open)}),n=i;for(;n.length;)n=e.filter(e=>{var t;return null==(t=n)?void 0:t.some(t=>{var i;return e.parentId===t.id&&(null==(i=e.context)?void 0:i.open)})}),i=i.concat(n);return i}let eP=new WeakMap,eA=new WeakSet,eI={},eO=0,ej=()=>"undefined"!=typeof HTMLElement&&"inert"in HTMLElement.prototype,eN=e=>e&&(e.host||eN(e.parentNode)),eL=(e,t)=>t.map(t=>{if(e.contains(t))return t;let i=eN(t);return e.contains(i)?i:null}).filter(e=>null!=e);function eD(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);let n=g(e[0]).body;return function(e,t,i,n){let r="data-floating-ui-inert",a=n?"inert":i?"aria-hidden":null,s=eL(t,e),o=new Set,l=new Set(s),c=[];eI[r]||(eI[r]=new WeakMap);let u=eI[r];return s.forEach(function e(t){!(!t||o.has(t))&&(o.add(t),t.parentNode&&e(t.parentNode))}),function e(t){!t||l.has(t)||Array.prototype.forEach.call(t.children,t=>{if(o.has(t))e(t);else{let e=a?t.getAttribute(a):null,i=null!==e&&"false"!==e,n=(eP.get(t)||0)+1,s=(u.get(t)||0)+1;eP.set(t,n),u.set(t,s),c.push(t),1===n&&i&&eA.add(t),1===s&&t.setAttribute(r,""),!i&&a&&t.setAttribute(a,"true")}})}(t),o.clear(),eO++,()=>{c.forEach(e=>{let t=(eP.get(e)||0)-1,i=(u.get(e)||0)-1;eP.set(e,t),u.set(e,i),t||(!eA.has(e)&&a&&e.removeAttribute(a),eA.delete(e)),i||e.removeAttribute(r)}),--eO||(eP=new WeakMap,eP=new WeakMap,eA=new WeakSet,eI={})}}(e.concat(Array.from(n.querySelectorAll("[aria-live]"))),n,t,i)}let eU=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function eq(e,t){let i=H(e,eU());"prev"===t&&i.reverse();let n=i.indexOf(o(g(e)));return i.slice(n+1)[0]}function eM(){return eq(document.body,"next")}function eF(){return eq(document.body,"prev")}function e$(e,t){let i=t||e.currentTarget,n=e.relatedTarget;return!n||!l(i,n)}let eB={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function eK(e){"Tab"===e.key&&(e.target,clearTimeout(n))}let ez=r.forwardRef(function(e,t){let[i,n]=r.useState();el(()=>(p()&&n("button"),document.addEventListener("keydown",eK),()=>{document.removeEventListener("keydown",eK)}),[]);let a={ref:t,tabIndex:0,role:i,"aria-hidden":!i||void 0,[eS("focus-guard")]:"",style:eB};return r.createElement("span",ep({},e,a))}),eV=r.createContext(null),eW=eS("portal");function eH(e){let{children:t,id:i,root:n=null,preserveTabOrder:a=!0}=e,o=function(e){let{id:t,root:i}=void 0===e?{}:e,[n,a]=r.useState(null),o=ey(),l=eG(),c=r.useRef(null);return el(()=>()=>{null==n||n.remove(),queueMicrotask(()=>{c.current=null})},[n]),el(()=>{if(c.current)return;let e=t?document.getElementById(t):null;if(!e)return;let i=document.createElement("div");i.id=o,i.setAttribute(eW,""),e.appendChild(i),c.current=i,a(i)},[t,o]),el(()=>{if(c.current)return;let e=i||(null==l?void 0:l.portalNode);e&&!(0,s.kK)(e)&&(e=e.current),e=e||document.body;let n=null;t&&((n=document.createElement("div")).id=t,e.appendChild(n));let r=document.createElement("div");r.id=o,r.setAttribute(eW,""),(e=n||e).appendChild(r),c.current=r,a(r)},[t,i,o,l]),n}({id:i,root:n}),[l,c]=r.useState(null),u=r.useRef(null),d=r.useRef(null),h=r.useRef(null),p=r.useRef(null),f=!!l&&!l.modal&&l.open&&a&&!!(n||o);return r.useEffect(()=>{if(o&&a&&(null==l||!l.modal))return o.addEventListener("focusin",e,!0),o.addEventListener("focusout",e,!0),()=>{o.removeEventListener("focusin",e,!0),o.removeEventListener("focusout",e,!0)};function e(e){o&&e$(e)&&("focusin"===e.type?function(e){e.querySelectorAll("[data-tabindex]").forEach(e=>{let t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")})}:function(e){H(e,eU()).forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")})})(o)}},[o,a,null==l?void 0:l.modal]),r.createElement(eV.Provider,{value:r.useMemo(()=>({preserveTabOrder:a,beforeOutsideRef:u,afterOutsideRef:d,beforeInsideRef:h,afterInsideRef:p,portalNode:o,setFocusManagerState:c}),[a,o])},f&&o&&r.createElement(ez,{"data-type":"outside",ref:u,onFocus:e=>{if(e$(e,o)){var t;null==(t=h.current)||t.focus()}else{let e=eF()||(null==l?void 0:l.refs.domReference.current);null==e||e.focus()}}}),f&&o&&r.createElement("span",{"aria-owns":o.id,style:eB}),o&&(0,G.createPortal)(t,o),f&&o&&r.createElement(ez,{"data-type":"outside",ref:d,onFocus:e=>{if(e$(e,o)){var t;null==(t=p.current)||t.focus()}else{let t=eM()||(null==l?void 0:l.refs.domReference.current);null==t||t.focus(),(null==l?void 0:l.closeOnFocusOut)&&(null==l||l.onOpenChange(!1,e.nativeEvent))}}}))}let eG=()=>r.useContext(eV),eJ=[];function eY(e){eJ=eJ.filter(e=>e.isConnected),e&&"body"!==(0,s.wk)(e)&&(eJ.push(e),eJ.length>20&&(eJ=eJ.slice(-20)))}function eX(){return eJ.slice().reverse().find(e=>e.isConnected)}let eQ=r.forwardRef(function(e,t){return r.createElement("button",ep({},e,{type:"button",ref:t,tabIndex:-1,style:eB}))});function eZ(e){let{context:t,children:i,disabled:n=!1,order:a=["content"],guards:c=!0,initialFocus:u=0,returnFocus:p=!0,modal:f=!0,visuallyHiddenDismiss:m=!1,closeOnFocusOut:y=!0}=e,{open:b,refs:k,nodeId:S,onOpenChange:_,events:R,dataRef:E,elements:{domReference:T,floating:C}}=t,P="number"==typeof u&&u<0,A=x(T)&&P,I=!ej()||c,O=e_(a),j=e_(u),N=e_(p),L=ek(),D=eG(),U=r.useRef(null),q=r.useRef(null),M=r.useRef(!1),F=r.useRef(!1),$=null!=D,B=r.useCallback(function(e){return void 0===e&&(e=C),e?H(e,eU()):[]},[C]),K=r.useCallback(e=>{let t=B(e);return O.current.map(e=>T&&"reference"===e?T:C&&"floating"===e?C:t).filter(Boolean).flat()},[T,C,O,B]);function z(e){return!n&&m&&f?r.createElement(eQ,{ref:"start"===e?U:q,onClick:e=>_(!1,e.nativeEvent)},"string"==typeof m?m:"Dismiss"):null}r.useEffect(()=>{if(n||!f)return;function e(e){if("Tab"===e.key){l(C,o(g(C)))&&0===B().length&&!A&&w(e);let t=K(),i=v(e);"reference"===O.current[0]&&i===T&&(w(e),e.shiftKey?eo(t[t.length-1]):eo(t[1])),"floating"===O.current[1]&&i===C&&e.shiftKey&&(w(e),eo(t[0]))}}let t=g(C);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}},[n,T,C,f,O,A,B,K]),r.useEffect(()=>{if(!n&&y&&C&&(0,s.Re)(T))return T.addEventListener("focusout",t),T.addEventListener("pointerdown",e),f||C.addEventListener("focusout",t),()=>{T.removeEventListener("focusout",t),T.removeEventListener("pointerdown",e),f||C.removeEventListener("focusout",t)};function e(){F.current=!0,setTimeout(()=>{F.current=!1})}function t(e){let t=e.relatedTarget;queueMicrotask(()=>{let i=!(l(T,t)||l(C,t)||l(t,C)||l(null==D?void 0:D.portalNode,t)||null!=t&&t.hasAttribute(eS("focus-guard"))||L&&(eC(L.nodesRef.current,S).find(e=>{var i,n;return l(null==(i=e.context)?void 0:i.elements.floating,t)||l(null==(n=e.context)?void 0:n.elements.domReference,t)})||(function(e,t){var i;let n=[],r=null==(i=e.find(e=>e.id===t))?void 0:i.parentId;for(;r;){let t=e.find(e=>e.id===r);r=null==t?void 0:t.parentId,t&&(n=n.concat(t))}return n})(L.nodesRef.current,S).find(e=>{var i,n;return(null==(i=e.context)?void 0:i.elements.floating)===t||(null==(n=e.context)?void 0:n.elements.domReference)===t})));t&&i&&!F.current&&t!==eX()&&(M.current=!0,_(!1,e))})}},[n,T,C,f,S,L,D,_,y]),r.useEffect(()=>{var e;if(n)return;let t=Array.from((null==D||null==(e=D.portalNode)?void 0:e.querySelectorAll("["+eS("portal")+"]"))||[]);if(C){let e=[C,...t,U.current,q.current,O.current.includes("reference")||A?T:null].filter(e=>null!=e),i=f||A?eD(e,I,!I):eD(e);return()=>{i()}}},[n,T,C,f,O,D,A,I]),el(()=>{if(n||!C)return;let e=o(g(C));queueMicrotask(()=>{let t=K(C),i=j.current,n=("number"==typeof i?t[i]:i.current)||C,r=l(C,e);P||r||!b||eo(n,{preventScroll:n===C})})},[n,b,C,P,K,j]),el(()=>{if(n||!C)return;let e=!1,t=g(C),i=o(t),r=E.current;function a(t){let{reason:i,event:n,nested:r}=t;"escape-key"===i&&k.domReference.current&&eY(k.domReference.current),"hover"===i&&"mouseleave"===n.type&&(M.current=!0),"outside-press"===i&&(r?(M.current=!1,e=!0):M.current=!(d(n)||h(n)))}return eY(i),R.on("openchange",a),()=>{R.off("openchange",a);let i=o(t),n=l(C,i)||L&&eC(L.nodesRef.current,S).some(e=>{var t;return l(null==(t=e.context)?void 0:t.elements.floating,i)});(n||r.openEvent&&["click","mousedown"].includes(r.openEvent.type))&&k.domReference.current&&eY(k.domReference.current);let c=eX();N.current&&!M.current&&(0,s.Re)(c)&&(c===i||i===t.body||n)&&eo(c,{cancelPrevious:!1,preventScroll:e})}},[n,C,N,E,k,R,L,S]),el(()=>{if(!n&&D)return D.setFocusManagerState({modal:f,closeOnFocusOut:y,open:b,onOpenChange:_,refs:k}),()=>{D.setFocusManagerState(null)}},[n,D,f,b,_,k,y]),el(()=>{if(n||!C||"function"!=typeof MutationObserver||P)return;let e=()=>{let e=C.getAttribute("tabindex");O.current.includes("floating")||o(g(C))!==k.domReference.current&&0===B().length?"0"!==e&&C.setAttribute("tabindex","0"):"-1"!==e&&C.setAttribute("tabindex","-1")};e();let t=new MutationObserver(e);return t.observe(C,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}},[n,C,k,O,B,P]);let V=!n&&I&&($||f);return r.createElement(r.Fragment,null,V&&r.createElement(ez,{"data-type":"inside",ref:null==D?void 0:D.beforeInsideRef,onFocus:e=>{if(f){let e=K();eo("reference"===a[0]?e[0]:e[e.length-1])}else if(null!=D&&D.preserveTabOrder&&D.portalNode){if(M.current=!1,e$(e,D.portalNode)){let e=eM()||T;null==e||e.focus()}else{var t;null==(t=D.beforeOutsideRef.current)||t.focus()}}}}),!A&&z("start"),i,z("end"),V&&r.createElement(ez,{"data-type":"inside",ref:null==D?void 0:D.afterInsideRef,onFocus:e=>{if(f)eo(K()[0]);else if(null!=D&&D.preserveTabOrder&&D.portalNode){if(y&&(M.current=!0),e$(e,D.portalNode)){let e=eF()||T;null==e||e.focus()}else{var t;null==(t=D.afterOutsideRef.current)||t.focus()}}}}))}let e0=new Set,e1=r.forwardRef(function(e,t){let{lockScroll:i=!1,...n}=e,a=ey();return el(()=>{if(!i)return;e0.add(a);let e=/iP(hone|ad|od)|iOS/.test(c()),t=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",r=window.innerWidth-document.documentElement.clientWidth,s=t.left?parseFloat(t.left):window.pageXOffset,o=t.top?parseFloat(t.top):window.pageYOffset;if(t.overflow="hidden",r&&(t[n]=r+"px"),e){var l,u;let e=(null==(l=window.visualViewport)?void 0:l.offsetLeft)||0;Object.assign(t,{position:"fixed",top:-(o-Math.floor((null==(u=window.visualViewport)?void 0:u.offsetTop)||0))+"px",left:-(s-Math.floor(e))+"px",right:"0"})}return()=>{e0.delete(a),0===e0.size&&(Object.assign(t,{overflow:"",[n]:""}),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(s,o)))}},[a,i]),r.createElement("div",ep({ref:t},n,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...n.style}}))});function e2(e){return(0,s.Re)(e.target)&&"BUTTON"===e.target.tagName}function e3(e,t){void 0===t&&(t={});let{open:i,onOpenChange:n,dataRef:a,elements:{domReference:s}}=e,{enabled:o=!0,event:l="click",toggle:c=!0,ignoreMouse:u=!1,keyboardHandlers:d=!0}=t,h=r.useRef(),p=r.useRef(!1);return r.useMemo(()=>o?{reference:{onPointerDown(e){h.current=e.pointerType},onMouseDown(e){0!==e.button||m(h.current,!0)&&u||"click"===l||(i&&c&&(!a.current.openEvent||"mousedown"===a.current.openEvent.type)?n(!1,e.nativeEvent,"click"):(e.preventDefault(),n(!0,e.nativeEvent,"click")))},onClick(e){if("mousedown"===l&&h.current){h.current=void 0;return}m(h.current,!0)&&u||(i&&c&&(!a.current.openEvent||"click"===a.current.openEvent.type)?n(!1,e.nativeEvent,"click"):n(!0,e.nativeEvent,"click"))},onKeyDown(e){h.current=void 0,e.defaultPrevented||!d||e2(e)||(" "!==e.key||b(s)||(e.preventDefault(),p.current=!0),"Enter"===e.key&&(i&&c?n(!1,e.nativeEvent,"click"):n(!0,e.nativeEvent,"click")))},onKeyUp(e){!(e.defaultPrevented||!d||e2(e)||b(s))&&" "===e.key&&p.current&&(p.current=!1,i&&c?n(!1,e.nativeEvent,"click"):n(!0,e.nativeEvent,"click"))}}}:{},[o,a,l,u,d,s,c,i,n])}let e4={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},e5={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},e6=e=>{var t,i;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(i=null==e?void 0:e.outsidePress)||i}};function e8(e,t){void 0===t&&(t={});let{open:i,onOpenChange:n,nodeId:a,elements:{reference:o,domReference:c,floating:u},dataRef:d}=e,{enabled:h=!0,escapeKey:p=!0,outsidePress:f=!0,outsidePressEvent:m="pointerdown",referencePress:b=!1,referencePressEvent:w="pointerdown",ancestorScroll:x=!1,bubbles:k,capture:S}=t,_=ek(),R=Y("function"==typeof f?f:()=>!1),E="function"==typeof f?R:f,T=r.useRef(!1),C=r.useRef(!1),{escapeKey:P,outsidePress:A}=e6(k),{escapeKey:I,outsidePress:O}=e6(S),j=Y(e=>{if(!i||!h||!p||"Escape"!==e.key)return;let t=_?eC(_.nodesRef.current,a):[];if(!P&&(e.stopPropagation(),t.length>0)){let e=!0;if(t.forEach(t=>{var i;if(null!=(i=t.context)&&i.open&&!t.context.dataRef.current.__escapeKeyBubbles){e=!1;return}}),!e)return}n(!1,"nativeEvent"in e?e.nativeEvent:e,"escape-key")}),N=Y(e=>{var t;let i=()=>{var t;j(e),null==(t=v(e))||t.removeEventListener("keydown",i)};null==(t=v(e))||t.addEventListener("keydown",i)}),L=Y(e=>{let t=T.current;T.current=!1;let i=C.current;if(C.current=!1,"click"===m&&i||t||"function"==typeof E&&!E(e))return;let r=v(e),o="["+eS("inert")+"]",d=g(u).querySelectorAll(o),h=(0,s.kK)(r)?r:null;for(;h&&!(0,s.Py)(h);){let e=(0,s.Ow)(h);if((0,s.Py)(e)||!(0,s.kK)(e))break;h=e}if(d.length&&(0,s.kK)(r)&&!r.matches("html,body")&&!l(r,u)&&Array.from(d).every(e=>!l(h,e)))return;if((0,s.Re)(r)&&u){let t=r.clientWidth>0&&r.scrollWidth>r.clientWidth,i=r.clientHeight>0&&r.scrollHeight>r.clientHeight,n=i&&e.offsetX>r.clientWidth;if(i&&"rtl"===(0,s.Dx)(r).direction&&(n=e.offsetX<=r.offsetWidth-r.clientWidth),n||t&&e.offsetY>r.clientHeight)return}let p=_&&eC(_.nodesRef.current,a).some(t=>{var i;return y(e,null==(i=t.context)?void 0:i.elements.floating)});if(y(e,u)||y(e,c)||p)return;let f=_?eC(_.nodesRef.current,a):[];if(f.length>0){let e=!0;if(f.forEach(t=>{var i;if(null!=(i=t.context)&&i.open&&!t.context.dataRef.current.__outsidePressBubbles){e=!1;return}}),!e)return}n(!1,e,"outside-press")}),D=Y(e=>{var t;let i=()=>{var t;L(e),null==(t=v(e))||t.removeEventListener(m,i)};null==(t=v(e))||t.addEventListener(m,i)});return r.useEffect(()=>{if(!i||!h)return;function e(e){n(!1,e,"ancestor-scroll")}d.current.__escapeKeyBubbles=P,d.current.__outsidePressBubbles=A;let t=g(u);p&&t.addEventListener("keydown",I?N:j,I),E&&t.addEventListener(m,O?D:L,O);let r=[];return x&&((0,s.kK)(c)&&(r=(0,s.Kx)(c)),(0,s.kK)(u)&&(r=r.concat((0,s.Kx)(u))),!(0,s.kK)(o)&&o&&o.contextElement&&(r=r.concat((0,s.Kx)(o.contextElement)))),(r=r.filter(e=>{var i;return e!==(null==(i=t.defaultView)?void 0:i.visualViewport)})).forEach(t=>{t.addEventListener("scroll",e,{passive:!0})}),()=>{p&&t.removeEventListener("keydown",I?N:j,I),E&&t.removeEventListener(m,O?D:L,O),r.forEach(t=>{t.removeEventListener("scroll",e)})}},[d,u,c,o,p,E,m,i,n,x,h,P,A,j,I,N,L,O,D]),r.useEffect(()=>{T.current=!1},[E,m]),r.useMemo(()=>h?{reference:{onKeyDown:j,[e4[w]]:e=>{b&&n(!1,e.nativeEvent,"reference-press")}},floating:{onKeyDown:j,onMouseDown(){C.current=!0},onMouseUp(){C.current=!0},[e5[m]]:()=>{T.current=!0}}}:{},[h,b,m,w,n,j])}function e9(e){var t;void 0===e&&(e={});let{open:i=!1,onOpenChange:n,nodeId:a}=e,[o,l]=r.useState(null),c=(null==(t=e.elements)?void 0:t.reference)||o,u=(0,_.YF)(e),d=ek(),h=null!=ex(),p=Y((e,t,i)=>{e&&(m.current.openEvent=t),g.emit("openchange",{open:e,event:t,reason:i,nested:h}),null==n||n(e,t,i)}),f=r.useRef(null),m=r.useRef({}),g=r.useState(()=>(function(){let e=new Map;return{emit(t,i){var n;null==(n=e.get(t))||n.forEach(e=>e(i))},on(t,i){e.set(t,[...e.get(t)||[],i])},off(t,i){var n;e.set(t,(null==(n=e.get(t))?void 0:n.filter(e=>e!==i))||[])}}})())[0],y=ey(),v=r.useCallback(e=>{let t=(0,s.kK)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;u.refs.setReference(t)},[u.refs]),b=r.useCallback(e=>{((0,s.kK)(e)||null===e)&&(f.current=e,l(e)),((0,s.kK)(u.refs.reference.current)||null===u.refs.reference.current||null!==e&&!(0,s.kK)(e))&&u.refs.setReference(e)},[u.refs]),w=r.useMemo(()=>({...u.refs,setReference:b,setPositionReference:v,domReference:f}),[u.refs,b,v]),x=r.useMemo(()=>({...u.elements,domReference:c}),[u.elements,c]),k=r.useMemo(()=>({...u,refs:w,elements:x,dataRef:m,nodeId:a,floatingId:y,events:g,open:i,onOpenChange:p}),[u,a,y,g,i,p,w,x]);return el(()=>{let e=null==d?void 0:d.nodesRef.current.find(e=>e.id===a);e&&(e.context=k)}),r.useMemo(()=>({...u,context:k,refs:w,elements:x}),[u,w,x,k])}let e7="active",te="selected";function tt(e,t,i){let n=new Map,r="item"===i,a=e;if(r&&e){let{[e7]:t,[te]:i,...n}=e;a=n}return{..."floating"===i&&{tabIndex:-1},...a,...t.map(t=>{let n=t?t[i]:null;return"function"==typeof n?e?n(e):null:n}).concat(e).reduce((e,t)=>(t&&Object.entries(t).forEach(t=>{let[i,a]=t;if(!(r&&[e7,te].includes(i))){if(0===i.indexOf("on")){if(n.has(i)||n.set(i,[]),"function"==typeof a){var s;null==(s=n.get(i))||s.push(a),e[i]=function(){for(var e,t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return null==(e=n.get(i))?void 0:e.map(e=>e(...r)).find(e=>void 0!==e)}}}else e[i]=a}}),e),{})}}function ti(e){void 0===e&&(e=[]);let t=e,i=r.useCallback(t=>tt(t,e,"reference"),t),n=r.useCallback(t=>tt(t,e,"floating"),t),a=r.useCallback(t=>tt(t,e,"item"),e.map(e=>null==e?void 0:e.item));return r.useMemo(()=>({getReferenceProps:i,getFloatingProps:n,getItemProps:a}),[i,n,a])}let tn=!1;function tr(e,t,i){switch(e){case"vertical":return t;case"horizontal":return i;default:return t||i}}function ta(e,t){return tr(t,e===X||e===Q,e===Z||e===ee)}function ts(e,t,i){return tr(t,e===Q,i?e===Z:e===ee)||"Enter"===e||" "===e||""===e}function to(e,t,i){return tr(t,i?e===ee:e===Z,e===X)}function tl(e,t){let{open:i,onOpenChange:n,refs:a,elements:{domReference:u,floating:f}}=e,{listRef:m,activeIndex:y,onNavigate:v=()=>{},enabled:b=!0,selectedIndex:S=null,allowEscape:_=!1,loop:R=!1,nested:E=!1,rtl:T=!1,virtual:C=!1,focusItemOnOpen:P="auto",focusItemOnHover:A=!0,openOnArrowKeyDown:I=!0,disabledIndices:O,orientation:j="vertical",cols:N=1,scrollItemIntoView:L=!0,virtualItemRef:D,itemSizes:U,dense:q=!1}=t,M=ex(),F=ek(),$=Y(v),B=r.useRef(P),K=r.useRef(null!=S?S:-1),z=r.useRef(null),V=r.useRef(!0),W=r.useRef($),H=r.useRef(!!f),G=r.useRef(!1),J=r.useRef(!1),es=e_(O),ec=e_(i),eu=e_(L),[ed,eh]=r.useState(),[ep,ef]=r.useState(),em=Y(function(e,t,i){void 0===i&&(i=!1);let n=e.current[t.current];n&&(C?(eh(n.id),null==F||F.events.emit("virtualfocus",n),D&&(D.current=n)):eo(n,{preventScroll:!0,sync:!!(c().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints&&p())&&(tn||G.current)}),requestAnimationFrame(()=>{let e=eu.current;e&&n&&(i||!V.current)&&(null==n.scrollIntoView||n.scrollIntoView("boolean"==typeof e?{block:"nearest",inline:"nearest"}:e))}))});el(()=>{document.createElement("div").focus({get preventScroll(){return tn=!0,!1}})},[]),el(()=>{b&&(i&&f?B.current&&null!=S&&(J.current=!0,K.current=S,$(S)):H.current&&(K.current=-1,W.current(null)))},[b,i,f,S,$]),el(()=>{if(b&&i&&f){if(null==y){if(G.current=!1,null==S&&(H.current&&(K.current=-1,em(m,K)),!H.current&&B.current&&(null!=z.current||!0===B.current&&null==z.current))){let e=0,t=()=>{null==m.current[0]?(e<2&&(e?requestAnimationFrame:queueMicrotask)(t),e++):(K.current=null==z.current||ts(z.current,j,T)||E?en(m,es.current):er(m,es.current),z.current=null,$(K.current))};t()}}else ei(m,y)||(K.current=y,em(m,K,J.current),J.current=!1)}},[b,i,f,y,S,E,m,j,T,$,em,es]),el(()=>{var e;if(!b||f||!F||C||!H.current)return;let t=F.nodesRef.current,i=null==(e=t.find(e=>e.id===M))||null==(e=e.context)?void 0:e.elements.floating,n=o(g(f)),r=t.some(e=>e.context&&l(e.context.elements.floating,n));i&&!r&&V.current&&i.focus({preventScroll:!0})},[b,f,F,M,C]),el(()=>{if(b&&F&&C&&!M)return F.events.on("virtualfocus",e),()=>{F.events.off("virtualfocus",e)};function e(e){ef(e.id),D&&(D.current=e)}},[b,F,C,M,D]),el(()=>{W.current=$,H.current=!!f}),el(()=>{i||(z.current=null)},[i]);let eg=null!=y,ey=r.useMemo(()=>{function e(e){if(!i)return;let t=m.current.indexOf(e);-1!==t&&$(t)}return{onFocus(t){let{currentTarget:i}=t;e(i)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...A&&{onMouseMove(t){let{currentTarget:i}=t;e(i)},onPointerLeave(e){let{pointerType:t}=e;V.current&&"touch"!==t&&(K.current=-1,em(m,K),$(null),C||eo(a.floating.current,{preventScroll:!0}))}}}},[i,a,em,A,m,$,C]);return r.useMemo(()=>{if(!b)return{};let e=es.current;function t(t){if(V.current=!1,G.current=!0,!ec.current&&t.currentTarget===a.floating.current)return;if(E&&to(t.key,j,T)){w(t),n(!1,t.nativeEvent,"list-navigation"),(0,s.Re)(u)&&!C&&u.focus();return}let r=K.current,l=en(m,e),c=er(m,e);if("Home"===t.key&&(w(t),K.current=l,$(K.current)),"End"===t.key&&(w(t),K.current=c,$(K.current)),N>1){var d;let i=U||Array.from({length:m.current.length},()=>({width:1,height:1})),n=function(e,t,i){let n=[],r=0;return e.forEach((e,a)=>{let{width:s,height:o}=e,l=!1;for(i&&(r=0);!l;){let e=[];for(let i=0;i<s;i++)for(let n=0;n<o;n++)e.push(r+i+n*t);r%t+s<=t&&e.every(e=>null==n[e])?(e.forEach(e=>{n[e]=a}),l=!0):r++}}),[...n]}(i,N,q),r=n.findIndex(t=>null!=t&&!(null!=e&&e.includes(t))),a=n.reduce((t,i,n)=>null==i||null!=e&&e.includes(i)?t:n,-1);if(K.current=n[function(e,t){let{event:i,orientation:n,loop:r,cols:a,disabledIndices:s,minIndex:o,maxIndex:l,prevIndex:c,stopEvent:u=!1}=t,d=c;if(i.key===X){if(u&&w(i),-1===c)d=l;else if(d=ea(e,{startingIndex:d,amount:a,decrement:!0,disabledIndices:s}),r&&(c-a<o||d<0)){let e=c%a,t=l%a,i=l-(t-e);d=t===e?l:t>e?i:i-a}ei(e,d)&&(d=c)}if(i.key===Q&&(u&&w(i),-1===c?d=o:(d=ea(e,{startingIndex:c,amount:a,disabledIndices:s}),r&&c+a>l&&(d=ea(e,{startingIndex:c%a-a,amount:a,disabledIndices:s}))),ei(e,d)&&(d=c)),"both"===n){let t=(0,k.GW)(c/a);i.key===ee&&(u&&w(i),c%a!=a-1?(d=ea(e,{startingIndex:c,disabledIndices:s}),r&&et(d,a,t)&&(d=ea(e,{startingIndex:c-c%a-1,disabledIndices:s}))):r&&(d=ea(e,{startingIndex:c-c%a-1,disabledIndices:s})),et(d,a,t)&&(d=c)),i.key===Z&&(u&&w(i),c%a!=0?(d=ea(e,{startingIndex:c,disabledIndices:s,decrement:!0}),r&&et(d,a,t)&&(d=ea(e,{startingIndex:c+(a-c%a),decrement:!0,disabledIndices:s}))):r&&(d=ea(e,{startingIndex:c+(a-c%a),decrement:!0,disabledIndices:s})),et(d,a,t)&&(d=c));let n=(0,k.GW)(l/a)===t;ei(e,d)&&(d=r&&n?i.key===Z?l:ea(e,{startingIndex:c-c%a-1,disabledIndices:s}):c)}return d}({current:n.map(e=>null!=e?m.current[e]:null)},{event:t,orientation:j,loop:R,cols:N,disabledIndices:(d=[...e||[],void 0],n.flatMap((e,t)=>d.includes(e)?[t]:[])),minIndex:r,maxIndex:a,prevIndex:function(e,t,i,n,r){if(-1===e)return -1;let a=i.indexOf(e);switch(r){case"tl":return a;case"tr":return a+t[e].width-1;case"bl":return a+(t[e].height-1)*n;case"br":return i.lastIndexOf(e)}}(K.current,i,n,N,t.key===Q?"bl":t.key===ee?"tr":"tl"),stopEvent:!0})],$(K.current),"both"===j)return}if(ta(t.key,j)){if(w(t),i&&!C&&o(t.currentTarget.ownerDocument)===t.currentTarget){K.current=ts(t.key,j,T)?l:c,$(K.current);return}ts(t.key,j,T)?R?K.current=r>=c?_&&r!==m.current.length?-1:l:ea(m,{startingIndex:r,disabledIndices:e}):K.current=Math.min(c,ea(m,{startingIndex:r,disabledIndices:e})):R?K.current=r<=l?_&&-1!==r?m.current.length:c:ea(m,{startingIndex:r,decrement:!0,disabledIndices:e}):K.current=Math.max(l,ea(m,{startingIndex:r,decrement:!0,disabledIndices:e})),ei(m,K.current)?$(null):$(K.current)}}function r(e){"auto"===P&&d(e.nativeEvent)&&(B.current=!0)}let l=C&&i&&eg&&{"aria-activedescendant":ep||ed},c=m.current.find(e=>(null==e?void 0:e.id)===ed);return{reference:{...l,onKeyDown(r){var a,s,o,l,u,d;V.current=!1;let h=0===r.key.indexOf("Arrow"),p=(a=r.key,tr(j,T?a===Z:a===ee,a===Q)),f=to(r.key,j,T),g=ta(r.key,j),y=(E?p:g)||"Enter"===r.key||""===r.key.trim();if(C&&i){let e,i;let n=null==F?void 0:F.nodesRef.current.find(e=>null==e.parentId),a=F&&n?(s=F.nodesRef.current,o=n.id,i=-1,function t(n,r){r>i&&(e=n,i=r),eC(s,n).forEach(e=>{t(e.id,r+1)})}(o,0),s.find(t=>t.id===e)):null;if(h&&a&&D){let e=new KeyboardEvent("keydown",{key:r.key,bubbles:!0});if(p||f){let t=(null==(l=a.context)?void 0:l.elements.domReference)===r.currentTarget,i=f&&!t?null==(u=a.context)?void 0:u.elements.domReference:p?c:null;i&&(w(r),i.dispatchEvent(e),ef(void 0))}if(g&&a.context&&a.context.open&&a.parentId&&r.currentTarget!==a.context.elements.domReference){w(r),null==(d=a.context.elements.domReference)||d.dispatchEvent(e);return}}return t(r)}if(i||I||!h){if(y&&(z.current=E&&g?null:r.key),E){p&&(w(r),i?(K.current=en(m,e),$(K.current)):n(!0,r.nativeEvent,"list-navigation"));return}g&&(null!=S&&(K.current=S),w(r),!i&&I?n(!0,r.nativeEvent,"list-navigation"):t(r),i&&$(K.current))}},onFocus(){i&&$(null)},onPointerDown:function(e){B.current=P,"auto"===P&&h(e.nativeEvent)&&(B.current=!0)},onMouseDown:r,onClick:r},floating:{"aria-orientation":"both"===j?void 0:j,...!x(u)&&l,onKeyDown:t,onPointerMove(){V.current=!0}},item:ey}},[u,a,ed,ep,es,ec,m,b,j,T,C,i,eg,E,S,I,_,N,R,P,$,n,ey,F,D,U,q])}let tc=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function tu(e,t){var i;void 0===t&&(t={});let{open:n,floatingId:a}=e,{enabled:s=!0,role:o="dialog"}=t,l=null!=(i=tc.get(o))?i:o,c=ey(),u=null!=ex();return r.useMemo(()=>{if(!s)return{};let e={id:a,...l&&{role:l}};return"tooltip"===l||"label"===o?{reference:{["aria-"+("label"===o?"labelledby":"describedby")]:n?a:void 0},floating:e}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":"alertdialog"===l?"dialog":l,"aria-controls":n?a:void 0,..."listbox"===l&&{role:"combobox"},..."menu"===l&&{id:c},..."menu"===l&&u&&{role:"menuitem"},..."select"===o&&{"aria-autocomplete":"none"},..."combobox"===o&&{"aria-autocomplete":"list"}},floating:{...e,..."menu"===l&&{"aria-labelledby":c}},item(e){let{active:t,selected:i}=e,n={role:"option",...t&&{id:a+"-option"}};switch(o){case"select":return{...n,"aria-selected":t&&i};case"combobox":return{...n,...t&&{"aria-selected":!0}}}return{}}}},[s,o,l,n,a,c,u])}function td(e,t){var i;let{open:n,dataRef:a}=e,{listRef:s,activeIndex:o,onMatch:l,onTypingChange:c,enabled:u=!0,findMatch:d=null,resetMs:h=750,ignoreKeys:p=[],selectedIndex:f=null}=t,m=r.useRef(),g=r.useRef(""),y=r.useRef(null!=(i=null!=f?f:o)?i:-1),v=r.useRef(null),b=Y(l),x=Y(c),k=e_(d),S=e_(p);return el(()=>{n&&(clearTimeout(m.current),v.current=null,g.current="")},[n]),el(()=>{if(n&&""===g.current){var e;y.current=null!=(e=null!=f?f:o)?e:-1}},[n,f,o]),r.useMemo(()=>{if(!u)return{};function e(e){e?a.current.typing||(a.current.typing=e,x(e)):a.current.typing&&(a.current.typing=e,x(e))}function t(e,t,i){let n=k.current?k.current(t,i):t.find(e=>(null==e?void 0:e.toLocaleLowerCase().indexOf(i.toLocaleLowerCase()))===0);return n?e.indexOf(n):-1}function i(i){let r=s.current;if(g.current.length>0&&" "!==g.current[0]&&(-1===t(r,r,g.current)?e(!1):" "===i.key&&w(i)),null==r||S.current.includes(i.key)||1!==i.key.length||i.ctrlKey||i.metaKey||i.altKey)return;n&&" "!==i.key&&(w(i),e(!0)),r.every(e=>{var t,i;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(i=e[1])?void 0:i.toLocaleLowerCase())})&&g.current===i.key&&(g.current="",y.current=v.current),g.current+=i.key,clearTimeout(m.current),m.current=setTimeout(()=>{g.current="",y.current=v.current,e(!1)},h);let a=y.current,o=t(r,[...r.slice((a||0)+1),...r.slice(0,(a||0)+1)],g.current);-1!==o?(b(o),v.current=o):" "!==i.key&&(g.current="",e(!1))}return{reference:{onKeyDown:i},floating:{onKeyDown:i,onKeyUp(t){" "===t.key&&e(!1)}}}},[u,n,a,s,h,S,k,b,x])}},57474:(e,t,i)=>{"use strict";function n(e){return s(e)?(e.nodeName||"").toLowerCase():"#document"}function r(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function a(e){var t;return null==(t=(s(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function s(e){return e instanceof Node||e instanceof r(e).Node}function o(e){return e instanceof Element||e instanceof r(e).Element}function l(e){return e instanceof HTMLElement||e instanceof r(e).HTMLElement}function c(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof r(e).ShadowRoot)}function u(e){let{overflow:t,overflowX:i,overflowY:n,display:r}=g(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+i)&&!["inline","contents"].includes(r)}function d(e){return["table","td","th"].includes(n(e))}function h(e){let t=f(),i=g(e);return"none"!==i.transform||"none"!==i.perspective||!!i.containerType&&"normal"!==i.containerType||!t&&!!i.backdropFilter&&"none"!==i.backdropFilter||!t&&!!i.filter&&"none"!==i.filter||["transform","perspective","filter"].some(e=>(i.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(i.contain||"").includes(e))}function p(e){let t=v(e);for(;l(t)&&!m(t);){if(h(t))return t;t=v(t)}return null}function f(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function m(e){return["html","body","#document"].includes(n(e))}function g(e){return r(e).getComputedStyle(e)}function y(e){return o(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function v(e){if("html"===n(e))return e;let t=e.assignedSlot||e.parentNode||c(e)&&e.host||a(e);return c(t)?t.host:t}i.d(t,{Dx:()=>g,Jj:()=>r,Kx:()=>function e(t,i,n){var a;void 0===i&&(i=[]),void 0===n&&(n=!0);let s=function e(t){let i=v(t);return m(i)?t.ownerDocument?t.ownerDocument.body:t.body:l(i)&&u(i)?i:e(i)}(t),o=s===(null==(a=t.ownerDocument)?void 0:a.body),c=r(s);return o?i.concat(c,c.visualViewport||[],u(s)?s:[],c.frameElement&&n?e(c.frameElement):[]):i.concat(s,e(s,[],n))},Lw:()=>y,Ow:()=>v,Pf:()=>f,Py:()=>m,Re:()=>l,Ze:()=>d,Zq:()=>c,ao:()=>u,gQ:()=>p,hT:()=>h,kK:()=>o,tF:()=>a,wk:()=>n})},48703:(e,t,i)=>{"use strict";i.d(t,{Fp:()=>a,GW:()=>o,I4:()=>g,JB:()=>R,KX:()=>k,NM:()=>s,Qq:()=>y,Rn:()=>m,VV:()=>r,Wh:()=>v,gy:()=>w,hp:()=>f,i8:()=>b,k3:()=>p,ku:()=>h,mA:()=>n,pw:()=>S,uZ:()=>d,yd:()=>_,ze:()=>l});let n=["top","right","bottom","left"],r=Math.min,a=Math.max,s=Math.round,o=Math.floor,l=e=>({x:e,y:e}),c={left:"right",right:"left",bottom:"top",top:"bottom"},u={start:"end",end:"start"};function d(e,t,i){return a(e,r(t,i))}function h(e,t){return"function"==typeof e?e(t):e}function p(e){return e.split("-")[0]}function f(e){return e.split("-")[1]}function m(e){return"x"===e?"y":"x"}function g(e){return"y"===e?"height":"width"}function y(e){return["top","bottom"].includes(p(e))?"y":"x"}function v(e){return m(y(e))}function b(e,t,i){void 0===i&&(i=!1);let n=f(e),r=v(e),a=g(r),s="x"===r?n===(i?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=S(s)),[s,S(s)]}function w(e){let t=S(e);return[x(e),t,x(t)]}function x(e){return e.replace(/start|end/g,e=>u[e])}function k(e,t,i,n){let r=f(e),a=function(e,t,i){let n=["left","right"],r=["right","left"];switch(e){case"top":case"bottom":if(i)return t?r:n;return t?n:r;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(p(e),"start"===i,n);return r&&(a=a.map(e=>e+"-"+r),t&&(a=a.concat(a.map(x)))),a}function S(e){return e.replace(/left|right|bottom|top/g,e=>c[e])}function _(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function R(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}},3402:(e,t,i)=>{"use strict";i.d(t,{EW:()=>a});var n=i(28964);let r=0;function a(){(0,n.useEffect)(()=>{var e,t;let i=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=i[0])&&void 0!==e?e:s()),document.body.insertAdjacentElement("beforeend",null!==(t=i[1])&&void 0!==t?t:s()),r++,()=>{1===r&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),r--}},[])}function s(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}},60018:(e,t,i)=>{"use strict";i.d(t,{M:()=>d});var n=i(79488),r=i(28964),a=i(93191),s=i(22251),o=i(85090);let l="focusScope.autoFocusOnMount",c="focusScope.autoFocusOnUnmount",u={bubbles:!1,cancelable:!0},d=(0,r.forwardRef)((e,t)=>{let{loop:i=!1,trapped:d=!1,onMountAutoFocus:g,onUnmountAutoFocus:y,...v}=e,[b,w]=(0,r.useState)(null),x=(0,o.W)(g),k=(0,o.W)(y),S=(0,r.useRef)(null),_=(0,a.e)(t,e=>w(e)),R=(0,r.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,r.useEffect)(()=>{if(d){function e(e){if(R.paused||!b)return;let t=e.target;b.contains(t)?S.current=t:f(S.current,{select:!0})}function t(e){if(R.paused||!b)return;let t=e.relatedTarget;null===t||b.contains(t)||f(S.current,{select:!0})}document.addEventListener("focusin",e),document.addEventListener("focusout",t);let i=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&f(b)});return b&&i.observe(b,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),i.disconnect()}}},[d,b,R.paused]),(0,r.useEffect)(()=>{if(b){m.add(R);let e=document.activeElement;if(!b.contains(e)){let t=new CustomEvent(l,u);b.addEventListener(l,x),b.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let i=document.activeElement;for(let n of e)if(f(n,{select:t}),document.activeElement!==i)return}(h(b).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&f(b))}return()=>{b.removeEventListener(l,x),setTimeout(()=>{let t=new CustomEvent(c,u);b.addEventListener(c,k),b.dispatchEvent(t),t.defaultPrevented||f(null!=e?e:document.body,{select:!0}),b.removeEventListener(c,k),m.remove(R)},0)}}},[b,x,k,R]);let E=(0,r.useCallback)(e=>{if(!i&&!d||R.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){let t=e.currentTarget,[r,a]=function(e){let t=h(e);return[p(t,e),p(t.reverse(),e)]}(t);r&&a?e.shiftKey||n!==a?e.shiftKey&&n===r&&(e.preventDefault(),i&&f(a,{select:!0})):(e.preventDefault(),i&&f(r,{select:!0})):n===t&&e.preventDefault()}},[i,d,R.paused]);return(0,r.createElement)(s.WV.div,(0,n.Z)({tabIndex:-1},v,{ref:_,onKeyDown:E}))});function h(e){let t=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)t.push(i.currentNode);return t}function p(e,t){for(let i of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(i,{upTo:t}))return i}function f(e,{select:t=!1}={}){if(e&&e.focus){var i;let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(i=e)instanceof HTMLInputElement&&"select"in i&&t&&e.select()}}let m=function(){let e=[];return{add(t){let i=e[0];t!==i&&(null==i||i.pause()),(e=g(e,t)).unshift(t)},remove(t){var i;null===(i=(e=g(e,t))[0])||void 0===i||i.resume()}}}();function g(e,t){let i=[...e],n=i.indexOf(t);return -1!==n&&i.splice(n,1),i}},27015:(e,t,i)=>{"use strict";i.d(t,{M:()=>l});var n,r=i(28964),a=i(9537);let s=(n||(n=i.t(r,2)))["useId".toString()]||(()=>void 0),o=0;function l(e){let[t,i]=r.useState(s());return(0,a.b)(()=>{e||i(e=>null!=e?e:String(o++))},[e]),e||(t?`radix-${t}`:"")}},27863:(e,t,i)=>{"use strict";i.d(t,{CR:()=>u,FC:()=>p,Jh:()=>l,KL:()=>f,XA:()=>c,ZT:()=>r,_T:()=>s,ev:()=>d,mG:()=>o,pi:()=>a,qq:()=>h});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var a=function(){return(a=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function s(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i}function o(e,t,i,n){return new(i||(i=Promise))(function(r,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(s,o)}l((n=n.apply(e,t||[])).next())})}function l(e,t){var i,n,r,a,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(l){return function(o){if(i)throw TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function c(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,a=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return s}function d(e,t,i){if(i||2==arguments.length)for(var n,r=0,a=t.length;r<a;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}function h(e){return this instanceof h?(this.v=e,this):new h(e)}function p(e,t,i){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,r=i.apply(e,t||[]),a=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){r[e]&&(n[e]=function(t){return new Promise(function(i,n){a.push([e,t,i,n])>1||o(e,t)})})}function o(e,t){try{var i;(i=r[e](t)).value instanceof h?Promise.resolve(i.value.v).then(l,c):u(a[0][2],i)}catch(e){u(a[0][3],e)}}function l(e){o("next",e)}function c(e){o("throw",e)}function u(e,t){e(t),a.shift(),a.length&&o(a[0][0],a[0][1])}}function f(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=c(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise(function(n,r){(function(e,t,i,n){Promise.resolve(n).then(function(t){e({value:t,done:i})},t)})(n,r,(t=e[i](t)).done,t.value)})}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError},40572:e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')}};